{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\unassignedrecord\\components\\tabComponents\\caseregistrationtab12.vue?vue&type=style&index=0&id=df014bd4&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\unassignedrecord\\components\\tabComponents\\caseregistrationtab12.vue","mtime":1678931188679},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\css-loader\\dist\\cjs.js","mtime":1678931311747},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1678931317953},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\postcss-loader\\src\\index.js","mtime":1678931314216},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1678931310798},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5yb29tMiB7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogMTAwJTsKfQoKLmhlYXJkIHsKCXdpZHRoOiAxMDAlOwoJaGVpZ2h0OiAzNTBweDsKCWRpc3BsYXk6IGZsZXg7Cn0KCi50YWJsZWJveCB7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogNzUlOwoJZmxvYXQ6IGxlZnQ7CgltYXJnaW4tdG9wOiAxMHB4Owp9CgouZWwtYnV0dG9uLS1tZWRpdW0uaXMtcm91bmQgewoJbWFyZ2luLXRvcDogMzBweDsKCW1hcmdpbi1sZWZ0OiA5MCU7Cn0KCi5mbGV4X2NlbnRlciB7CglkaXNwbGF5OiBmbGV4OwoJbWFyZ2luOiAwIGF1dG87Cn0K"},{"version":3,"sources":["caseregistrationtab12.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"caseregistrationtab12.vue","sourceRoot":"src/views/patientManagement/unassignedrecord/components/tabComponents","sourcesContent":["<template>\r\n\t<div class=\"room2\">\r\n\r\n\t\t<el-button type=\"primary\" round @click.native=\"handlerEdit('case')\">结案 </el-button>\r\n\r\n\t\t<!-- 表格 -->\r\n\t\t<div class=\"tablebox\">\r\n\t\t\t<vxe-table auto-resize border height=\"500\" align=\"center\" show-header-overflow show-overflow\r\n\t\t\t\t:row-config=\"{isHover: true}\" :data=\"tableData\">\r\n\t\t\t\t<vxe-column field=\"Name\" title=\"姓名\"></vxe-column>\r\n\t\t\t\t<vxe-column field=\"ResponsibilityName\" title=\"责任医生\"></vxe-column>\r\n\t\t\t\t<vxe-column field=\"OperatorOrganizationFirstName\" title=\"结案机构\"></vxe-column>\r\n\t\t\t\t<vxe-column field=\"StopResultName\" title=\"结案原因\"></vxe-column>\r\n\t\t\t\t<vxe-column field=\"StopTime\" title=\"停止治疗时间\"></vxe-column>\r\n\t\t\t\t<!-- <vxe-column field=\"StopTime\" title=\"结案时间\"></vxe-column> -->\r\n\t\t\t\t<vxe-column title=\"操作\" width=\"200\">\r\n\t\t\t\t\t<template #default=\"{ row }\">\r\n\t\t\t\t\t\t<div class=\"flex_center \">\r\n\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"handlerEdit('details2', row)\">查看详情</el-link>\r\n\t\t\t\t\t\t\t<div class=\"Divider\"></div>\r\n\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"handlerEdit('edit', row)\">编辑</el-link>\r\n\t\t\t\t\t\t\t<div class=\"Divider\"></div>\r\n\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"handlerEdit('recurrence', row)\">复发</el-link>\r\n\t\t\t\t\t\t\t<div class=\"Divider\"></div>\r\n\t\t\t\t\t\t\t<el-link type=\"danger\" @click=\"handlerEdit('delete', row)\">删除</el-link>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</vxe-column>\r\n\t\t\t</vxe-table>\r\n\r\n\t\t\t<RecurrenceEdit ref=\"recurrenceEdit\" @recurrenceEdit=\"recurrenceEdit\"></RecurrenceEdit>\r\n\t\t\t<Edit ref=\"edit\"></Edit>\r\n\t\t\t<CaseEdit ref=\"caseEdit\" @sumite=\"funplysettlementList\"></CaseEdit>\r\n\t\t\t<NewEdit ref=\"newedit\" @sumite=\"funplysettlementList\"></NewEdit>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport RecurrenceEdit from '../../../closurePatientManagement/components/recurrenceEdit.vue'\r\n\timport Edit from '../../../closurePatientManagement/components/Edit.vue'\r\n\timport CaseEdit from '../../../patientManagement/components/CaseEdit.vue'\r\n\timport NewEdit from '../../../patientManagement/components/newEdit.vue'\r\n\t// 结案\r\n\timport {\r\n\t\taddapplysettlement,\r\n\t\tplysettlementList,\r\n\t\tpulmonaryclosesrecordlist,\r\n\t\tdeletetuberculosisdiagnosiss\r\n\t} from \"@/api/PulmonaryClose.js\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tRecurrenceEdit,\r\n\t\t\tEdit,\r\n\t\t\tCaseEdit,\r\n\t\t\tNewEdit\r\n\t\t},\r\n\t\tprops: ['inputData'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {},\r\n\t\t\t\ttableData: [],\r\n\r\n\t\t\t\tcopyData: [{}],\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.copyData[0] = this.inputData\r\n\t\t\tthis.funplysettlementList()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取详情(数据获取无法在表格中渲染)\r\n\t\t\tasync funplysettlementList() {\r\n\t\t\t\tlet id = this.inputData.DiagnosisId\r\n\t\t\t\tconst res = await pulmonaryclosesrecordlist(id)\r\n\t\t\t\tthis.tableData = res.Response;\r\n\t\t\t},\r\n\t\t\thandlerEdit(flag, data) {\r\n\t\t\t\tlet id = this.inputData.DiagnosisId\r\n\t\t\t\tif (flag == 'case') {\r\n\t\t\t\t\tthis.$refs.caseEdit.show(flag,id)\r\n\t\t\t\t} else if (flag == 'details2') {\r\n\t\t\t\t\t//详情\r\n\t\t\t\t\tlet id = this.inputData.DiagnosisId\r\n\t\t\t\t\tthis.$refs.edit.show(flag, id)\r\n\t\t\t\t} else if (flag == 'edit') {\r\n\t\t\t\t\tthis.$refs.caseEdit.show(flag, data)\r\n\t\t\t\t} else if (flag == 'delete') {\r\n\t\t\t\t\t// 删除\r\n\t\t\t\t\tthis.$baseConfirm(\"确定要删除所选项吗？\", '删除', async () => {\r\n\t\t\t\t\t\t// id\r\n\t\t\t\t\t\tlet CloseId = data.CloseId\r\n\t\t\t\t\t\tconst res = await deletetuberculosisdiagnosiss(CloseId)\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tStatusCode,\r\n\t\t\t\t\t\t\tMessage,\r\n\t\t\t\t\t\t\tResponse\r\n\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\tthis.$baseMessage('删除成功', \"success\")\r\n\t\t\t\t\t\tthis.funplysettlementList()\r\n\t\t\t\t\t},null,\"error\",)\r\n\t\t\t\t\tthis.funplysettlementList()\r\n\t\t\t\t} else if (flag == 'recurrence') {\r\n\t\t\t\t\t this.$refs.newedit.show(flag, data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//创建结案\r\n\t\t\tasync caseEdit(flag, ids, data) {\r\n\r\n\t\t\t\tconst res = await addapplysettlement({\r\n\t\t\t\t\t...ids,\r\n\t\t\t\t\t...data\r\n\t\t\t\t})\r\n\t\t\t\tlet {\r\n\t\t\t\t\tStatusCode,\r\n\t\t\t\t\tMessage,\r\n\t\t\t\t\tResponse,\r\n\t\t\t\t} = res;\r\n\t\t\t\tif (!Response || StatusCode !== 200) {\r\n\t\t\t\t\treturn this.$baseMessage(Message || '添加失败', 'errror')\r\n\t\t\t\t}\r\n\t\t\t\tthis.$baseMessage(Message, \"success\");\r\n\r\n\t\t\t},\r\n\t\t\t// 复发\r\n\t\t\trecurrenceEdit() {},\r\n\r\n\r\n\t\t},\r\n        watch: {\r\n        \tinputData: function(val) {\r\n        \t\tthis.funplysettlementList()\r\n        \t}\r\n        },\r\n\r\n\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.room2 {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.heard {\r\n\t\twidth: 100%;\r\n\t\theight: 350px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.tablebox {\r\n\t\twidth: 100%;\r\n\t\theight: 75%;\r\n\t\tfloat: left;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.el-button--medium.is-round {\r\n\t\tmargin-top: 30px;\r\n\t\tmargin-left: 90%;\r\n\t}\r\n\r\n\t.flex_center {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n</style>\r\n"]}]}