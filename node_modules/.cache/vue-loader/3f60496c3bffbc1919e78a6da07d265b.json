{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\components\\Editor\\Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\components\\Editor\\Editor.vue","mtime":1678931188504},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyByZXF1aXJlIHN0eWxlcw0KaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmNvcmUuY3NzJw0KaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLnNub3cuY3NzJw0KaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmJ1YmJsZS5jc3MnDQppbXBvcnQgeyBxdWlsbEVkaXRvciB9IGZyb20gJ3Z1ZS1xdWlsbC1lZGl0b3InDQovLyDorr7nva50aXRsZQ0KaW1wb3J0IHsgYWRkUXVpbGxUaXRsZSB9IGZyb20gJy4vcXVpbGwtdGl0bGUuanMnDQppbXBvcnQgeyBmaWxlU3RvcmFnZUluZm91cGxvYWQgfSBmcm9tICJAL2FwaS9GaWxlU3RvcmFnZUluZm8uanMiOw0KDQovLyDlt6XlhbfmoI8NCmNvbnN0IHRvb2xiYXJPcHRpb25zID0gWw0KICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdzdHJpa2UnXSwgLy8gdG9nZ2xlZCBidXR0b25zDQogIFsnYmxvY2txdW90ZScsICdjb2RlLWJsb2NrJ10sDQogIFt7ICdoZWFkZXInOiAxIH0sIHsgJ2hlYWRlcic6IDIgfV0sDQogIFt7ICdsaXN0JzogJ29yZGVyZWQnIH0sIHsgJ2xpc3QnOiAnYnVsbGV0JyB9XSwNCiAgW3sgJ3NjcmlwdCc6ICdzdWInIH0sIHsgJ3NjcmlwdCc6ICdzdXBlcicgfV0sIC8vIHN1cGVyc2NyaXB0L3N1YnNjcmlwdA0KICBbeyAnaW5kZW50JzogJy0xJyB9LCB7ICdpbmRlbnQnOiAnKzEnIH1dLCAvLyBvdXRkZW50L2luZGVudA0KICBbeyAnZGlyZWN0aW9uJzogJ3J0bCcgfV0sDQogIFt7ICdzaXplJzogWydzbWFsbCcsIGZhbHNlLCAnbGFyZ2UnLCAnaHVnZSddIH1dLA0KICBbeyAnaGVhZGVyJzogWzEsIDIsIDMsIDQsIDUsIDYsIGZhbHNlXSB9XSwNCiAgW3sgJ2ZvbnQnOiBbXSB9XSwNCiAgW3sgJ2NvbG9yJzogW10gfSwgeyAnYmFja2dyb3VuZCc6IFtdIH1dLCAvLyBkcm9wZG93biB3aXRoIGRlZmF1bHRzIGZyb20gdGhlbWUNCiAgW3sgJ2FsaWduJzogW10gfV0sDQogIFt7ICdjbGVhbic6ICfmuIXpmaQnIH1dLCAvLyByZW1vdmUgZm9ybWF0dGluZyBidXR0b24NCiAgLy8gWydsaW5rJywgJ2ltYWdlJywgJ3ZpZGVvJ10NCiAgWydpbWFnZScsICd2aWRlbyddDQpdDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdSaWNoVGV4dEVkaXRvcicsDQogIG1vZGVsOiB7DQogICAgcHJvcDogJ2NvbnRlbnQnLA0KICAgIGV2ZW50OiAnY2hhbmdlJw0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgcXVpbGxFZGl0b3INCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBjb250ZW50OiB7IC8vIOi/lOWbnueahGh0bWzniYfmrrUNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfSwNCiAgICB1cGxvYWRJbWdDb25maWc6IHsgLy8g5Zu+54mH5LiK5Lyg6YWN572uIC0g6Iul5LiN6YWN572u5YiZ5L2/55SocXVpbGxFZGl0b3Lpu5jorqTmlrnlvI/vvIzljbNiYXNlNjTmlrnlvI8NCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQgKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHVwbG9hZFVybDogJycsIC8vIOWbvueJh+S4iuS8oOWcsOWdgA0KICAgICAgICAgIG1heFNpemU6IDIsIC8vIOWbvueJh+S4iuS8oOWkp+Wwj+mZkOWItu+8jOm7mOiupOS4jei2hei/hzJNDQogICAgICAgICAgbmFtZTogJ0ZpbGVkYXRhJyAvLyDlm77niYfkuIrkvKDlrZfmrrUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgdXBsb2FkVmlkZW9Db25maWc6IHsgLy8g6KeG6aKR5LiK5Lyg6YWN572uDQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICB1cGxvYWRVcmw6ICcnLCAvLyDkuIrkvKDlnLDlnYANCiAgICAgICAgICBtYXhTaXplOiAxMCwgLy8g5Zu+54mH5LiK5Lyg5aSn5bCP6ZmQ5Yi277yM6buY6K6k5LiN6LaF6L+HMk0NCiAgICAgICAgICBuYW1lOiAnRmlsZWRhdGEnIC8vIOWbvueJh+S4iuS8oOWtl+autQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhICgpIHsNCiAgICBsZXQgX3NlbGYgPSB0aGlzOw0KICAgIHJldHVybiB7DQogICAgICBsb2FkaW5nOiBmYWxzZSwgLy8g5Yqg6L29bG9hZGluZw0KICAgICAgZWRpdG9yT3B0aW9uOiB7DQogICAgICAgIHBsYWNlaG9sZGVyOiAnJywNCiAgICAgICAgdGhlbWU6ICdzbm93JywgLy8gb3IgJ2J1YmJsZScNCiAgICAgICAgbW9kdWxlczogew0KICAgICAgICAgIHRvb2xiYXI6IHsNCiAgICAgICAgICAgIGNvbnRhaW5lcjogdG9vbGJhck9wdGlvbnMsIC8vIOW3peWFt+agjw0KICAgICAgICAgICAgaGFuZGxlcnM6IHsNCiAgICAgICAgICAgICAgJ3ZpZGVvJzogZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgX3NlbGYudmlkZW9EaWFsb2cuc2hvdyA9IHRydWU7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQoNCiAgICAgIC8vIOWbvueJh+S4iuS8oOWPmOmHjw0KICAgICAgZmlsZUxpc3Q6IFtdLA0KDQogICAgICAvLyDop4bpopHkuIrkvKDlj5jph48NCiAgICAgIHZpZGVvRGlhbG9nOiB7DQogICAgICAgIHNob3c6IGZhbHNlLA0KICAgICAgICB2aWRlb0xpbms6ICcnLA0KICAgICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICAvLyDliJ3lp4vnu5nnvJbovpHlmajorr7nva50aXRsZQ0KICAgIGFkZFF1aWxsVGl0bGUoKQ0KDQogICAgbGV0IHRvb2xiYXIgPSB0aGlzLiRyZWZzWydteVF1aWxsRWRpdG9yJ10ucXVpbGwuZ2V0TW9kdWxlKCd0b29sYmFyJyk7DQogICAgLy8g5piv5ZCm5byA5ZCv5Zu+54mH5LiK5Lyg5Yiw5pyN5Yqh5Zmo5Yqf6IO9DQogICAgaWYgKHRoaXMudXBsb2FkSW1nQ29uZmlnLnVwbG9hZFVybCkgew0KICAgICAgdG9vbGJhci5hZGRIYW5kbGVyKCdpbWFnZScsIHRoaXMuYWRkSW1hZ2VIYW5kbGVyKTsNCiAgICB9DQoNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOaWh+acrOe8lui+kQ0KICAgIG9uRWRpdG9yQ2hhbmdlICh7IHF1aWxsLCBodG1sLCB0ZXh0IH0pIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpjb250ZW50JywgaHRtbCkNCiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGh0bWwpDQogICAgfSwNCiAgICBoaWRlTG9hZGluZyAoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgIH0sDQogICAgLy8gLS0tLS0tLS0tIOWbvueJh+S4iuS8oOebuOWFsyBzdGFydCAtLS0tLS0tLS0NCiAgICBhZGRJbWFnZUhhbmRsZXIgKHZhbHVlKSB7DQogICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgLy8g6Kem5Y+RaW5wdXTmoYbpgInmi6nlm77niYfmlofku7YNCiAgICAgICAgdGhpcy4kcmVmc1snbXlpbnB1dCddLmNsaWNrKCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnF1aWxsLmZvcm1hdCgnaW1hZ2UnLCBmYWxzZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOaKiuW3sue7j+S4iuS8oOeahOWbvueJh+aYvuekuuWbnuWvjOaWh+acrOe8lui+keahhuS4rQ0KICAgIHVwbG9hZFN1Y2Nlc3MgKGltZ3VybCkgew0KICAgICAgbGV0IHF1aWxsID0gdGhpcy4kcmVmc1snbXlRdWlsbEVkaXRvciddLnF1aWxsDQogICAgICBsZXQgcmFuZ2UgPSBxdWlsbC5nZXRTZWxlY3Rpb24oKQ0KICAgICAgbGV0IGluZGV4ID0gMDsNCiAgICAgIGlmIChyYW5nZSA9PSBudWxsKSB7DQogICAgICAgIGluZGV4ID0gMDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGluZGV4ID0gcmFuZ2UuaW5kZXg7IC8vIOiOt+WPluWFieagh+aJgOWcqOS9jee9rg0KICAgICAgfQ0KICAgICAgLy8g5o+S5YWlDQogICAgICBxdWlsbC5pbnNlcnRFbWJlZChpbmRleCwgJ2ltYWdlJywgaW1ndXJsKSAvLyBpbWd1cmzmmK/mnI3liqHlmajov5Tlm57nmoTlm77niYfpk77mjqXlnLDlnYANCiAgICAgIC8vIOiwg+aVtOWFieagh+WIsOacgOWQjg0KICAgICAgcXVpbGwuc2V0U2VsZWN0aW9uKGluZGV4ICsgMSkNCiAgICB9LA0KICAgIC8vIGVsLeaWh+S7tuS4iuS8oOe7hOS7tg0KICAgIG9uQmVmb3JlVXBsb2FkIChmaWxlKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICBsZXQgYWNjZXB0QXJyID0gWydpbWFnZS9qcGcnLCAnaW1hZ2UvanBlZycsICdpbWFnZS9naWYnLCAnaW1hZ2UvcG5nJ10NCiAgICAgIGNvbnN0IGlzSU1BR0UgPSBhY2NlcHRBcnIuaW5jbHVkZXMoZmlsZS50eXBlKQ0KICAgICAgY29uc3QgaXNMdDFNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCB0aGlzLnVwbG9hZEltZ0NvbmZpZy5tYXhTaXplDQogICAgICBpZiAoIWlzSU1BR0UpIHsNCiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpDQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPquiDveaPkuWFpeWbvueJh+agvOW8jyEnKQ0KICAgICAgfQ0KICAgICAgaWYgKCFpc0x0MU0pIHsNCiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpDQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOS4iuS8oOaWh+S7tuWkp+Wwj+S4jeiDvei2hei/hyAke3RoaXMudXBsb2FkSW1nQ29uZmlnLm1heFNpemV9TUIhYCkNCiAgICAgIH0NCiAgICAgIHJldHVybiBpc0x0MU0gJiYgaXNJTUFHRQ0KICAgIH0sDQogICAgLy/kuIrkvKDop4bpopENCiAgICBhc3luYyBodHRwUmVxdWVzdCAoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlcyIsIGZpbGUuZmlsZSkNCiAgICAgIC8v5LiK5LygDQogICAgICBsZXQgcmVzID0gYXdhaXQgZmlsZVN0b3JhZ2VJbmZvdXBsb2FkKCdJbnNwZWN0QXBwbGljYXRpb24nLCAnJywgZm9ybURhdGEpDQogICAgICByZXMuUmVzcG9uc2UuZm9yRWFjaCgoaSkgPT4gew0KICAgICAgICAvLyB0aGlzLmFkZFZpZGVvTGluayhwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0UgKyBpLkZpbGVQYXRoLnNsaWNlKDgsIGkuRmlsZVBhdGgubGVuZ3RoKSkNCiAgICAgICAgdGhpcy5hZGRWaWRlb0xpbmsocHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFICsgaS5GaWxlUGF0aCkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmlofku7bkuIrkvKDmiJDlip/ml7bnmoTpkqnlrZANCiAgICBvblN1Y2Nlc3MgKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgeyAvLyAtLS0tIOazqOaEj+i/memDqOWIhumcgOimgeaUueS4uuWvueW6lOeahOi/lOWbnuagvOW8jw0KICAgICAgdGhpcy5oaWRlTG9hZGluZygpDQogICAgICBpZiAocmVzcG9uc2UucmV0Q29kZSA9PT0gJzAwJykgew0KICAgICAgICB0aGlzLnVwbG9hZFN1Y2Nlc3MocmVzcG9uc2UudXJsKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aSx6LSlJykNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOaWh+S7tuS4iuS8oOWksei0peaXtueahOmSqeWtkA0KICAgIG9uRXJyb3IgKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLmhpZGVMb2FkaW5nKCkNCiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWksei0pScpDQogICAgfSwNCg0KICAgIC8vIC0tLS0tLS0tLSDlm77niYfkuIrkvKDnm7jlhbMgZW5kIC0tLS0tLS0tLQ0KDQogICAgLy8gLS0tLS0tLS0tIOinhumikeS4iuS8oOebuOWFsyBzdGFydCAtLS0tLS0tLS0NCg0KICAgIGFkZFZpZGVvTGluayAodmlkZW9MaW5rKSB7DQogICAgICBpZiAoIXZpZGVvTGluaykgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+i+k+WFpeinhumikeWcsOWdgCcpDQogICAgICB0aGlzLnZpZGVvRGlhbG9nLnNob3cgPSBmYWxzZQ0KICAgICAgbGV0IHF1aWxsID0gdGhpcy4kcmVmc1snbXlRdWlsbEVkaXRvciddLnF1aWxsDQogICAgICBsZXQgcmFuZ2UgPSBxdWlsbC5nZXRTZWxlY3Rpb24oKQ0KICAgICAgbGV0IGluZGV4ID0gMDsNCiAgICAgIGlmIChyYW5nZSA9PSBudWxsKSB7DQogICAgICAgIGluZGV4ID0gMDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGluZGV4ID0gcmFuZ2UuaW5kZXg7DQogICAgICB9DQogICAgICAvLyDmj5LlhaUNCiAgICAgIHF1aWxsLmluc2VydEVtYmVkKGluZGV4LCAndmlkZW8nLCB2aWRlb0xpbmspDQogICAgICAvLyDosIPmlbTlhYnmoIfliLDmnIDlkI4NCiAgICAgIHF1aWxsLnNldFNlbGVjdGlvbihpbmRleCArIDEpDQogICAgfSwNCg0KICAgIC8vIGVsLeaWh+S7tuS4iuS8oOe7hOS7tg0KICAgIG9uQmVmb3JlVXBsb2FkVmlkZW8gKGZpbGUpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIGxldCBhY2NlcHRBcnIgPSBbJ3ZpZGVvL21wNCddDQogICAgICBjb25zdCBpc1ZpZGVvID0gYWNjZXB0QXJyLmluY2x1ZGVzKGZpbGUudHlwZSkNCiAgICAgIGNvbnN0IGlzTHQxTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgdGhpcy51cGxvYWRWaWRlb0NvbmZpZy5tYXhTaXplDQogICAgICBpZiAoIWlzVmlkZW8pIHsNCiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpDQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPquiDveS4iuS8oG1wNOagvOW8j+aWh+S7tiEnKQ0KICAgICAgfQ0KICAgICAgaWYgKCFpc0x0MU0pIHsNCiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpDQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOS4iuS8oOaWh+S7tuWkp+Wwj+S4jeiDvei2hei/hyAke3RoaXMudXBsb2FkVmlkZW9Db25maWcubWF4U2l6ZX1NQiFgKQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGlzTHQxTSAmJiBpc1ZpZGVvDQogICAgfSwNCiAgICAvLyDmlofku7bkuIrkvKDmiJDlip/ml7bnmoTpkqnlrZANCiAgICBvblN1Y2Nlc3NWaWRlbyAocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7IC8vIC0tLS0g5rOo5oSP6L+Z6YOo5YiG6ZyA6KaB5pS55Li65a+55bqU55qE6L+U5Zue5qC85byPDQogICAgICB0aGlzLmhpZGVMb2FkaW5nKCkNCiAgICAgIGlmIChyZXNwb25zZS5yZXRDb2RlID09PSAnMDAnKSB7DQogICAgICAgIHRoaXMuYWRkVmlkZW9MaW5rKHJlc3BvbnNlLnVybCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWksei0pScpDQogICAgICB9DQogICAgfSwNCiAgICAvLyAtLS0tLS0tLS0g6KeG6aKR5LiK5Lyg55u45YWzIGVuZCAtLS0tLS0tLS0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Editor.vue","sourceRoot":"src/components/Editor","sourcesContent":["<!--富文本编辑器-->\r\n<template>\r\n  <div class=\"RichTextEditor-Wrap\" v-loading=\"loading\">\r\n    <quill-editor\r\n      :content=\"content\"\r\n      :options=\"editorOption\"\r\n      class=\"ql-editor\"\r\n      ref=\"myQuillEditor\"\r\n      @change=\"onEditorChange($event)\"\r\n    ></quill-editor>\r\n\r\n    <!-- 图片上传组件辅助-->\r\n    <el-upload\r\n      v-show=\"false\"\r\n      :show-file-list=\"false\"\r\n      :name=\"uploadImgConfig.name\"\r\n      :multiple=\"false\"\r\n      :action=\"uploadImgConfig.uploadUrl\"\r\n      :before-upload=\"onBeforeUpload\"\r\n      :on-success=\"onSuccess\"\r\n      :on-error=\"onError\"\r\n      :file-list=\"fileList\"\r\n    >\r\n      <button ref=\"myinput\">上传文件</button>\r\n    </el-upload>\r\n\r\n    <!--视频上传-->\r\n    <div>\r\n      <el-dialog\r\n        :close-on-click-modal=\"false\"\r\n        width=\"50%\"\r\n        style=\"margin-top: 1px\"\r\n        title=\"视频上传\"\r\n        :visible.sync=\"videoDialog.show\"\r\n        append-to-body\r\n      >\r\n        <el-tabs v-model=\"videoDialog.activeName\">\r\n          <el-tab-pane label=\"添加视频链接\" name=\"first\">\r\n            <el-input v-model=\"videoDialog.videoLink\" placeholder=\"请输入视频链接\" clearable></el-input>\r\n            <el-button type=\"primary\" size=\"small\" style=\"margin: 20px 0px 0px 0px\" @click=\"addVideoLink(videoDialog.videoLink)\">\r\n              添加\r\n            </el-button>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"本地视频上传\" name=\"second\">\r\n            <el-upload\r\n              style=\"text-align: center\"\r\n              drag\r\n              action=\"\"\r\n              :show-file-list=\"false\"\r\n              :name=\"uploadVideoConfig.name\"\r\n              v-loading=\"loading\"\r\n              accept=\"video/*\"\r\n              :multiple=\"false\"\r\n              :http-request=\"httpRequest\"\r\n            >\r\n              <i class=\"el-icon-upload\"></i>\r\n              <div class=\"el-upload__text\">\r\n                将文件拖到此处，或\r\n                <em>点击上传</em>\r\n              </div>\r\n              <div class=\"el-upload__tip\" slot=\"tip\">只能上传MP4文件，且不超过{{ uploadVideoConfig.maxSize }}M</div>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// require styles\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport { quillEditor } from 'vue-quill-editor'\r\n// 设置title\r\nimport { addQuillTitle } from './quill-title.js'\r\nimport { fileStorageInfoupload } from \"@/api/FileStorageInfo.js\";\r\n\r\n// 工具栏\r\nconst toolbarOptions = [\r\n  ['bold', 'italic', 'underline', 'strike'], // toggled buttons\r\n  ['blockquote', 'code-block'],\r\n  [{ 'header': 1 }, { 'header': 2 }],\r\n  [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n  [{ 'script': 'sub' }, { 'script': 'super' }], // superscript/subscript\r\n  [{ 'indent': '-1' }, { 'indent': '+1' }], // outdent/indent\r\n  [{ 'direction': 'rtl' }],\r\n  [{ 'size': ['small', false, 'large', 'huge'] }],\r\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n  [{ 'font': [] }],\r\n  [{ 'color': [] }, { 'background': [] }], // dropdown with defaults from theme\r\n  [{ 'align': [] }],\r\n  [{ 'clean': '清除' }], // remove formatting button\r\n  // ['link', 'image', 'video']\r\n  ['image', 'video']\r\n]\r\nexport default {\r\n  name: 'RichTextEditor',\r\n  model: {\r\n    prop: 'content',\r\n    event: 'change'\r\n  },\r\n  components: {\r\n    quillEditor\r\n  },\r\n  props: {\r\n    content: { // 返回的html片段\r\n      type: String,\r\n      default: ''\r\n    },\r\n    uploadImgConfig: { // 图片上传配置 - 若不配置则使用quillEditor默认方式，即base64方式\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          uploadUrl: '', // 图片上传地址\r\n          maxSize: 2, // 图片上传大小限制，默认不超过2M\r\n          name: 'Filedata' // 图片上传字段\r\n        }\r\n      }\r\n    },\r\n    uploadVideoConfig: { // 视频上传配置\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          uploadUrl: '', // 上传地址\r\n          maxSize: 10, // 图片上传大小限制，默认不超过2M\r\n          name: 'Filedata' // 图片上传字段\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    let _self = this;\r\n    return {\r\n      loading: false, // 加载loading\r\n      editorOption: {\r\n        placeholder: '',\r\n        theme: 'snow', // or 'bubble'\r\n        modules: {\r\n          toolbar: {\r\n            container: toolbarOptions, // 工具栏\r\n            handlers: {\r\n              'video': function (value) {\r\n                _self.videoDialog.show = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n\r\n      // 图片上传变量\r\n      fileList: [],\r\n\r\n      // 视频上传变量\r\n      videoDialog: {\r\n        show: false,\r\n        videoLink: '',\r\n        activeName: 'first'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 初始给编辑器设置title\r\n    addQuillTitle()\r\n\r\n    let toolbar = this.$refs['myQuillEditor'].quill.getModule('toolbar');\r\n    // 是否开启图片上传到服务器功能\r\n    if (this.uploadImgConfig.uploadUrl) {\r\n      toolbar.addHandler('image', this.addImageHandler);\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    // 文本编辑\r\n    onEditorChange ({ quill, html, text }) {\r\n      this.$emit('update:content', html)\r\n      this.$emit('change', html)\r\n    },\r\n    hideLoading () {\r\n      this.loading = false\r\n    },\r\n    // --------- 图片上传相关 start ---------\r\n    addImageHandler (value) {\r\n      if (value) {\r\n        // 触发input框选择图片文件\r\n        this.$refs['myinput'].click();\r\n      } else {\r\n        this.quill.format('image', false)\r\n      }\r\n    },\r\n    // 把已经上传的图片显示回富文本编辑框中\r\n    uploadSuccess (imgurl) {\r\n      let quill = this.$refs['myQuillEditor'].quill\r\n      let range = quill.getSelection()\r\n      let index = 0;\r\n      if (range == null) {\r\n        index = 0;\r\n      } else {\r\n        index = range.index; // 获取光标所在位置\r\n      }\r\n      // 插入\r\n      quill.insertEmbed(index, 'image', imgurl) // imgurl是服务器返回的图片链接地址\r\n      // 调整光标到最后\r\n      quill.setSelection(index + 1)\r\n    },\r\n    // el-文件上传组件\r\n    onBeforeUpload (file) {\r\n      this.loading = true\r\n      let acceptArr = ['image/jpg', 'image/jpeg', 'image/gif', 'image/png']\r\n      const isIMAGE = acceptArr.includes(file.type)\r\n      const isLt1M = file.size / 1024 / 1024 < this.uploadImgConfig.maxSize\r\n      if (!isIMAGE) {\r\n        this.hideLoading()\r\n        this.$message.error('只能插入图片格式!')\r\n      }\r\n      if (!isLt1M) {\r\n        this.hideLoading()\r\n        this.$message.error(`上传文件大小不能超过 ${this.uploadImgConfig.maxSize}MB!`)\r\n      }\r\n      return isLt1M && isIMAGE\r\n    },\r\n    //上传视频\r\n    async httpRequest (file, fileList) {\r\n      let formData = new FormData();\r\n      formData.append(\"files\", file.file)\r\n      //上传\r\n      let res = await fileStorageInfoupload('InspectApplication', '', formData)\r\n      res.Response.forEach((i) => {\r\n        // this.addVideoLink(process.env.VUE_APP_BASE + i.FilePath.slice(8, i.FilePath.length))\r\n        this.addVideoLink(process.env.VUE_APP_BASE + i.FilePath)\r\n      })\r\n    },\r\n    // 文件上传成功时的钩子\r\n    onSuccess (response, file, fileList) { // ---- 注意这部分需要改为对应的返回格式\r\n      this.hideLoading()\r\n      if (response.retCode === '00') {\r\n        this.uploadSuccess(response.url)\r\n      } else {\r\n        this.$message.error('上传失败')\r\n      }\r\n    },\r\n    // 文件上传失败时的钩子\r\n    onError (file, fileList) {\r\n      this.hideLoading()\r\n      this.$message.error('上传失败')\r\n    },\r\n\r\n    // --------- 图片上传相关 end ---------\r\n\r\n    // --------- 视频上传相关 start ---------\r\n\r\n    addVideoLink (videoLink) {\r\n      if (!videoLink) return this.$message.error('请输入视频地址')\r\n      this.videoDialog.show = false\r\n      let quill = this.$refs['myQuillEditor'].quill\r\n      let range = quill.getSelection()\r\n      let index = 0;\r\n      if (range == null) {\r\n        index = 0;\r\n      } else {\r\n        index = range.index;\r\n      }\r\n      // 插入\r\n      quill.insertEmbed(index, 'video', videoLink)\r\n      // 调整光标到最后\r\n      quill.setSelection(index + 1)\r\n    },\r\n\r\n    // el-文件上传组件\r\n    onBeforeUploadVideo (file) {\r\n      this.loading = true\r\n      let acceptArr = ['video/mp4']\r\n      const isVideo = acceptArr.includes(file.type)\r\n      const isLt1M = file.size / 1024 / 1024 < this.uploadVideoConfig.maxSize\r\n      if (!isVideo) {\r\n        this.hideLoading()\r\n        this.$message.error('只能上传mp4格式文件!')\r\n      }\r\n      if (!isLt1M) {\r\n        this.hideLoading()\r\n        this.$message.error(`上传文件大小不能超过 ${this.uploadVideoConfig.maxSize}MB!`)\r\n      }\r\n      return isLt1M && isVideo\r\n    },\r\n    // 文件上传成功时的钩子\r\n    onSuccessVideo (response, file, fileList) { // ---- 注意这部分需要改为对应的返回格式\r\n      this.hideLoading()\r\n      if (response.retCode === '00') {\r\n        this.addVideoLink(response.url)\r\n      } else {\r\n        this.$message.error('上传失败')\r\n      }\r\n    },\r\n    // --------- 视频上传相关 end ---------\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.RichTextEditor-Wrap .ql-container {\r\n  height: 300px;\r\n}\r\n\r\n.RichTextEditor-Wrap .ql-editor {\r\n  padding: 0;\r\n}\r\n\r\n.RichTextEditor-Wrap .ql-tooltip {\r\n  left: 5px !important;\r\n}\r\n</style>\r\n\r\n"]}]}