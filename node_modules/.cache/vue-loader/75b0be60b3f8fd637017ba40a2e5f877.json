{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\layout\\components\\AppHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\layout\\components\\AppHeader.vue","mtime":1678931188545},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRMb2dpbkluZm8gfSBmcm9tICdAL3V0aWxzL2F1dGgnDQppbXBvcnQgeyBzc29Mb2dvdXQsIHNzb2F1dGh1cmwgfSBmcm9tICdAL2FwaS9Tc28nDQppbXBvcnQgeyByZW1vdmVXYXRlcm1hcmssIHNldFdhdGVyTWFyayB9IGZyb20gIkAvdXRpbHMvd2F0ZXJNYXJrIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0FwcEhlYWRlcicsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBiaWdUaXRsZTogdGhpcy4kYmlnVGl0bGUsDQogICAgICB1c2VySW5mbzoge30sDQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLnVzZXJJbmZvID0gdGhpcy4kdXRpbHNGdW4uZ2V0VXNlckluZm8oKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v5Liq5Lq65L+h5oGv5p+l55yLDQogICAgZ290b0luZm8gKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC91c2VySW5mb2ApDQogICAgfSwNCiAgICAvL+afpeeci+Wkp+Wxjw0KICAgIGdvdG9JbmRleENvbnRyb2wgKCkgew0KICAgICAgbGV0IHJvdXRlVXJsID0gdGhpcy4kcm91dGVyLnJlc29sdmUoew0KICAgICAgICBwYXRoOiAiL2luZGV4Q29udHJvbCIsDQogICAgICAgIHF1ZXJ5OiB7IGlkOiA5NiB9DQogICAgICB9KTsNCiAgICAgIHdpbmRvdy5vcGVuKHJvdXRlVXJsLmhyZWYsICdfYmxhbmsnKTsNCiAgICB9LA0KICAgIGdvdG9NZW5IdSAoKSB7DQogICAgICAvLyBodHRwOi8vemhqay5qeGNkYy5jbjo4ODY5L3NtYXJ0Y2RjDQogICAgICAvLyBodHRwOi8vMTgyLjEwNi4xMjkuMTA0OjgxODEvc21hcnRjZGMNCiAgICAgIHdpbmRvdy5vcGVuKCdodHRwOi8vemhqay5qeGNkYy5jbjo4ODY5L3NtYXJ0Y2RjJywgJ19ibGFuaycpOw0KICAgIH0sDQogICAgbG9nb3V0ICgpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumumAgOWHuuezu+e7n+WQl++8nycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIGxldCBzZXNzaW9uSWQgPSB0aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLnNlc3Npb25JZDsNCiAgICAgICAgaWYgKHNlc3Npb25JZCkgew0KICAgICAgICAgIHNzb0xvZ291dCh7IGJhY2s6ICJzc3NzIiB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHNzb2F1dGh1cmwoeyBjbGllbnRMb2dpblVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9SRURJUkVDVFVSTCArICdyZWRpcmVjdCcgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHJlcy5SZXNwb25zZSwgJ19zZWxmJyk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0pDQogICAgICAgICAgcmVtb3ZlV2F0ZXJtYXJrKCk7DQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0JykNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlci9sb2dvdXQnKQ0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvbG9naW4/cmVkaXJlY3Q9JHt0aGlzLiRyb3V0ZS5mdWxsUGF0aH1gKQ0KICAgICAgICAgIHJlbW92ZVdhdGVybWFyaygpOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["AppHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppHeader.vue","sourceRoot":"src/layout/components","sourcesContent":["<template>\r\n  <div class=\"app-header\">\r\n    <div class=\"header-l\">\r\n      <img src=\"../../assets/index-logo2.png\" class=\"logo2\" />\r\n    </div>\r\n    <div class=\"title\">{{ bigTitle }}</div>\r\n    <div class=\"headerRigh\">\r\n      <div class=\"header-r\">\r\n        <div class=\"toUser\" @click=\"gotoMenHu\">\r\n          <i class=\"el-icon-s-home\"></i>\r\n          <span style=\"margin-left: 2px; cursor: pointer\">返回门户</span>\r\n        </div>\r\n        <!-- <div class=\"userinfo\" @click=\"gotoIndexControl\">\r\n          <i class=\"el-icon-pie-chart\" style=\"margin-right: 5px\"></i>\r\n          可视化平台\r\n        </div> -->\r\n        <img src=\"../../assets/userheader.svg\" alt=\" \" class=\"headportrait\" />\r\n        <div class=\"userinfo\" style=\"cursor: pointer\" @click=\"gotoInfo\">个人信息</div>\r\n        <div class=\"right-loginout pointer\" @click=\"logout\">\r\n          <i class=\"el-icon-switch-button\" style=\"width: 20px; height: 20px; margin-right: 30px\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getLoginInfo } from '@/utils/auth'\r\nimport { ssoLogout, ssoauthurl } from '@/api/Sso'\r\nimport { removeWatermark, setWaterMark } from \"@/utils/waterMark\";\r\nexport default {\r\n  name: 'AppHeader',\r\n  data () {\r\n    return {\r\n      bigTitle: this.$bigTitle,\r\n      userInfo: {},\r\n    }\r\n  },\r\n  created () {\r\n    this.userInfo = this.$utilsFun.getUserInfo();\r\n  },\r\n  methods: {\r\n    //个人信息查看\r\n    gotoInfo () {\r\n      this.$router.push(`/userInfo`)\r\n    },\r\n    //查看大屏\r\n    gotoIndexControl () {\r\n      let routeUrl = this.$router.resolve({\r\n        path: \"/indexControl\",\r\n        query: { id: 96 }\r\n      });\r\n      window.open(routeUrl.href, '_blank');\r\n    },\r\n    gotoMenHu () {\r\n      // http://zhjk.jxcdc.cn:8869/smartcdc\r\n      // http://182.106.129.104:8181/smartcdc\r\n      window.open('http://zhjk.jxcdc.cn:8869/smartcdc', '_blank');\r\n    },\r\n    logout () {\r\n      this.$confirm('确定退出系统吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let sessionId = this.$utilsFun.getUserInfo().sessionId;\r\n        if (sessionId) {\r\n          ssoLogout({ back: \"ssss\" }).then((res) => {\r\n            ssoauthurl({ clientLoginUrl: process.env.VUE_APP_REDIRECTURL + 'redirect' }).then((res) => {\r\n              window.open(res.Response, '_self');\r\n            })\r\n          })\r\n          removeWatermark();\r\n          this.$store.dispatch('user/logout')\r\n        } else {\r\n          this.$store.dispatch('user/logout')\r\n          this.$router.push(`/login?redirect=${this.$route.fullPath}`)\r\n          removeWatermark();\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.header-r {\r\n  float: right;\r\n}\r\n</style>\r\n"]}]}