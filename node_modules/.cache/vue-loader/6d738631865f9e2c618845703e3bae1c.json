{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManagement\\dictionaryManagement\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManagement\\dictionaryManagement\\index.vue","mtime":1678931188721},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglkaWN0aW9uYXJ5ZGV0YWlscywKCWFkZGRpY3Rpb25hcnljYXRlZ29yeSwKCXVwZGF0ZWRpY3Rpb25hcnljYXRlZ29yeSwKCWRlbGV0ZWRpY3Rpb25hcnljYXRlZ29yeQp9IGZyb20gIkAvYXBpL2RpY3QuanMiOwppbXBvcnQgcGFnZUVkaXQgZnJvbSAiLi9jb21wb25lbnRzL3BhZ2VFZGl0LnZ1ZSI7CmltcG9ydCBwYWdlRWRpdERpY3Rpb25hcnkgZnJvbSAiLi9jb21wb25lbnRzL3BhZ2VFZGl0RGljdGlvbmFyeS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnRGljdGlvbmFyeU1hbmFnZW1lbnQnLAoJY29tcG9uZW50czogewoJCXBhZ2VFZGl0LAoJCXBhZ2VFZGl0RGljdGlvbmFyeQoJfSwKCS8vIOWtl+WFuOS9v+eUqAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQl0YWJsZUhlaWdodDogIjMwMCIsCgkJCWZvcm06IHsKCQkJCVBhZ2VOdW1iZXI6IDEsCgkJCQlQYWdlU2l6ZTogMTAsCgkJCX0sCgkJCXRhYmxlRGF0YTogW10sCgkJCXRvdGFsOiAwLAoJCX0KCX0sCgljcmVhdGVkKCkgewoJCS8vIOaQnOe0ouivt+axguWIneWni+a4suafkwoJCXRoaXMuZ2V0U3RhZmZMaXN0KCk7Cgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLmluaXRUYWJsZUhlaWdodCgpCgl9LAoJbWV0aG9kczogewoJCS8v6YeN572uCgkJcmVzZXRCdG4oKSB7CgkJCXRoaXMuJHJlZnNbImZvcm0iXS5yZXNldEZpZWxkcygpOwoJCQl0aGlzLmZvcm0uUGFnZU51bWJlciA9IDEKCQkJdGhpcy5nZXRTdGFmZkxpc3QoKQoJCX0sCgkJLy8g5pCc57Si6K+35rGCCgkJYXN5bmMgZ2V0U3RhZmZMaXN0KHBhcmFtcykgewoJCQljb25zdCByZXMgPSBhd2FpdCBkaWN0aW9uYXJ5ZGV0YWlscyh7CgkJCQkuLi5wYXJhbXMsCgkJCQkuLi50aGlzLmZvcm0KCQkJfSkKCQkJdGhpcy50YWJsZURhdGEgPSByZXMuUmVzcG9uc2UuaXRlbXM7CgkJCXRoaXMudG90YWwgPSByZXMuUmVzcG9uc2UuVG90YWxDb3VudDsKCQl9LAoJCS8vIOaWsOWinuWtl+WFuAoJCWFkZCgpIHsKCQkJdmFyIHBhcmFtID0gewoJCQkJdGl0bGU6ICfmlrDlop7lrZflhbgnLAoJCQkJdmlzaWJsZTogdHJ1ZSwKCQkJCW9wdDogImFkZCIKCQkJfQoJCQl0aGlzLiRyZWZzLnBhZ2VFZGl0LmdldERldGFpbChwYXJhbSkKCQl9LAoJCS8vIOS/ruaUueWtl+WFuAoJCWVkaXQocm93KSB7CgkJCXZhciBwYXJhbSA9IHsKCQkJCXRpdGxlOiAn57yW6L6R5a2X5YW4566h55CGJywKCQkJCXZpc2libGU6IHRydWUsCgkJCQlvcHQ6ICdlZGl0JywKCQkJCUNhdGVnb3J5Q29kZTogcm93LkNhdGVnb3J5Q29kZQoJCQl9CgkJCXRoaXMuJHJlZnMucGFnZUVkaXREaWN0aW9uYXJ5LmdldERldGFpbChwYXJhbSkKCQl9LAoJCS8vIOWIoOmZpAoJCWFzeW5jIGhhbmRsZXJEZWxldGUocm93KSB7CgkJCXRoaXMuJGNvbmZpcm0oIuehruiupOimgeWIoOmZpOi/meadoeaVsOaNruWQlz8iLCAi5Yig6ZmkIiwgewoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCgkJCQl0eXBlOiAiZXJyb3IiLAoJCQkJcm91bmRCdXR0b246dHJ1ZSwKCQkJfSkudGhlbihhc3luYyAoKSA9PiB7CgkJCQlhd2FpdCBkZWxldGVkaWN0aW9uYXJ5Y2F0ZWdvcnkoW3Jvdy5DYXRlZ29yeUNvZGVdKQoJCQkJdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKCQkJCXRoaXMuZ2V0U3RhZmZMaXN0KCkKCQkJfSk7CgkJfSwKCQkvLyDliIbpobXlvZPliY3pobXlj5jljJblm57osIMKCQloYW5kbGVyUGFnZUNoYW5nZShQYWdlTnVtYmVyKSB7CgkJCXRoaXMuZm9ybS5QYWdlTnVtYmVyID0gUGFnZU51bWJlcjsKCQkJdGhpcy5nZXRTdGFmZkxpc3QoKTsKCQl9LAoJCS8vIOWIhumhteavj+mhteadoeaVsOWPmOWMluWbnuiwgwoJCWhhbmRsZXJQYWdlU2l6ZUNoYW5nZShQYWdlU2l6ZSkgewoJCQl0aGlzLmZvcm0uUGFnZVNpemUgPSBQYWdlU2l6ZTsKCQkJdGhpcy5nZXRTdGFmZkxpc3QoKTsKCQl9LAoJCWluaXRUYWJsZUhlaWdodCgpIHsKCQkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQkJbGV0IGF2YWlsSGVpZ2h0ID0gd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodDsgLy/pobXpnaLlj6/op4bljJbpq5jluqYKCQkJCXZhciBlbFBhZ2VDbGllbnRIZWlnaHQgPSB0aGlzLiRyZWZzLmVsUGFnZS4kZWwuY2xpZW50SGVpZ2h0OyAvLyDliIbpobXlmajpq5jluqYKCQkJCXRoaXMudGFibGVIZWlnaHQgPSBhdmFpbEhlaWdodCAtIGVsUGFnZUNsaWVudEhlaWdodCAtIDM4MDsKCQkJfSk7CgkJfSwKCX0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/systemManagement/dictionaryManagement","sourcesContent":["<template>\r\n\t<div class=\"box\">\r\n\t\t<!-- 表单搜索 -->\r\n\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\" size=\"small\" inline class=\"form_row\">\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t<el-form-item label=\"类别名称:\" prop=\"CategoryName\">\r\n\t\t\t\t\t\t<el-input v-model=\"form.CategoryName\" clearable placeholder=\"请输入搜索内容\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t<el-form-item label=\"字典ID:\" prop=\"CategoryCode\">\r\n\t\t\t\t\t\t<el-input v-model=\"form.CategoryCode\" clearable placeholder=\"请输入搜索内容\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t<div class=\"searchbox\">\r\n\t\t\t\t\t\t<div class=\"searchBtn\" @click=\"getStaffList\">\r\n\t\t\t\t\t\t\t<img class=\"Btnicon\" src=\"@/assets/images/searchicon2.png\" alt=\"\">\r\n\t\t\t\t\t\t\t查询\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"ResetBtn\" style=\"margin-left: 10px;\" @click=\"resetBtn\">\r\n\t\t\t\t\t\t\t<img class=\"Btnicon\" src=\"@/assets/images/reseticon.svg\" alt=\"\">\r\n\t\t\t\t\t\t\t重置\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-form>\r\n\t\t<div class=\"butt\">\r\n\t\t\t<div class=\"buttbox\">\r\n\t\t\t\t<el-row :gutter=\"15\">\r\n\t\t\t\t\t<el-col :span=\"1.5\">\r\n\t\t\t\t\t\t<el-button class=\"addBtn Btn\" round type=\"primary\" @click=\"add\">\r\n\t\t\t\t\t\t\t<img class=\"addBtnimg\" src=\"../../../assets/images/addbtnicon.svg\" alt=\"\" />\r\n\t\t\t\t\t\t\t新增\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- 表格区域 -->\r\n\t\t<vxe-table size=\"small\" align=\"center\" stripe :data=\"tableData\" class=\"mytable-scrollbar\" ref=\"multipleTable\"\r\n\t\t\ttooltip-effect=\"light\" border resizable :height=\"tableHeight\">\r\n\t\t\t<vxe-column field=\"CategoryName\" title=\"类别名称\" width=\"160\"></vxe-column>\r\n\t\t\t<vxe-column field=\"CategoryCode\" title=\"类别ID\" width=\"160\"></vxe-column>\r\n\t\t\t<vxe-column field=\"Sort\" title=\"排序\" width=\"80\"></vxe-column>\r\n\t\t\t<vxe-column field=\"Remarks\" title=\"备注\"></vxe-column>\r\n\t\t\t<vxe-column field=\"IsEnable\" title=\"启用标识\" width=\"80\">\r\n\t\t\t\t<template #default=\"{ row }\">\r\n\t\t\t\t\t<el-tag type=\"primary\" v-if=\"row.IsEnable\">正常</el-tag>\r\n\t\t\t\t\t<el-tag type=\"danger\" v-if=\"!row.IsEnable\">停用</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</vxe-column>\r\n\t\t\t<vxe-column title=\"操作\" width=\"140\" fixed=\"right\">\r\n\t\t\t\t<template #default=\"{ row }\">\r\n\t\t\t\t\t<div class=\"flex_center\">\r\n\t\t\t\t\t\t<el-link type=\"warning\" @click=\"edit(row)\">修改</el-link>\r\n\t\t\t\t\t\t<div class=\"Divider\"></div>\r\n\t\t\t\t\t\t<el-link type=\"danger\" @click=\"handlerDelete(row)\">删除</el-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</vxe-column>\r\n\t\t</vxe-table>\r\n\t\t<!-- 分页器 -->\r\n\t\t<div class=\"app-pagination\">\r\n\t\t\t<!-- 页码器 -->\r\n\t\t\t<el-pagination ref=\"elPage\" :layout=\"paginationLayout\" :total=\"total\" :current-page=\"form.pageNum\"\r\n\t\t\t\t:page-size=\"form.pageSize\" @current-change=\"handlerPageChange\" @size-change=\"handlerPageSizeChange\">\r\n\t\t\t</el-pagination>\r\n\t\t</div>\r\n\t\t<!--   -->\r\n\t\t<pageEdit ref=\"pageEdit\" @submit=\"getStaffList\"></pageEdit>\r\n\t\t<pageEditDictionary ref=\"pageEditDictionary\" @submit=\"getStaffList\"></pageEditDictionary>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tdictionarydetails,\r\n\t\tadddictionarycategory,\r\n\t\tupdatedictionarycategory,\r\n\t\tdeletedictionarycategory\r\n\t} from \"@/api/dict.js\";\r\n\timport pageEdit from \"./components/pageEdit.vue\";\r\n\timport pageEditDictionary from \"./components/pageEditDictionary.vue\";\r\n\texport default {\r\n\t\tname: 'DictionaryManagement',\r\n\t\tcomponents: {\r\n\t\t\tpageEdit,\r\n\t\t\tpageEditDictionary\r\n\t\t},\r\n\t\t// 字典使用\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableHeight: \"300\",\r\n\t\t\t\tform: {\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 10,\r\n\t\t\t\t},\r\n\t\t\t\ttableData: [],\r\n\t\t\t\ttotal: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 搜索请求初始渲染\r\n\t\t\tthis.getStaffList();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initTableHeight()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//重置\r\n\t\t\tresetBtn() {\r\n\t\t\t\tthis.$refs[\"form\"].resetFields();\r\n\t\t\t\tthis.form.PageNumber = 1\r\n\t\t\t\tthis.getStaffList()\r\n\t\t\t},\r\n\t\t\t// 搜索请求\r\n\t\t\tasync getStaffList(params) {\r\n\t\t\t\tconst res = await dictionarydetails({\r\n\t\t\t\t\t...params,\r\n\t\t\t\t\t...this.form\r\n\t\t\t\t})\r\n\t\t\t\tthis.tableData = res.Response.items;\r\n\t\t\t\tthis.total = res.Response.TotalCount;\r\n\t\t\t},\r\n\t\t\t// 新增字典\r\n\t\t\tadd() {\r\n\t\t\t\tvar param = {\r\n\t\t\t\t\ttitle: '新增字典',\r\n\t\t\t\t\tvisible: true,\r\n\t\t\t\t\topt: \"add\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.pageEdit.getDetail(param)\r\n\t\t\t},\r\n\t\t\t// 修改字典\r\n\t\t\tedit(row) {\r\n\t\t\t\tvar param = {\r\n\t\t\t\t\ttitle: '编辑字典管理',\r\n\t\t\t\t\tvisible: true,\r\n\t\t\t\t\topt: 'edit',\r\n\t\t\t\t\tCategoryCode: row.CategoryCode\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.pageEditDictionary.getDetail(param)\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\tasync handlerDelete(row) {\r\n\t\t\t\tthis.$confirm(\"确认要删除这条数据吗?\", \"删除\", {\r\n\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\troundButton:true,\r\n\t\t\t\t}).then(async () => {\r\n\t\t\t\t\tawait deletedictionarycategory([row.CategoryCode])\r\n\t\t\t\t\tthis.$message.success('删除成功');\r\n\t\t\t\t\tthis.getStaffList()\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 分页当前页变化回调\r\n\t\t\thandlerPageChange(PageNumber) {\r\n\t\t\t\tthis.form.PageNumber = PageNumber;\r\n\t\t\t\tthis.getStaffList();\r\n\t\t\t},\r\n\t\t\t// 分页每页条数变化回调\r\n\t\t\thandlerPageSizeChange(PageSize) {\r\n\t\t\t\tthis.form.PageSize = PageSize;\r\n\t\t\t\tthis.getStaffList();\r\n\t\t\t},\r\n\t\t\tinitTableHeight() {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tlet availHeight = window.screen.availHeight; //页面可视化高度\r\n\t\t\t\t\tvar elPageClientHeight = this.$refs.elPage.$el.clientHeight; // 分页器高度\r\n\t\t\t\t\tthis.tableHeight = availHeight - elPageClientHeight - 380;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n"]}]}