{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\unassignedrecord\\components\\tabComponents\\echeatComponents\\follow-upEdit2.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\unassignedrecord\\components\\tabComponents\\echeatComponents\\follow-upEdit2.vue","mtime":1678931188682},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyANCmltcG9ydCB7IHVzZWRpY3Rpb25hcnlkZXRhaWxzIH0gZnJvbSAnQC9hcGkvZGljdC5qcycNCg0KLy8g6I635Y+W6K+m5oOFDQoNCmltcG9ydCB7DQogIFB1bG1vbmFyeVBhdGllbnRWaXNpdGxpc3QsDQogIFB1bG1vbmFyeVBhdGllbnRWaXNpdGRldGFpbHMsDQogIFB1bG1vbmFyeVBhdGllbnRWaXNpdHVwZGF0ZSwNCiAgUHVsbW9uYXJ5UGF0aWVudFZpc2l0ZGVsZXRlLA0KICANCn0gZnJvbSAiQC9hcGkvUHVsbW9uYXJ5UGF0aWVudFZpc2l0IjsNCmltcG9ydCB7DQoJCWZpcnN0UHVsbW9uYXJ5VmlzaXQsDQoJCWZvbGxvd1B1bG1vbmFyeVZpc2l0LA0KCQllZGl0UHVsbW9uYXJ5VmlzaXQsDQoJCWVkaXRwdWxtb25hcnlwYXRpZW50dmlzaXRzLA0KCX0gZnJvbSAnQC9hcGkvc3VwZXJ2aXNvcnlXb3JrTWFuYWdlbWVudC9mb2xsb3ctdXBNYW5hZ2VtZW50Jw0KZXhwb3J0IGRlZmF1bHQgew0KDQogIG5hbWU6ICJFZGl0IiwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRpdGxlOiAiIiwNCiAgICAgIGNoZWNrYm94OiAnJywNCiAgICAgIGlubmVyVmlzaWJsZTogZmFsc2UsDQogICAgICBmbGFnOiAiIiwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgU3ltcHRvbTogW10sDQogICAgICAgIEZvbGxvd0RvY3Rvck5hbWU6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJykpLnJvbGVOYW1lLA0KICAgICAgICBUcmVhdG1lbnRQbGFuTmFtZTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnUGF0aWVudHNkZXRhaWxzJykpLlRyZWF0bWVudFBsYW5OYW1lLA0KICAgICAgICAvLyBGaXJzdFZpc2l0SWQ6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1BhdGllbnRzZGV0YWlscycpKS5EaWFnbm9zaXNJZCwNCiAgICAgICAgRmlsZU51bWJlcjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnUGF0aWVudHNkZXRhaWxzJykpLkZpbGVOdW1iZXIsDQogICAgICB9LA0KICAgICAgaGFzaW5mbzogW10sDQogICAgICAvLyBEcnVnc1R5cGU6IFtdLA0KICAgICAgZGljdGFycjogW10sDQogICAgICBjb3B5Zm9ybToge30sDQogICAgICBBMDAwMjogW10sDQogICAgICAvLyBBMDAxNDogW10sDQogICAgICAvLyBBMDAxNTogW10sDQogICAgICBBMDAyMjogW10sIEEwMDIzOiBbXSwgQTAwMjU6IFtdLCBBMDAyNjogW10sIEEwMDI3OiBbXSwNCiAgICAgIEEwMDMwOiBbXSwNCiAgICAgIHBhdGllbnRWaXNpdElkOiAnJywNCiAgICAgIHJldmVhbDogZmFsc2UsDQogICAgICAvLyAg6KGo5Y2V6aqM6K+BDQogICAgICBydWxlczogew0KICAgICAgICBGaWxlTnVtYmVyOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KDQogICAgICAgIFZpc2l0RGF0ZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6kiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9LA0KICAgICAgICBdLA0KICAgICAgICBWaXNpdFR5cGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oupIiwgdHJpZ2dlcjogImNoYW5nZSIgfSwNCiAgICAgICAgXSwNCg0KICAgICAgICBUcmVhdG1lbnRQbGFuOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBEcnVnc1R5cGU6IFt7DQogICAgICAgIAlyZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgCW1lc3NhZ2U6ICLor7fpgInmi6kiLA0KICAgICAgICAJdHJpZ2dlcjogImJsdXIiDQogICAgICAgIH0sIF0sDQogICAgICAgIE1pc3NlZE1lZGljYXRpb25UaW1lczogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaUiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCg0KICAgICAgICBTdXBlcnZpc29yOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqSIsIHRyaWdnZXI6ICJjaGFuZ2UiIH0sDQogICAgICAgIF0sDQogICAgICAgIERydWdVc2FnZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6kiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9LA0KICAgICAgICBdLA0KDQogICAgICAgIEFEUjogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6kiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9LA0KICAgICAgICBdLA0KICAgICAgICBDb21wbGljYXRpb246IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oupIiwgdHJpZ2dlcjogImNoYW5nZSIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgSXNSZWZlcnJhbDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6kiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9LA0KICAgICAgICBdLA0KICAgICAgICBOZXh0VmlzaXREYXRlOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqSIsIHRyaWdnZXI6ICJjaGFuZ2UiIH0sDQogICAgICAgIF0sDQogICAgICAgIFN5bXB0b206IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oupIiwgdHJpZ2dlcjogImNoYW5nZSIgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQoNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICB0aGlzLmdldE5vd1RpbWUoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0Tm93VGltZSAoKSB7DQogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKQ0KICAgICAgdmFyIHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKSAvLyDlvpfliLDlubTku70NCiAgICAgIHZhciBtb250aCA9IG5vdy5nZXRNb250aCgpIC8vIOW+l+WIsOaciOS7vQ0KICAgICAgdmFyIGRhdGUgPSBub3cuZ2V0RGF0ZSgpIC8vIOW+l+WIsOaXpeacnw0KICAgICAgbW9udGggPSBtb250aCArIDENCiAgICAgIHZhciBuZXh0TW9udGggPSBtb250aCArIDENCiAgICAgIGlmIChuZXh0TW9udGggPT0gMTMpIHsNCiAgICAgICAgbmV4dE1vbnRoID0gMQ0KICAgICAgfQ0KICAgICAgbW9udGggPSBtb250aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJykNCiAgICAgIGRhdGUgPSBkYXRlLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKQ0KICAgICAgdmFyIGRlZmF1bHREYXRlID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXRlfWANCiAgICAgIHZhciBuZXh0ZGVmYXVsdERhdGUgPSBgJHt5ZWFyfS0ke25leHRNb250aH0tJHtkYXRlfWANCiAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sICdWaXNpdERhdGUnLCBkZWZhdWx0RGF0ZSkNCiAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sICdOZXh0VmlzaXREYXRlJywgbmV4dGRlZmF1bHREYXRlKQ0KICAgIH0sDQogICAgLy8g5a2X5YW4DQogICAgYXN5bmMgZnVudXNlZGljdGlvbmFyeWRldGFpbHMgKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgdXNlZGljdGlvbmFyeWRldGFpbHMoeyBDYXRlZ29yeUNvZGU6IFsnQTAwMDInLCAnQTAwMjInLCAnQTAwMjMnLCAnQTAwMjUnLCAnQTAwMjYnLCAnQTAwMjcnLCAnQTAwMzAnLF0sIFBhZ2VOdW1iZXI6IDEsIFBhZ2VTaXplOiA0MDAgfSkNCg0KICAgICAgdGhpcy5kaWN0YXJyID0gcmVzLlJlc3BvbnNlLml0ZW1zDQogICAgfSwNCg0KICAgIC8v5a2X5YW45pWw5o2u5aSE55CGDQogICAgZnVuZGljdGxpc3QgKCkgew0KICAgICAgdGhpcy5kaWN0YXJyLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMDInKSB7DQogICAgICAgICAgdGhpcy5BMDAwMi5wdXNoKGl0ZW0pDQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDIyJykgew0KICAgICAgICAgIHRoaXMuQTAwMjIucHVzaChpdGVtKQ0KICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uQ2F0ZWdvcnlDb2RlID09ICdBMDAyMycpIHsNCiAgICAgICAgICB0aGlzLkEwMDIzLnB1c2goaXRlbSkNCiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMjUnKSB7DQogICAgICAgICAgdGhpcy5BMDAyNS5wdXNoKGl0ZW0pDQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDI2Jykgew0KICAgICAgICAgIHRoaXMuQTAwMjYucHVzaChpdGVtKQ0KICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uQ2F0ZWdvcnlDb2RlID09ICdBMDAyNycpIHsNCiAgICAgICAgICB0aGlzLkEwMDI3LnB1c2goaXRlbSkNCiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMzAnKSB7DQogICAgICAgICAgdGhpcy5BMDAzMC5wdXNoKGl0ZW0pDQogICAgICAgIH0NCiAgICAgIH0pDQoNCg0KICAgIH0sDQogICAgLy/liKTmlq3lpJrpgInmoYbmlbDnu4TkuK3mmK/lkKbmnInpgqPkuKrog73lj5HnlJ/mlLnlj5jnmoTlgLwNCiAgICB3YXJyYW50TmFtZUNoYW5nZSAoKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBpZiAoX3RoaXMuZm9ybS5TeW1wdG9tLmluZGV4T2YoIjEwIikgIT09ICgtMSkpIHsNCiAgICAgICAgX3RoaXMucmV2ZWFsID0gdHJ1ZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIF90aGlzLnJldmVhbCA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDnoa7orqTmlrDlop7vvJ/kv67mlLkNCiAgICBzaG93IChmbGFnLCBkYXRhLCBmb3JtZGF0YSkgew0KICAgICAgdGhpcy5pbm5lclZpc2libGUgPSB0cnVlOw0KICAgICAgdGhpcy5mbGFnID0gZmxhZzsNCiAgICAgIHRoaXMuZ2V0Tm93VGltZSgpDQogICAgICBpZiAoZmxhZyA9PSAnYWRkZm9sbG93Jykgew0KICAgICAgICB0aGlzLnRpdGxlID0gIuWQjue7remaj+iuvyI7DQoJCXRoaXMuZm9ybS5QZXJzb25JZCA9IGRhdGEuUGVyc29uSWQ7DQoJCXRoaXMuZm9ybS5EaWFnbm9zaXNJZCA9IGRhdGEuRGlhZ25vc2lzSWQ7DQoJCXRoaXMuZm9ybS5GaWxlTnVtYmVyID0gZGF0YS5GaWxlTnVtYmVyOw0KICAgICAgICB0aGlzLmZvcm0uVHJlYXRtZW50UGxhbiA9IGRhdGEuVHJlYXRtZW50UGxhbk5hbWUNCiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSAnZGV0YWlscycpIHsNCiAgICAgICAgdGhpcy50aXRsZSA9ICLmn6XnnIvlkI7nu63or6bmg4UiOw0KICAgICAgICB0aGlzLnBhdGllbnRWaXNpdElkID0gZGF0YS5WaXNpdElkDQogICAgICAgIHRoaXMuZm9ybSA9IHsgLi4uZm9ybWRhdGEgfTsNCg0KICAgICAgfSBlbHNlIGlmIChmbGFnID09ICdNb2RpZnknKSB7DQogICAgICAgIHRoaXMudGl0bGUgPSAi5ZCO57ut5L+u5pS5IjsNCiAgICAgICAgdGhpcy5wYXRpZW50VmlzaXRJZCA9IGRhdGEuVmlzaXRJZA0KICAgICAgICB0aGlzLmZvcm0gPSB7IC4uLmZvcm1kYXRhIH07DQogICAgICAgIHRoaXMuY29weWZvcm0gPSB7IC4uLmZvcm1kYXRhIH0NCg0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g56Gu5a6aDQogICAgaGFuZGxlclNhdmUgKCkgew0KICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47DQogICAgICAgIHRoaXMuaGFzaW5mbyA9IFtdOw0KICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5mb3JtKSB7DQogICAgICAgICAgbGV0IG9iaiA9IHt9Ow0KICAgICAgICAgIGlmICh0aGlzLmZvcm1ba2V5XSAhPT0gdGhpcy5jb3B5Zm9ybVtrZXldKSB7DQogICAgICAgICAgICBvYmoub3AgPSAncmVwbGFjZScsDQogICAgICAgICAgICAgIG9iai52YWx1ZSA9IHRoaXMuZm9ybVtrZXldOw0KICAgICAgICAgICAgb2JqLnBhdGggPSBrZXk7DQogICAgICAgICAgICB0aGlzLmhhc2luZm8ucHVzaChvYmopDQogICAgICAgICAgfQ0KICAgICAgICB9DQoJCWZvcihsZXQgaiBpbiB0aGlzLmhhc2luZm8pew0KCQkJaWYodGhpcy5oYXNpbmZvW2pdLnBhdGg9PSdTeW1wdG9tJ3x8dGhpcy5oYXNpbmZvW2pdLnBhdGg9PSdEcnVnc1R5cGUnKXsNCgkJCQl0aGlzLmhhc2luZm9bal0udmFsdWUgPSB0aGlzLmhhc2luZm9bal0udmFsdWUuam9pbignLCcpDQoJCQl9DQoJCX0NCiAgICAgICAgdGhpcy4kYmFzZUNvbmZpcm0oYOehruiupOimgSR7dGhpcy50aXRsZX3lkJfvvJ9gLCBudWxsLCBhc3luYygpID0+IHsNCiAgICAgICAgICBsZXQgY29wZm9ybSA9IHRoaXMuZm9ybQ0KICAgICAgICAgIC8vIOaVsOe7hOi9rOWMluaIkOWtl+espuS4sg0KICAgICAgICAgIC8vIGNvcGZvcm0uU3ltcHRvbSA9IGNvcGZvcm0uU3ltcHRvbS50b1N0cmluZygpDQogICAgICAgICAgLy8gY29wZm9ybS5EcnVnc1R5cGUgPSBjb3Bmb3JtLkRydWdzVHlwZS50b1N0cmluZygpDQogICAgICAgICAgLy8gdGhpcy4kZW1pdCgiZm9sbG93dXBFZGl0MiIsIHRoaXMuZmxhZywgdGhpcy5wYXRpZW50VmlzaXRJZCwgY29wZm9ybSwgdGhpcy5oYXNpbmZvKTsNCiAgICAgICAgICAvLyB0aGlzLmNsb3NlKCk7DQoJCSAgaWYgKHRoaXMuZmxhZyA9PSAnYWRkZm9sbG93Jykgew0KCQkgIAl0aGlzLmZvcm0uU3ltcHRvbSA9IHRoaXMuZm9ybS5TeW1wdG9tLmpvaW4oJywnKQ0KCQkgIAl0aGlzLmZvcm0uRHJ1Z3NUeXBlID0gdGhpcy5mb3JtLkRydWdzVHlwZS5qb2luKCcsJykNCgkJICAJbGV0IHJlcyA9IGF3YWl0IFB1bG1vbmFyeVBhdGllbnRWaXNpdGxpc3QodGhpcy5mb3JtKQ0KCQkgIAl0aGlzLiRiYXNlTWVzc2FnZSgn5re75Yqg5oiQ5YqfJywgInN1Y2Nlc3MiKQ0KCQkgIAl0aGlzLiRlbWl0KCJzdWJtaXQiKQ0KCQkgIAl0aGlzLlN5bXB0b20gPSBbXQ0KCQkgICAgICB0aGlzLmNsb3NlKCk7DQoJCSAgfWVsc2UgaWYodGhpcy5mbGFnID09ICdNb2RpZnknKXsNCgkJICAJY29uc3QgUGF0aWVudFZpc2l0SWQgID0gdGhpcy5mb3JtLlBhdGllbnRWaXNpdElkIA0KCQkgIAljb25zdCByZXMgPSBhd2FpdCBlZGl0cHVsbW9uYXJ5cGF0aWVudHZpc2l0cyhQYXRpZW50VmlzaXRJZCwgdGhpcy5oYXNpbmZvKQ0KCQkgIAlsZXQgew0KCQkgIAkgIFN0YXR1c0NvZGUsDQoJCSAgCSAgTWVzc2FnZQ0KCQkgIAl9ID0gcmVzOw0KCQkgIAlpZiAoU3RhdHVzQ29kZSAhPSAyMDApIHsNCgkJICAJICByZXR1cm4gdGhpcy4kYmFzZU1lc3NhZ2UoDQoJCSAgCSAgICBNZXNzYWdlIHx8ICfkv67mlLnlpLHotKUnLCAnZXJyb3InDQoJCSAgCSAgKQ0KCQkgIAl9IGVsc2Ugew0KCQkgIAkgIHRoaXMuJGJhc2VNZXNzYWdlKCfkv67mlLnmiJDlip8nLCAic3VjY2VzcyIpDQoJCSAgCSAgdGhpcy4kZW1pdCgic3VibWl0IikNCgkJICAJICB0aGlzLmNsb3NlKCk7DQoJCSAgCX0NCgkJICB9DQoJCSAgDQogICAgICAgIH0pOw0KICAgICAgfSk7DQoNCiAgICB9LA0KDQoNCiAgICAvL+WPlua2iA0KICAgIGNsb3NlICgpIHsNCiAgICAgIHRoaXMuaW5uZXJWaXNpYmxlID0gZmFsc2U7DQogICAgICAvLyDph43nva7mlbDmja4o5bCB6KOF55qE5pa55rOVKQ0KICAgICAgdGhpcy5mb3JtID0gdGhpcy4kb3B0aW9ucy5kYXRhKCkuZm9ybTsNCiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS5yZXNldEZpZWxkcygpOw0KICAgIH0sDQoNCg0KDQoNCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCAoKSB7DQogICAgLy8g5a2X5YW4DQogICAgYXdhaXQgdGhpcy5mdW51c2VkaWN0aW9uYXJ5ZGV0YWlscygpDQogICAgdGhpcy5mdW5kaWN0bGlzdCgpDQoNCg0KICB9LA0KfTsNCg=="},{"version":3,"sources":["follow-upEdit2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgRA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"follow-upEdit2.vue","sourceRoot":"src/views/patientManagement/patientManagement/components/tabComponents/echeatComponents","sourcesContent":["<template>\r\n  <el-dialog :title=\"title\" :visible.sync=\"innerVisible\" top=\"20px\" :close-on-click-modal=\"false\" width=\"80%\" @close=\"close\" append-to-body>\r\n    <div slot=\"title\" class=\"dialog-title\">\r\n      <div class=\"sectionstly\"></div>\r\n      <span class=\"title-text\">后续随访</span>\r\n      <div class=\"button-right\">\r\n        <span class=\"title-close\" @click=\"close\"></span>\r\n      </div>\r\n    </div>\r\n    <el-form class=\"form_row\" ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"190px\" :hide-required-asterisk=\"title == '查看详情'\">\r\n      <div class=\"detailstitlo\">\r\n        <p class=\"xqtitolstyle\">基本信息</p>\r\n      </div>\r\n      <el-row>\r\n        <!--  -->\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"治疗卡编号\">\r\n            <el-input v-model=\"form.DiagnosisId\" disabled placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <!--  -->\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"随访日期\" prop=\"VisitDate\">\r\n            <el-date-picker v-model=\"form.VisitDate\" type=\"date\" value-format=\"yyyy-MM-dd\" placeholder=\"选择日期\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <!--  -->\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"督导人员\" prop=\"Supervisor\">\r\n            <el-select v-model=\"form.Supervisor\" placeholder=\"请输入内容\">\r\n              <el-option v-for=\"item in A0026\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <!--  -->\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"随访方式\" prop=\"VisitType\">\r\n            <el-select v-model=\"form.VisitType\" placeholder=\"请输入内容\">\r\n              <el-option v-for=\"item in A0022\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"建议日吸烟量\">\r\n            <el-input v-model=\"form.ProposalSmoking\" placeholder=\"请输入内容\" oninput=\"value=value.replace(/[^\\d]/g,'')\">\r\n              <i slot=\"suffix\" style=\"font-style: normal\">支</i>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"建议日喝酒量\">\r\n            <el-input v-model=\"form.ProposalAlcohol\" placeholder=\"请输入内容\" oninput=\"value=value.replace(/[^\\d]/g,'')\">\r\n              <i slot=\"suffix\" style=\"font-style: normal\">两</i>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <!-- 多选 -->\r\n        <el-col :span=\"24\">\r\n          <el-form-item label=\"症状及体征\" prop=\"Symptom\">\r\n            <el-checkbox-group v-model=\"form.Symptom\">\r\n              <el-checkbox v-for=\"item in A0023\" :key=\"item.DetailsCode\" :label=\"item.DetailsCode\" @change=\"warrantNameChange\">\r\n                {{ item.DetailsName }}\r\n              </el-checkbox>\r\n              <el-input size=\"mini\" v-if=\"reveal\" v-model=\"form.SymptomOther\" style=\"width: 320px; margin: 10px\"></el-input>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 分割 -->\r\n\r\n      <el-row>\r\n        <!-- 列表单选 -->\r\n        <el-col :span=\"24\">\r\n          <div class=\"detailstitlo\">\r\n            <p class=\"xqtitolstyle\">用药情况</p>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <!--  -->\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"治疗方案\">\r\n            <el-input v-model=\"form.TreatmentPlan\" placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"用法 \" prop=\"DrugUsage\">\r\n            <el-select v-model=\"form.DrugUsage\" placeholder=\"请输入内容\">\r\n              <el-option v-for=\"item in A0027\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"药品剂型\" prop=\"DrugsType\">\r\n            <el-select v-model=\"form.DrugsType\" multiple placeholder=\"请输入内容\" prop=\"DrugsType\">\r\n              <el-option v-for=\"item in A0025\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"漏服药次数\" prop=\"MissedMedicationTimes\">\r\n            <el-input v-model=\"form.MissedMedicationTimes\" placeholder=\"请输入内容\" oninput=\"value=value.replace(/[^\\d]/g,'')\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <!--  -->\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"有无药物不良反应\" prop=\"ADR\">\r\n            <el-select v-model=\"form.ADR\" placeholder=\"请输入内容\">\r\n              <el-option v-for=\"item in A0002\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"处置意见\">\r\n            <el-input v-model=\"form.HandlingOpinions\" placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <!-- -->\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"有无并发症或合并症\" prop=\"Complication\">\r\n            <el-select v-model=\"form.Complication\" placeholder=\"请输入内容\" :disabled=\"title == '查看详情'\">\r\n              <el-option v-for=\"item in A0002\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"并发症或合并症描述\">\r\n            <el-input v-model=\"form.ComplicationDesc\" :disabled=\"form.Complication !== '1'\" placeholder=\"请输入症状详情\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <!--  -->\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"下次随访日期\" prop=\"NextVisitDate\" :disabled=\"title == '查看详情'\">\r\n            <el-date-picker v-model=\"form.NextVisitDate\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"随访医生\" prop=\"FollowDoctor\">\r\n            <!-- <span>{{ form.FollowDoctorName }}</span> -->\r\n            <el-input v-model=\"form.FollowDoctorName\" placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <div class=\"detailstitlo\">\r\n            <p class=\"xqtitolstyle\">转诊情况</p>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"是否转诊\" prop=\"IsReferral\">\r\n            <el-select v-model=\"form.IsReferral\" placeholder=\"请输入内容\">\r\n              <el-option label=\"转诊\" :value=\"true\"></el-option>\r\n              <el-option label=\"未转诊\" :value=\"false\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"转诊原因\">\r\n            <el-input v-model=\"form.ReferralReason\" :disabled=\"form.IsReferral !== true\" placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"两周内随访结果\">\r\n            <el-input v-model=\"form.FollowUpResults\" :disabled=\"form.IsReferral !== true\" placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <!-- 列表单选 -->\r\n        <el-col :span=\"24\">\r\n          <div class=\"detailstitlo\">\r\n            <p class=\"xqtitolstyle\">全程管理情况(末次随访时填写)</p>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"停止治疗时间\">\r\n            <el-date-picker v-model=\"form.StopTreatmentTime\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"停止治疗原因\">\r\n            <el-select v-model=\"form.StopTreatmentReason\" :disabled=\"form.StopTreatmentTime ? false : true\" placeholder=\"请输入内容\">\r\n              <el-option v-for=\"item in A0030\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"应访患者次数\">\r\n            <el-input\r\n              v-model=\"form.RequiredVisitsTimes\"\r\n              :disabled=\"form.StopTreatmentTime ? false : true\"\r\n              placeholder=\"请输入内容\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"实际应访次数\">\r\n            <el-input\r\n              v-model=\"form.ActualVisitsTimes\"\r\n              :disabled=\"form.StopTreatmentTime ? false : true\"\r\n              placeholder=\"请输入内容\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"应访服药次数\">\r\n            <el-input\r\n              v-model=\"form.RequiredMedicineTimes\"\r\n              :disabled=\"form.StopTreatmentTime ? false : true\"\r\n              placeholder=\"请输入内容\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"实际服药次数\">\r\n            <el-input\r\n              v-model=\"form.ActualMedicineTimes\"\r\n              :disabled=\"form.StopTreatmentTime ? false : true\"\r\n              placeholder=\"请输入内容\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"服药率\">\r\n            <el-input v-model=\"form.MedicationRate\" :disabled=\"form.StopTreatmentTime ? false : true\" placeholder=\"请输入内容\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <div slot=\"footer\">\r\n      <el-button @click=\"close\" class=\"cancelbtn\">取 消</el-button>\r\n      <el-button type=\"primary\" class=\"savebtn\" @click=\"handlerSave\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\n// \r\nimport { usedictionarydetails } from '@/api/dict.js'\r\n\r\n// 获取详情\r\n\r\nimport {\r\n  PulmonaryPatientVisitlist,\r\n  PulmonaryPatientVisitdetails,\r\n  PulmonaryPatientVisitupdate,\r\n  PulmonaryPatientVisitdelete,\r\n  \r\n} from \"@/api/PulmonaryPatientVisit\";\r\nimport {\r\n\t\tfirstPulmonaryVisit,\r\n\t\tfollowPulmonaryVisit,\r\n\t\teditPulmonaryVisit,\r\n\t\teditpulmonarypatientvisits,\r\n\t} from '@/api/supervisoryWorkManagement/follow-upManagement'\r\nexport default {\r\n\r\n  name: \"Edit\",\r\n  data () {\r\n    return {\r\n      title: \"\",\r\n      checkbox: '',\r\n      innerVisible: false,\r\n      flag: \"\",\r\n      form: {\r\n        Symptom: [],\r\n        FollowDoctorName: JSON.parse(localStorage.getItem('userInfo')).roleName,\r\n        TreatmentPlanName: JSON.parse(localStorage.getItem('Patientsdetails')).TreatmentPlanName,\r\n        // FirstVisitId: JSON.parse(localStorage.getItem('Patientsdetails')).DiagnosisId,\r\n        FileNumber: JSON.parse(localStorage.getItem('Patientsdetails')).FileNumber,\r\n      },\r\n      hasinfo: [],\r\n      // DrugsType: [],\r\n      dictarr: [],\r\n      copyform: {},\r\n      A0002: [],\r\n      // A0014: [],\r\n      // A0015: [],\r\n      A0022: [], A0023: [], A0025: [], A0026: [], A0027: [],\r\n      A0030: [],\r\n      patientVisitId: '',\r\n      reveal: false,\r\n      //  表单验证\r\n      rules: {\r\n        FileNumber: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n        ],\r\n\r\n        VisitDate: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n        VisitType: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n\r\n        TreatmentPlan: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n        ],\r\n        DrugsType: [{\r\n        \trequired: true,\r\n        \tmessage: \"请选择\",\r\n        \ttrigger: \"blur\"\r\n        }, ],\r\n        MissedMedicationTimes: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n        ],\r\n\r\n        Supervisor: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n        DrugUsage: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n\r\n        ADR: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n        Complication: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n        IsReferral: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n        NextVisitDate: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n        Symptom: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ],\r\n      },\r\n\r\n    };\r\n  },\r\n  mounted () {\r\n    this.getNowTime()\r\n  },\r\n  methods: {\r\n    getNowTime () {\r\n      var now = new Date()\r\n      var year = now.getFullYear() // 得到年份\r\n      var month = now.getMonth() // 得到月份\r\n      var date = now.getDate() // 得到日期\r\n      month = month + 1\r\n      var nextMonth = month + 1\r\n      if (nextMonth == 13) {\r\n        nextMonth = 1\r\n      }\r\n      month = month.toString().padStart(2, '0')\r\n      date = date.toString().padStart(2, '0')\r\n      var defaultDate = `${year}-${month}-${date}`\r\n      var nextdefaultDate = `${year}-${nextMonth}-${date}`\r\n      this.$set(this.form, 'VisitDate', defaultDate)\r\n      this.$set(this.form, 'NextVisitDate', nextdefaultDate)\r\n    },\r\n    // 字典\r\n    async funusedictionarydetails () {\r\n      const res = await usedictionarydetails({ CategoryCode: ['A0002', 'A0022', 'A0023', 'A0025', 'A0026', 'A0027', 'A0030',], PageNumber: 1, PageSize: 400 })\r\n\r\n      this.dictarr = res.Response.items\r\n    },\r\n\r\n    //字典数据处理\r\n    fundictlist () {\r\n      this.dictarr.forEach(item => {\r\n        if (item.CategoryCode == 'A0002') {\r\n          this.A0002.push(item)\r\n        } else if (item.CategoryCode == 'A0022') {\r\n          this.A0022.push(item)\r\n        } else if (item.CategoryCode == 'A0023') {\r\n          this.A0023.push(item)\r\n        } else if (item.CategoryCode == 'A0025') {\r\n          this.A0025.push(item)\r\n        } else if (item.CategoryCode == 'A0026') {\r\n          this.A0026.push(item)\r\n        } else if (item.CategoryCode == 'A0027') {\r\n          this.A0027.push(item)\r\n        } else if (item.CategoryCode == 'A0030') {\r\n          this.A0030.push(item)\r\n        }\r\n      })\r\n\r\n\r\n    },\r\n    //判断多选框数组中是否有那个能发生改变的值\r\n    warrantNameChange () {\r\n      const _this = this;\r\n      if (_this.form.Symptom.indexOf(\"10\") !== (-1)) {\r\n        _this.reveal = true;\r\n      } else {\r\n        _this.reveal = false;\r\n      }\r\n    },\r\n\r\n    // 确认新增？修改\r\n    show (flag, data, formdata) {\r\n      this.innerVisible = true;\r\n      this.flag = flag;\r\n      this.getNowTime()\r\n      if (flag == 'addfollow') {\r\n        this.title = \"后续随访\";\r\n\t\tthis.form.PersonId = data.PersonId;\r\n\t\tthis.form.DiagnosisId = data.DiagnosisId;\r\n\t\tthis.form.FileNumber = data.FileNumber;\r\n        this.form.TreatmentPlan = data.TreatmentPlanName\r\n      } else if (flag == 'details') {\r\n        this.title = \"查看后续详情\";\r\n        this.patientVisitId = data.VisitId\r\n        this.form = { ...formdata };\r\n\r\n      } else if (flag == 'Modify') {\r\n        this.title = \"后续修改\";\r\n        this.patientVisitId = data.VisitId\r\n        this.form = { ...formdata };\r\n        this.copyform = { ...formdata }\r\n\r\n      }\r\n    },\r\n    // 确定\r\n    handlerSave () {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (!valid) return;\r\n        this.hasinfo = [];\r\n        for (let key in this.form) {\r\n          let obj = {};\r\n          if (this.form[key] !== this.copyform[key]) {\r\n            obj.op = 'replace',\r\n              obj.value = this.form[key];\r\n            obj.path = key;\r\n            this.hasinfo.push(obj)\r\n          }\r\n        }\r\n\t\tfor(let j in this.hasinfo){\r\n\t\t\tif(this.hasinfo[j].path=='Symptom'||this.hasinfo[j].path=='DrugsType'){\r\n\t\t\t\tthis.hasinfo[j].value = this.hasinfo[j].value.join(',')\r\n\t\t\t}\r\n\t\t}\r\n        this.$baseConfirm(`确认要${this.title}吗？`, null, async() => {\r\n          let copform = this.form\r\n          // 数组转化成字符串\r\n          // copform.Symptom = copform.Symptom.toString()\r\n          // copform.DrugsType = copform.DrugsType.toString()\r\n          // this.$emit(\"followupEdit2\", this.flag, this.patientVisitId, copform, this.hasinfo);\r\n          // this.close();\r\n\t\t  if (this.flag == 'addfollow') {\r\n\t\t  \tthis.form.Symptom = this.form.Symptom.join(',')\r\n\t\t  \tthis.form.DrugsType = this.form.DrugsType.join(',')\r\n\t\t  \tlet res = await PulmonaryPatientVisitlist(this.form)\r\n\t\t  \tthis.$baseMessage('添加成功', \"success\")\r\n\t\t  \tthis.$emit(\"submit\")\r\n\t\t  \tthis.Symptom = []\r\n\t\t      this.close();\r\n\t\t  }else if(this.flag == 'Modify'){\r\n\t\t  \tconst PatientVisitId  = this.form.PatientVisitId \r\n\t\t  \tconst res = await editpulmonarypatientvisits(PatientVisitId, this.hasinfo)\r\n\t\t  \tlet {\r\n\t\t  \t  StatusCode,\r\n\t\t  \t  Message\r\n\t\t  \t} = res;\r\n\t\t  \tif (StatusCode != 200) {\r\n\t\t  \t  return this.$baseMessage(\r\n\t\t  \t    Message || '修改失败', 'error'\r\n\t\t  \t  )\r\n\t\t  \t} else {\r\n\t\t  \t  this.$baseMessage('修改成功', \"success\")\r\n\t\t  \t  this.$emit(\"submit\")\r\n\t\t  \t  this.close();\r\n\t\t  \t}\r\n\t\t  }\r\n\t\t  \r\n        });\r\n      });\r\n\r\n    },\r\n\r\n\r\n    //取消\r\n    close () {\r\n      this.innerVisible = false;\r\n      // 重置数据(封装的方法)\r\n      this.form = this.$options.data().form;\r\n      this.$refs[\"form\"].resetFields();\r\n    },\r\n\r\n\r\n\r\n\r\n  },\r\n  async created () {\r\n    // 字典\r\n    await this.funusedictionarydetails()\r\n    this.fundictlist()\r\n\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=scss scoped>\r\n\r\n</style>"]}]}