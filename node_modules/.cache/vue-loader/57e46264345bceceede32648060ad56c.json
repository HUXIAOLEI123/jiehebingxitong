{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationusers\\components\\pageEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationusers\\components\\pageEdit.vue","mtime":1678931188715},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRMaXN0LCBjYXNjYWRlciB9IGZyb20gIkAvYXBpL3N5c3RlbU1hbmFnZS9Pcmdhbml6YXRpb24iOw0KaW1wb3J0IHsgYWRkT3JnYW5pemF0aW9udXNlcnMsIG9yZ2FuaXphdGlvbnVzZXJzRGV0YWlsLCBFZGl0b3JnYW5pemF0aW9udXNlcnMgfSBmcm9tICJAL2FwaS9zeXN0ZW1NYW5hZ2UvT3JnYW5pemF0aW9uVXNlciI7DQppbXBvcnQgeyBnZXRPcmdhbml6YXRpb25MaXN0LCBnZXRvcmdjYXNjYWRlciwgZ2V0dXNlckRyb3AgfSBmcm9tICdAL2FwaS9vcmdhbml6YXRpb25NYW5hZ2VtZW50LmpzJzsNCmltcG9ydCB7IHVzZWRpY3Rpb25hcnlkZXRhaWxzIH0gZnJvbSAnQC9hcGkvZGljdC5qcycNCmltcG9ydCB7IGdldE9yZ2FuaXphdGlvbnJvbGVzTGlzdCB9IGZyb20gIkAvYXBpL3N5c3RlbU1hbmFnZS9Pcmdhbml6YXRpb25Sb2xlIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOihqOWNlemFjee9rg0KICAgICAgZm9ybUNvbmZpZzogew0KICAgICAgICB0aXRsZTogIiIsDQogICAgICAgIHZpc2libGU6IGZhbHNlLA0KICAgICAgICB3aWR0aDogIjcwJSIsDQogICAgICAgIG9wdDogIiIsDQogICAgICAgIHJlZGVyVmlldzogdHJ1ZQ0KICAgICAgfSwNCiAgICAgIENvbnRpbnVlOiBmYWxzZSwNCiAgICAgIGlzc2hvdzogdHJ1ZSwNCiAgICAgIFJvbGVJZHNEYXRhOiBbXSwgLy/op5LoibLliJfooagNCiAgICAgIHRlbmFudERhdGE6IFt7DQogICAgICAgIE9yZ2FuaXphdGlvbklkOiB0aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLmF1dGhPcmdJZCwNCiAgICAgICAgT3JnYW5pemF0aW9uTmFtZTogdGhpcy4kdXRpbHNGdW4uZ2V0VXNlckluZm8oKS5hdXRoT3JnTmFtZSwNCiAgICAgICAgQ2hpbGRyZW46IFtdDQogICAgICB9XSwgLy/mnLrmnoTmlbDnu4QNCiAgICAgIHByb3BzbGlzdDogew0KICAgICAgICB2YWx1ZTogIk9yZ2FuaXphdGlvbklkIiwNCiAgICAgICAgbGFiZWw6ICJPcmdhbml6YXRpb25OYW1lIiwNCiAgICAgICAgY2hpbGRyZW46ICJDaGlsZHJlbiIsDQogICAgICAgIGNoZWNrU3RyaWN0bHk6IHRydWUsDQogICAgICAgIGVtaXRQYXRoOiBmYWxzZSwNCiAgICAgICAgbGF6eTogdHJ1ZSwNCiAgICAgICAgbGF6eUxvYWQ6IHRoaXMubGF6eUxvYWQNCiAgICAgIH0sDQogICAgICAvLyDooajljZXmlbDmja4NCiAgICAgIGZvcm1EYXRhOiB7DQogICAgICAgIFN0YXR1czogdHJ1ZSwNCiAgICAgICAgUm9sZUlkczogW10sDQogICAgICAgIE9yZ2FuaXphdGlvbklkOiB0aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLmF1dGhPcmdJZA0KICAgICAgfSwNCiAgICAgIGZvcm1EYXRhQ29weToge30sDQogICAgICAvLyDpqozor4Hop4TliJkNCiAgICAgIGZvcm1SdWxlczoge30sDQogICAgICBBMDAwMzogW10sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5mdW51c2VkaWN0aW9uYXJ5ZGV0YWlscygpOw0KICAgIHRoaXMuc2V0Zm9ybVJ1bGVzKCkNCiAgICB0aGlzLnJvbGVEYXRhKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNlYXJjaFJlZ2lvbiAoZWwpIHsNCiAgICAgIGlmICghZWwudGFyZ2V0LnZhbHVlKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8v6L+Z6YeM55So5LqG6Ziy5oqW5p2l6ZmQ5Yi25Y+R6YCB6aKR546H55qE5qyh5pWwIOacrOi6q2Nhc2NhZGVy5Lmf5pyJZGVib3VuY2XlsZ7mgKcg5L2G6L+Z6YeM5oiR5rKh5pyJ55SoDQogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsNCiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIC8v54m55Yir5rOo5oSP6L+Z6YeMIOWmguaenOS4jei/meS5iOWGmeeahOivnSDkuIrkuIDmrKHnmoTmkJzntKLnu5Pmnpzov5jmmK/kvJrpq5jkuq7mmL7npLog5bm25LiU5Lya5oql6ZSZIOaJgOS7peWFiOa4heepuuS4gOS4iw0KICAgICAgICAgIHRoaXMuJHJlZnMucmVnaW9uRG9tLiRyZWZzLnBhbmVsLmFjdGl2ZVBhdGggPSBbXTsNCiAgICAgICAgICBnZXRPcmdhbml6YXRpb25MaXN0KHsNCiAgICAgICAgICAgIE9yZ2FuaXphdGlvbk5hbWU6IGVsLnRhcmdldC52YWx1ZSwNCiAgICAgICAgICAgIFBhZ2VOdW1iZXI6IDEsDQogICAgICAgICAgICBQYWdlU2l6ZTogOTk5DQogICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5SZXNwb25zZS5pdGVtcy5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy50ZW5hbnREYXRhID0gcmVzLlJlc3BvbnNlLml0ZW1zOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0sIDEyMDApDQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJSZWdpb24gKHZhbHVlKSB7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfSwNCiAgICByZWdpb25NZW51Q2hhbmdlIChib29sZWFuKSB7DQogICAgICAvL3RydWXkuIvmi4nmoYblsZXlvIAgZmFsc2XkuIvmi4nmoYbmlLbotbcgIOWxleW8gOaXtua4heaOieS4iuasoeaQnOe0oue7k+aenCDmgaLlpI3lpoLliJ0NCiAgICAgIGlmIChib29sZWFuKSB7DQogICAgICAgIHRoaXMuJHJlZnMucmVnaW9uRG9tLiRyZWZzLnBhbmVsLmFjdGl2ZVBhdGggPSBbXTsNCiAgICAgICAgdGhpcy5nZXRUZW5hbnREYXRhKHRoaXMuJHV0aWxzRnVuLmdldFVzZXJJbmZvKCkuYXV0aE9yZ0lkKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5aSE55CG5py65p6E5LuO5ZOq5LiA57qn5byA5aeLDQogICAgZmlsdGVyT25lSG9zcERhdGEgKGxpc3QpIHsNCiAgICAgIGxldCBhdXRoT3JnSWQgPSB0aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLmF1dGhPcmdJZA0KICAgICAgaWYgKCFsaXN0ICYmIGxpc3QubGVuZ3RoKSB7DQogICAgICAgIHJldHVybiBbXTsNCiAgICAgIH0NCiAgICAgIGxldCBuZXdSZWdpb24gPSBbXTsgLy/nu4Too4XmlrDmlbDmja4NCiAgICAgIGZuKGxpc3QpOw0KICAgICAgZnVuY3Rpb24gZm4gKGRhdGEpIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgICBpZiAoZGF0YVtpXS5Pcmdhbml6YXRpb25JZCA9PT0gYXV0aE9yZ0lkKSB7DQogICAgICAgICAgICBuZXdSZWdpb24ucHVzaChkYXRhW2ldKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVtpXT8uQ2hpbGRyZW4pIHsNCiAgICAgICAgICAgIGZuKGRhdGFbaV0uQ2hpbGRyZW4pOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIG5ld1JlZ2lvbjsNCiAgICB9LA0KICAgIC8v6I635Y+W5py65p6E5YiX6KGoDQogICAgYXN5bmMgZ2V0VGVuYW50RGF0YSAodmFsKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBjYXNjYWRlcih2YWwpOw0KICAgICAgdGhpcy50ZW5hbnREYXRhID0gdGhpcy5maWx0ZXJPbmVIb3NwRGF0YShyZXMuUmVzcG9uc2UpOw0KICAgIH0sDQogICAgYXN5bmMgcm9sZURhdGEgKCkgew0KICAgICAgbGV0IHJlcyA9IGF3YWl0IGdldE9yZ2FuaXphdGlvbnJvbGVzTGlzdCh7DQogICAgICAgIFBhZ2VOdW1iZXI6IDEsDQogICAgICAgIFBhZ2VTaXplOiA5OTk5LA0KICAgICAgfSkNCiAgICAgIHRoaXMuUm9sZUlkc0RhdGEgPSByZXMuUmVzcG9uc2UuaXRlbXM7DQogICAgfSwNCiAgICAvLyDlrZflhbjmlbDmja7or7fmsYINCiAgICBhc3luYyBmdW51c2VkaWN0aW9uYXJ5ZGV0YWlscyAoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCB1c2VkaWN0aW9uYXJ5ZGV0YWlscyh7DQogICAgICAgIENhdGVnb3J5Q29kZTogWydBMDAwMyddDQogICAgICB9KQ0KICAgICAgdGhpcy5BMDAwMyA9IHJlcy5SZXNwb25zZS5pdGVtcy5maWx0ZXIoKGkpID0+IGkuQ2F0ZWdvcnlDb2RlID09ICdBMDAwMycpDQogICAgfSwNCiAgICBzZXRmb3JtUnVsZXMgKCkgew0KICAgICAgbGV0IGFyciA9IFt7DQogICAgICAgIHRyaWdnZXI6ICdibHVyJywNCiAgICAgICAgbWVzc2FnZTogIuaJgOWxnuacuuaehCIsDQogICAgICAgIGtleTogIk9yZ2FuaXphdGlvbklkIg0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLA0KICAgICAgICBtZXNzYWdlOiAi5aeT5ZCNIiwNCiAgICAgICAga2V5OiAiUmVhbE5hbWUiDQogICAgICB9LA0KICAgICAgLy8geyB0cmlnZ2VyOiAnY2hhbmdlJywgbWVzc2FnZTogIuaAp+WIqyIsIGtleTogIlNleCIgfSwNCiAgICAgIHsNCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScsDQogICAgICAgIG1lc3NhZ2U6ICLop5LoibIiLA0KICAgICAgICBrZXk6ICJSb2xlSWRzIg0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLA0KICAgICAgICBtZXNzYWdlOiAi5o6I5p2D6LSm5oi3IiwNCiAgICAgICAga2V5OiAiSWRlbnRpZmllciINCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRyaWdnZXI6ICdibHVyJywNCiAgICAgICAgbWVzc2FnZTogIui0puWPt+WvhueggSIsDQogICAgICAgIGtleTogIkNyZWRlbnRpYWwiDQogICAgICB9LA0KICAgICAgXQ0KICAgICAgZm9yIChsZXQgaXRlbSBvZiBhcnIpIHsNCiAgICAgICAgbGV0IG9iaiA9IHsNCiAgICAgICAgICB0cmlnZ2VyOiBpdGVtLnRyaWdnZXIsDQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgIH0NCiAgICAgICAgaWYgKGl0ZW0udHJpZ2dlciA9PSAnYmx1cicpIG9iai5tZXNzYWdlID0gaXRlbS5tZXNzYWdlICsgJ+S4jeiDveS4uuepuic7DQogICAgICAgIGlmIChpdGVtLnRyaWdnZXIgPT0gJ2NoYW5nZScpIG9iai5tZXNzYWdlID0gJ+ivt+mAieaLqScgKyBpdGVtLm1lc3NhZ2U7DQogICAgICAgIHRoaXMuZm9ybVJ1bGVzW2l0ZW0ua2V5XSA9IG9iag0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgbGF6eUxvYWQgKG5vZGUsIHJlc29sdmUpIHsNCiAgICAgIGxldCB7DQogICAgICAgIGxldmVsDQogICAgICB9ID0gbm9kZTsNCiAgICAgIGxldCBwYXJhbXMgPSBub2RlLnZhbHVlDQogICAgICBnZXRMaXN0KHsNCiAgICAgICAgT3JnX09yZ2FuaXphdGlvbklkOiBwYXJhbXMsDQogICAgICAgIFBhZ2VOdW1iZXI6IDEsDQogICAgICAgIFBhZ2VTaXplOiA5OTk5LA0KICAgICAgfSkudGhlbihyZXMgPT4geyAvL+aOpeWPow0KICAgICAgICBpZiAocmVzICYmIHJlcy5TdGF0dXNDb2RlID09IDIwMCkgew0KICAgICAgICAgIGxldCBkYXRhID0gW3Jlcy5SZXNwb25zZV0NCiAgICAgICAgICBpZiAobGV2ZWwgPiAwKSB7DQogICAgICAgICAgICBkYXRhID0gcmVzLlJlc3BvbnNlLml0ZW1zDQogICAgICAgICAgfQ0KICAgICAgICAgIHJlc29sdmUoZGF0YSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5Zyw5Yy65pWw5o2u5aSx6LSlJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5YWz6Zet5by55qGGDQogICAgaGFuZGxlQ2xvc2UgKCkgew0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzWydyZWZGb3JtJ10ucmVzZXRGaWVsZHMoKTsNCiAgICAgIH0pDQogICAgICB0aGlzLmZvcm1Db25maWcudmlzaWJsZSA9IGZhbHNlOw0KICAgIH0sDQogICAgLy/lrozmiJDlubbkuIvkuIDkuKoNCiAgICBzdWJtaXRhbmRDb250aW51ZSAoKSB7DQogICAgICB0aGlzLkNvbnRpbnVlID0gdHJ1ZTsNCiAgICAgIHRoaXMuc3VibWl0KCkNCiAgICB9LA0KICAgIC8vIOaPkOS6pA0KICAgIHN1Ym1pdCAoKSB7DQogICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICB0aGlzLiRyZWZzLnJlZkZvcm0udmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmICh0aGF0LmZvcm1Db25maWcub3B0ID09ICdhZGQnKSB7DQogICAgICAgICAgICBhd2FpdCBhZGRPcmdhbml6YXRpb251c2Vycyh0aGF0LmZvcm1EYXRhKTsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7DQogICAgICAgICAgICBpZiAodGhhdC5Db250aW51ZSkgew0KICAgICAgICAgICAgICB0aGF0LkNvbnRpbnVlID0gZmFsc2U7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGF0LiRlbWl0KCJzdWJtaXQiKQ0KICAgICAgICAgICAgICB0aGF0LmhhbmRsZUNsb3NlKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHRoYXQuZm9ybUNvbmZpZy5vcHQgPT0gJ2VkaXQnKSB7DQogICAgICAgICAgICBsZXQgYXJyID0gdGhhdC4kdXRpbHNGdW4uY29tcGFyZU9iaih0aGF0LmZvcm1EYXRhLCB0aGF0LmZvcm1EYXRhQ29weSkNCiAgICAgICAgICAgIGF3YWl0IEVkaXRvcmdhbml6YXRpb251c2Vycyh7DQogICAgICAgICAgICAgIFVzZXJJZDogdGhhdC5mb3JtRGF0YS5Vc2VySWQsDQogICAgICAgICAgICAgIGRhdGE6IGFycg0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi57yW6L6R5oiQ5YqfIik7DQogICAgICAgICAgICB0aGF0LiRlbWl0KCJzdWJtaXQiKQ0KICAgICAgICAgICAgdGhhdC5oYW5kbGVDbG9zZSgpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWIneWni+WMluW8ueahhu+8jOiOt+WPluivpuaDhQ0KICAgIGFzeW5jIGdldERldGFpbCAocGFyYW0pIHsNCiAgICAgIGxldCB0aGF0ID0gdGhpczsNCiAgICAgIGlmIChwYXJhbS5vcHQgPT0gIiIgfHwgcGFyYW0ub3B0ID09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuacquefpeaTjeS9nCIpOw0KICAgICAgfQ0KICAgICAgdGhpcy5mb3JtQ29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1Db25maWcsIHBhcmFtKTsNCiAgICAgIGlmIChwYXJhbS5vcHQgPT0gJ2FkZCcpIHsNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuZ2V0VGVuYW50RGF0YSh0aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLmF1dGhPcmdJZCkNCiAgICAgICAgICB0aGF0LmZvcm1EYXRhID0gew0KICAgICAgICAgICAgLi4uew0KICAgICAgICAgICAgICBTdGF0dXM6IHRydWUsDQogICAgICAgICAgICAgIFJvbGVJZHM6IFtdLA0KICAgICAgICAgICAgICBDcmVkZW50aWFsOiAnanhDREMhMjAyMicNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgdGhhdC5mb3JtRGF0YS5Pcmdhbml6YXRpb25JZCA9IHRoaXMuJHV0aWxzRnVuLmdldFVzZXJJbmZvKCkuYXV0aE9yZ0lkDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmdldFRlbmFudERhdGEocGFyYW0uT3JnYW5pemF0aW9uSWQpDQogICAgICAgIGxldCByZXMgPSBhd2FpdCBvcmdhbml6YXRpb251c2Vyc0RldGFpbChwYXJhbS5Vc2VySWQpOw0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YSA9IHsNCiAgICAgICAgICAgIC4uLnJlcy5SZXNwb25zZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5mb3JtRGF0YUNvcHkgPSByZXMuUmVzcG9uc2UNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["pageEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pageEdit.vue","sourceRoot":"src/views/systemManage/organizationusers/components","sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"formConfig.title\"\r\n    :visible.sync=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    top=\"20vh\"\r\n  >\r\n    <div slot=\"title\" class=\"dialog-title\">\r\n      <div class=\"sectionstly\"></div>\r\n      <span class=\"title-text\">{{ formConfig.title }}</span>\r\n      <div class=\"button-right\">\r\n        <span class=\"title-close\" @click=\"handleClose\"></span>\r\n      </div>\r\n    </div>\r\n    <el-form :model=\"formData\" :rules=\"formRules\" ref=\"refForm\" label-width=\"130px\" class=\"form_row\">\r\n      <div class=\"el-dialog-div\" style=\"height: 50vh\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"所属机构:\" prop=\"OrganizationId\">\r\n              <el-cascader\r\n                v-if=\"isshow\"\r\n                ref=\"regionDom\"\r\n                key=\"bbigdd\"\r\n                style=\"width: 100%\"\r\n                filterable\r\n                :options=\"tenantData\"\r\n                :props=\"propslist\"\r\n                @input.native=\"searchRegion\"\r\n                :before-filter=\"filterRegion\"\r\n                @visible-change=\"regionMenuChange\"\r\n                v-model=\"formData.OrganizationId\"\r\n                :show-all-levels=\"false\"\r\n                clearable\r\n              ></el-cascader>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"姓名:\" prop=\"RealName\">\r\n              <el-input v-model=\"formData.RealName\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"联系电话:\" prop=\"ContactPhone\">\r\n              <el-input v-model=\"formData.ContactPhone\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"角色:\" prop=\"RoleIds\">\r\n              <el-select v-model=\"formData.RoleIds\" multiple>\r\n                <el-option v-for=\"item in RoleIdsData\" :key=\"item.RoleId\" :label=\"item.RoleName\" :value=\"item.RoleId\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"性别:\" prop=\"Sex\">\r\n              <el-select v-model=\"formData.Sex\">\r\n                <el-option v-for=\"item in A0003\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\" v-if=\"formConfig.opt == 'add'\">\r\n            <el-form-item label=\"授权账户:\" prop=\"Identifier\">\r\n              <el-input v-model=\"formData.Identifier\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" v-if=\"formConfig.opt == 'add'\">\r\n            <el-form-item label=\"账号密码:\" prop=\"Credential\">\r\n              <el-input v-model=\"formData.Credential\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"年龄:\" prop=\"Age\">\r\n              <el-input v-model=\"formData.Age\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"地址:\" prop=\"Address\">\r\n              <el-input v-model=\"formData.Address\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"生日:\" prop=\"Birth\">\r\n              <el-date-picker align=\"center\" v-model=\"formData.Birth\" type=\"date\" placeholder=\"选择日期\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <el-form-item label=\"状态:\" prop=\"Status\">\r\n              <el-checkbox v-model=\"formData.Status\"></el-checkbox>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"备注:\" prop=\"Remark\">\r\n              <el-input v-model=\"formData.Remark\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <!-- <el-button class=\"cancelbtn\" @click=\"submitandContinue\">完成并下一个</el-button> -->\r\n      <el-button class=\"cancelbtn\" @click=\"handleClose\">取 消</el-button>\r\n      <el-button class=\"savebtn\" type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getList, cascader } from \"@/api/systemManage/Organization\";\r\nimport { addOrganizationusers, organizationusersDetail, Editorganizationusers } from \"@/api/systemManage/OrganizationUser\";\r\nimport { getOrganizationList, getorgcascader, getuserDrop } from '@/api/organizationManagement.js';\r\nimport { usedictionarydetails } from '@/api/dict.js'\r\nimport { getOrganizationrolesList } from \"@/api/systemManage/OrganizationRole\";\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 表单配置\r\n      formConfig: {\r\n        title: \"\",\r\n        visible: false,\r\n        width: \"70%\",\r\n        opt: \"\",\r\n        rederView: true\r\n      },\r\n      Continue: false,\r\n      isshow: true,\r\n      RoleIdsData: [], //角色列表\r\n      tenantData: [{\r\n        OrganizationId: this.$utilsFun.getUserInfo().authOrgId,\r\n        OrganizationName: this.$utilsFun.getUserInfo().authOrgName,\r\n        Children: []\r\n      }], //机构数组\r\n      propslist: {\r\n        value: \"OrganizationId\",\r\n        label: \"OrganizationName\",\r\n        children: \"Children\",\r\n        checkStrictly: true,\r\n        emitPath: false,\r\n        lazy: true,\r\n        lazyLoad: this.lazyLoad\r\n      },\r\n      // 表单数据\r\n      formData: {\r\n        Status: true,\r\n        RoleIds: [],\r\n        OrganizationId: this.$utilsFun.getUserInfo().authOrgId\r\n      },\r\n      formDataCopy: {},\r\n      // 验证规则\r\n      formRules: {},\r\n      A0003: [],\r\n    };\r\n  },\r\n  created () {\r\n    this.funusedictionarydetails();\r\n    this.setformRules()\r\n    this.roleData()\r\n  },\r\n  methods: {\r\n    searchRegion (el) {\r\n      if (!el.target.value) {\r\n        return false;\r\n      } else {\r\n        //这里用了防抖来限制发送频率的次数 本身cascader也有debounce属性 但这里我没有用\r\n        clearTimeout(this.timer);\r\n        this.timer = setTimeout(() => {\r\n          //特别注意这里 如果不这么写的话 上一次的搜索结果还是会高亮显示 并且会报错 所以先清空一下\r\n          this.$refs.regionDom.$refs.panel.activePath = [];\r\n          getOrganizationList({\r\n            OrganizationName: el.target.value,\r\n            PageNumber: 1,\r\n            PageSize: 999\r\n          }).then(res => {\r\n            if (res.Response.items.length !== 0) {\r\n              this.tenantData = res.Response.items;\r\n            }\r\n          })\r\n        }, 1200)\r\n      }\r\n    },\r\n    filterRegion (value) {\r\n      return false;\r\n    },\r\n    regionMenuChange (boolean) {\r\n      //true下拉框展开 false下拉框收起  展开时清掉上次搜索结果 恢复如初\r\n      if (boolean) {\r\n        this.$refs.regionDom.$refs.panel.activePath = [];\r\n        this.getTenantData(this.$utilsFun.getUserInfo().authOrgId);\r\n      }\r\n    },\r\n    //处理机构从哪一级开始\r\n    filterOneHospData (list) {\r\n      let authOrgId = this.$utilsFun.getUserInfo().authOrgId\r\n      if (!list && list.length) {\r\n        return [];\r\n      }\r\n      let newRegion = []; //组装新数据\r\n      fn(list);\r\n      function fn (data) {\r\n        for (let i = 0, len = data.length; i < len; i++) {\r\n          if (data[i].OrganizationId === authOrgId) {\r\n            newRegion.push(data[i]);\r\n            break;\r\n          } else if (data[i]?.Children) {\r\n            fn(data[i].Children);\r\n          }\r\n        }\r\n      }\r\n      return newRegion;\r\n    },\r\n    //获取机构列表\r\n    async getTenantData (val) {\r\n      const res = await cascader(val);\r\n      this.tenantData = this.filterOneHospData(res.Response);\r\n    },\r\n    async roleData () {\r\n      let res = await getOrganizationrolesList({\r\n        PageNumber: 1,\r\n        PageSize: 9999,\r\n      })\r\n      this.RoleIdsData = res.Response.items;\r\n    },\r\n    // 字典数据请求\r\n    async funusedictionarydetails () {\r\n      const res = await usedictionarydetails({\r\n        CategoryCode: ['A0003']\r\n      })\r\n      this.A0003 = res.Response.items.filter((i) => i.CategoryCode == 'A0003')\r\n    },\r\n    setformRules () {\r\n      let arr = [{\r\n        trigger: 'blur',\r\n        message: \"所属机构\",\r\n        key: \"OrganizationId\"\r\n      },\r\n      {\r\n        trigger: 'blur',\r\n        message: \"姓名\",\r\n        key: \"RealName\"\r\n      },\r\n      // { trigger: 'change', message: \"性别\", key: \"Sex\" },\r\n      {\r\n        trigger: 'change',\r\n        message: \"角色\",\r\n        key: \"RoleIds\"\r\n      },\r\n      {\r\n        trigger: 'blur',\r\n        message: \"授权账户\",\r\n        key: \"Identifier\"\r\n      },\r\n      {\r\n        trigger: 'blur',\r\n        message: \"账号密码\",\r\n        key: \"Credential\"\r\n      },\r\n      ]\r\n      for (let item of arr) {\r\n        let obj = {\r\n          trigger: item.trigger,\r\n          required: true,\r\n        }\r\n        if (item.trigger == 'blur') obj.message = item.message + '不能为空';\r\n        if (item.trigger == 'change') obj.message = '请选择' + item.message;\r\n        this.formRules[item.key] = obj\r\n      }\r\n    },\r\n    async lazyLoad (node, resolve) {\r\n      let {\r\n        level\r\n      } = node;\r\n      let params = node.value\r\n      getList({\r\n        Org_OrganizationId: params,\r\n        PageNumber: 1,\r\n        PageSize: 9999,\r\n      }).then(res => { //接口\r\n        if (res && res.StatusCode == 200) {\r\n          let data = [res.Response]\r\n          if (level > 0) {\r\n            data = res.Response.items\r\n          }\r\n          resolve(data);\r\n        } else {\r\n          this.$message.error('获取地区数据失败')\r\n        }\r\n      })\r\n    },\r\n    //关闭弹框\r\n    handleClose () {\r\n      this.$nextTick(() => {\r\n        this.$refs['refForm'].resetFields();\r\n      })\r\n      this.formConfig.visible = false;\r\n    },\r\n    //完成并下一个\r\n    submitandContinue () {\r\n      this.Continue = true;\r\n      this.submit()\r\n    },\r\n    // 提交\r\n    submit () {\r\n      let that = this;\r\n      this.$refs.refForm.validate(async (valid) => {\r\n        if (valid) {\r\n          if (that.formConfig.opt == 'add') {\r\n            await addOrganizationusers(that.formData);\r\n            this.$message.success(\"新增成功\");\r\n            if (that.Continue) {\r\n              that.Continue = false;\r\n            } else {\r\n              that.$emit(\"submit\")\r\n              that.handleClose()\r\n            }\r\n          }\r\n          if (that.formConfig.opt == 'edit') {\r\n            let arr = that.$utilsFun.compareObj(that.formData, that.formDataCopy)\r\n            await Editorganizationusers({\r\n              UserId: that.formData.UserId,\r\n              data: arr\r\n            })\r\n            this.$message.success(\"编辑成功\");\r\n            that.$emit(\"submit\")\r\n            that.handleClose()\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 初始化弹框，获取详情\r\n    async getDetail (param) {\r\n      let that = this;\r\n      if (param.opt == \"\" || param.opt == null) {\r\n        return this.$message.error(\"未知操作\");\r\n      }\r\n      this.formConfig = Object.assign(this.formConfig, param);\r\n      if (param.opt == 'add') {\r\n        this.$nextTick(() => {\r\n          this.getTenantData(this.$utilsFun.getUserInfo().authOrgId)\r\n          that.formData = {\r\n            ...{\r\n              Status: true,\r\n              RoleIds: [],\r\n              Credential: 'jxCDC!2022'\r\n            }\r\n          }\r\n          that.formData.OrganizationId = this.$utilsFun.getUserInfo().authOrgId\r\n        })\r\n      } else {\r\n        this.getTenantData(param.OrganizationId)\r\n        let res = await organizationusersDetail(param.UserId);\r\n        this.$nextTick(() => {\r\n          this.formData = {\r\n            ...res.Response\r\n          }\r\n        })\r\n        this.formDataCopy = res.Response\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}