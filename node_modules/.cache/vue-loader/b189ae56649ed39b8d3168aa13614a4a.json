{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\fileManagement\\patientRecords\\components\\Edit.vue?vue&type=style&index=0&id=c46d8812&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\fileManagement\\patientRecords\\components\\Edit.vue","mtime":1678931188574},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\css-loader\\dist\\cjs.js","mtime":1678931311747},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1678931317953},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\postcss-loader\\src\\index.js","mtime":1678931314216},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1678931310798},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1yb3cgewoJbWFyZ2luOiA1cHggMDsKfQoKLnJvdyB7CgltYXJnaW4tbGVmdDogNjBweDsKfQo="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqyBA;AACA;AACA;;AAEA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/views/fileManagement/patientRecords/components","sourcesContent":["<template>\r\n\t\t<el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" :close-on-click-modal=\"false\" width=\"80%\" top=\"20px\"\r\n\t\t\t@close=\"close\">\r\n\t\t\t<div slot=\"title\" class=\"dialog-title\">\r\n\t\t\t\t<div class=\"sectionstly\"></div>\r\n\t\t\t\t<span class=\"title-text\">{{ title }}</span>\r\n\t\t\t\t<div class=\"button-right\">\r\n\t\t\t\t\t<span class=\"title-close\" @click=\"close\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<el-form class=\"form_row\" ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\r\n\t\t\t\t<!-- RegionCode -->\r\n\t\t\t\t<!-- <el-row :gutter=\"20\">\r\n\t\t    <el-col :span=\"7\">\r\n\t\t      <el-form-item label=\"行政区划\" prop=\"RegionCode\">\r\n\t\t        <MyCascader v-model=\"form.RegionCode\" :props=\"props\" clearable></MyCascader>\r\n\t\t      </el-form-item>\r\n\t\t    </el-col>\r\n\t\t  </el-row> -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"姓名\" prop=\"Name\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.Name\" placeholder=\"请输入内容\" :disabled=\"title == '详情'\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"证件类型\" prop=\"CardType\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.CardType\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in A0004\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.DetailsCode\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"证件号\" prop=\"CardNo\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.CardNo\" @input.native=\"idCardNoChange\" placeholder=\"请输入内容\"\r\n\t\t\t\t\t\t\t\t:disabled=\"title == '详情'\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"性别\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.Sex\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in A0003\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.DetailsCode\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"年龄\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.Age\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"出生日期\">\r\n\t\t\t\t\t\t\t<el-date-picker v-model=\"form.BirthDay\" align=\"center\" type=\"date\" :disabled=\"IsCardTypefalg\">\r\n\t\t\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"民族\" prop=\"Nation\">\r\n\t\t\t\t\t\t\t<el-select filterable v-model=\"form.Nation\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in A0005\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.DetailsCode\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"国籍\" prop=\"Nationality\">\r\n\t\t\t\t\t\t\t<el-select filterable v-model=\"form.Nationality\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in A0038\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.DetailsCode\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"联系方式\" prop=\"Phone\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.Phone\" placeholder=\"请输入内容\" :disabled=\"title == '详情'\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<!-- <el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"档案编号\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.FileNumber\" placeholder=\"请输入内容\" disabled>\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col> -->\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"建档日期\" prop=\"FileDate\">\r\n\t\t\t\t\t\t\t<el-date-picker v-model=\"form.FileDate\" type=\"date\" align=\"center\" placeholder=\"选择日期\">\r\n\t\t\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<!-- <el-form-item label=\"管理机构\" prop=\"AdminOrganization\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.AdminOrganization\" placeholder=\"请输入内容\" :disabled=\"title == '详情'\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t\t<el-form-item label=\"管理机构\">\r\n\t\t\t\t\t\t\t<!-- <el-cascader\r\n\t\t\t\t\t\t    clearable\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t    :props=\"{checkStrictly:true,emitPath:false,label:'OrganizationName',value:'OrganizationId'}\"\r\n\t\t\t\t\t\t    v-model=\"form.AdminOrganization\"\r\n\t\t\t\t\t\t\t :show-all-levels=\"false\"\r\n\t\t\t\t\t\t    :options=\"tenantData\"/> -->\r\n\t\t\t\t\t\t\t<!-- <el-cascader @change=\"changeOrg\" style=\"width:100%\" :options=\"tenantData\" :props=\"propslist\"\r\n\t\t\t\t\t\t\t\tv-model=\"form.AdminOrganization\" clearable></el-cascader> -->\r\n\t\t\t\t\t\t\t<el-cascader style=\"width: 100%\"  disabled :options=\"tenantData\" @change=\"changeOrg\"\r\n\t\t\t\t\t\t\t\t:props=\"propslist\" v-model=\"form.AdminOrganization\" :show-all-levels=\"false\" clearable>\r\n\t\t\t\t\t\t\t</el-cascader>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"责任医师\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.ResponsibilityName\" disabled placeholder=\"请选择责任医师\"></el-input>\r\n\t\t\t\t\t\t\t<!-- <el-select v-model=\"form.Responsibility\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in options\" :key=\"item.index\" :label=\"item.label\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.value\">\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select> -->\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"居住行政区划:\" prop=\"RegionCode\">\r\n\t\t\t\t\t\t\t<MyCascader v-model=\"form.RegionCode\" :options=\"regionsData\" :show-all-levels=\"true\"\r\n\t\t\t\t\t\t\t\t:props=\"propsData\" clearable @callbacklable=\"Regionlable\"></MyCascader>\r\n\t\t\t\t\t\t\t<!-- <el-cascader  style=\"width:100%\" :options=\"regionsData\"  :props=\"propsData\" \r\n\t\t\t\t\t\t    v-model=\"form.RegionCode\"  clearable></el-cascader> -->\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"16\">\r\n\t\t\t\t\t\t<el-form-item label=\"居住地址\" prop=\"Address\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.Address\" placeholder=\"请输入内容\" :disabled=\"title == '详情'\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"户籍行政区划:\" prop=\"ResidenceRegionCode\">\r\n\t\t\t\t\t\t\t<MyCascader v-model=\"form.ResidenceRegionCode\" :options=\"regionsData\" :show-all-levels=\"true\"\r\n\t\t\t\t\t\t\t\t:props=\"propsData\" clearable @callbacklable=\"ResidenceRegionlable\"></MyCascader>\r\n\t\t\t\t\t\t\t<!-- <el-cascader  style=\"width:100%\" :options=\"regionsData\"  :props=\"propsData\" \r\n\t\t\t\t\t\t    v-model=\"form.RegionCode\"  clearable></el-cascader> -->\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"16\">\r\n\t\t\t\t\t\t<el-form-item label=\"户籍地址\" prop=\"ResidenceAddress\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.ResidenceAddress\" placeholder=\"请输入内容\" :disabled=\"title == '详情'\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<!-- <el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"职业\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.Occupation\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in A0007\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.DetailsCode\">\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col> -->\r\n\t\t\t\t\t\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"8\" v-if=\"IsUserAcc\">\r\n\t\t\t\t\t\t<el-form-item label=\"建档人\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.UserAccName\" placeholder=\"请输入内容\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"工作地址\" prop=\"WorkUnit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.WorkUnit\" placeholder=\"请输入内容\" :disabled=\"title == '详情'\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t\t<el-form-item label=\"人群分类\" prop=\"CrowClass\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.CrowClass\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in A0037\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.DetailsCode\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t<el-col :span=\"20\">\r\n\t\t\t\t\t\t<el-form-item label=\"人群属性\" prop=\"ContractStaffs\">\r\n\t\t\t\t\t\t\t<el-checkbox-group v-model=\"form.ContractStaffs\" :disabled=\"title == '详情'\">\r\n\t\t\t\t\t\t\t\t<el-checkbox v-for=\"item in ContractStaffs\" :key=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:label=\"Number(item.DetailsCode)\">\r\n\t\t\t\t\t\t\t\t\t{{ item.DetailsName }}\r\n\t\t\t\t\t\t\t\t</el-checkbox>\r\n\t\t\t\t\t\t\t</el-checkbox-group>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\">\r\n\t\t\t\t<el-button class=\"cancelbtn\" @click=\"close\">取 消</el-button>\r\n\t\t\t\t<el-button class=\"savebtn\" type=\"primary\" @click=\"handlerSave\" :disabled=\"title == '详情'\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t\t<ResponsSelect ref=\"selectRespons\"></ResponsSelect>\r\n\t\t\t<!-- <inEdit ref=\"inedit\" :closepage='close'></inEdit> -->\r\n\t\t</el-dialog>\r\n</template>\r\n<script>\r\n\t/* api */\r\n\timport {\r\n\t\tusedictionarydetails\r\n\t} from '@/api/dict.js'\r\n\timport MyCascader from \"@/components/MyCascader\"\r\n\timport ResponsSelect from \"../components/ResponsSelect.vue\"\r\n\timport inEdit from \"../components/inEdit.vue\"\r\n\timport {\r\n\t\taddmanagementist,\r\n\t\tupdatemanagementist,\r\n\t\tgeneratefilenumber,\r\n\t\tardNoemanagementist,\r\n\t\tdetailmanagementist\r\n\t} from '@/api/Person.js'\r\n\timport {\r\n\t\tgetOrganizationList,\r\n\t\tgetorgcascader,\r\n\t\tgetuserDrop\r\n\t} from '@/api/organizationManagement.js'\r\n\timport {\r\n\t\tregions,\r\n\t\tgetRegions\r\n\t} from \"@/api/inputselect.js\";\r\n\texport default {\r\n\t\tname: \"Edit\",\r\n\t\tcomponents: {\r\n\t\t\tMyCascader,\r\n\t\t\tResponsSelect,\r\n\t\t\tinEdit\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tprops: {\r\n\t\t\t\t\temitPath: false,\r\n\t\t\t\t\tlabel: \"RegionName\",\r\n\t\t\t\t\tchildren: \"Children\",\r\n\t\t\t\t\tvalue: \"RegionCode\",\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tcheckStrictly: true,\r\n\t\t\t\t\tlazy: true,\r\n\t\t\t\t\tA0003: [],\r\n\t\t\t\t\tdictarr: [],\r\n\t\t\t\t\tA0007: [],\r\n\r\n\t\t\t\t},\r\n\t\t\t\tA0037: [],\r\n\t\t\t\tA0005: [],\r\n\t\t\t\tA0038: [],\r\n\t\t\t\tA0004: [],\r\n\t\t\t\tA0003: [],\r\n\t\t\t\tA0007: [],\r\n\t\t\t\tIsUserAcc: false,\r\n\t\t\t\tContractStaffs: [],\r\n\t\t\t\tpropslist: {\r\n\t\t\t\t\tvalue: \"OrganizationId\",\r\n\t\t\t\t\tlabel: \"OrganizationName\",\r\n\t\t\t\t\tchildren: \"Children\",\r\n\t\t\t\t\tcheckStrictly: true,\r\n\t\t\t\t\temitPath: false,\r\n\t\t\t\t\tlazy: true,\r\n\t\t\t\t\tlazyLoad: this.lazyLoad\r\n\t\t\t\t},\r\n\t\t\t\tpropsData: {\r\n\t\t\t\t\temitPath: false,\r\n\t\t\t\t\tlabel: \"RegionName\",\r\n\t\t\t\t\tchildren: \"Children\",\r\n\t\t\t\t\tvalue: \"RegionCode\",\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tcheckStrictly: true,\r\n\t\t\t\t\tlazy: true,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tIsCardTypefalg: true, //出生日期是否禁用\r\n\t\t\t\t// 弹窗的开关\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\tflag: \"\",\r\n\t\t\t\tContractStaffList: [],\r\n\t\t\t\t// 保存修改信息\r\n\t\t\t\tcopyform: {},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tContractStaffs: [],\r\n\t\t\t\t\tRegionCode: '',\r\n\t\t\t\t\tAdminOrganization: '',\r\n\t\t\t\t\tCardType: '01',\r\n\t\t\t\t\tNation: '1',\r\n\t\t\t\t\tNationality: '156',\r\n\t\t\t\t\tAddress:'',\r\n\t\t\t\t\tResidenceAddress:'',\r\n\t\t\t\t},\r\n\t\t\t\tRegionCode: '',\r\n\t\t\t\thasinfo: [],\r\n\t\t\t\tdictarr: [],\r\n\t\t\t\ttenantData: [], //机构列表\r\n\t\t\t\toptions: [], //下拉列表\r\n\t\t\t\tregionsData: [],\r\n\t\t\t\t//  表单验证\r\n\t\t\t\trules: {\r\n\t\t\t\t\tName: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tSex: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请选择\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tCardType: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请选择证件类型\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tAge: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tFileDate: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请选择建档日期\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tNationality: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请选择\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tPhone: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tNation: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请选择\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tCardNo: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n                    ResidenceRegionCode: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请选择\",\r\n\t\t\t\t\t\ttrigger: \"chance\"\r\n\t\t\t\t\t}, ],\r\n                    RegionCode: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请选择\",\r\n\t\t\t\t\t\ttrigger: \"chance\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tOccupation: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tCrowClass: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tWorkUnit: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tAddress: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tResidenceAddress: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tBirthDay: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tResponsibility: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tContractStaffs: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请至少选择一项\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\r\n\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tawait this.usedictionarydetails()\r\n\t\t\tawait this.funusedictionarydetails()\r\n\t\t\tawait this.funusedictionarydetails2()\r\n\t\t\tawait this.funusedictionarydetails3()\r\n\t\t\tawait this.funusedictionarydetails4()\r\n\t\t\tawait this.funusedictionarydetails5()\r\n\t\t\tawait this.funusedictionarydetails6()\r\n\t\t\tthis.form.AdminOrganization = this.$utilsFun.getUserInfo().authOrgId;\r\n\t\t\tthis.form.RegionCode = this.$utilsFun.getUserInfo().authRegionCode;\r\n\t\t\tawait this.getorganizationlist() //获取机构列表\r\n\t\t\t// await this.getarchivesnum() //获取档案编号\r\n\t\t\t// await this.getorganizationlist() //获取机构列表\r\n\t\t\t// await this.getuserDropList() //根据机构获取用户下拉列表\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//人群属性\r\n\t\t\tasync usedictionarydetails(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0021'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tthis.ContractStaffs = res.Response.items\r\n\t\t\t},\r\n\t\t\t//行政区域列表\r\n\t\t\tasync regionsList() {\r\n\t\t\t\tconst res = await regions(this.form.RegionCode);\r\n\t\t\t\tthis.regionsData = res.Response;\r\n\r\n\t\t\t},\r\n\t\t\tasync detailmanagementistlist(data) {\r\n\t\t\t\tconst res = await detailmanagementist(data.PersonId)\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\t...res.Response,\r\n\t\t\t\t\t// ...this.form\r\n\t\t\t\t};\r\n\t\t\t\tthis.copyform = {\r\n\t\t\t\t\t...res.Response,\r\n\t\t\t\t\t// ...this.form\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取档案编号\r\n\t\t\tasync getarchivesnum() {\r\n\t\t\t\tconst res = await generatefilenumber();\r\n\t\t\t\tthis.form.FileNumber = res;\r\n\t\t\t},\r\n\t\t\tasync lazyLoad(node, resolve) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tlevel\r\n\t\t\t\t} = node;\r\n\t\t\t\tlet params = node.value\r\n\t\t\t\tgetOrganizationList({\r\n\t\t\t\t\tOrg_OrganizationId: params,\r\n\t\t\t\t\tPageSize: 9999,\r\n\t\t\t\t}).then(res => { //接口\r\n\t\t\t\t\tif (res && res.StatusCode == 200) {\r\n\t\t\t\t\t\tlet data = [res.Response]\r\n\t\t\t\t\t\tif (level > 0) {\r\n\t\t\t\t\t\t\tdata = res.Response.items\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve(data);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message.error('获取地区数据失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//医师下拉\r\n\t\t\tasync getuserDropList() {\r\n\t\t\t\tvar organizationId = this.form.AdminOrganization;\r\n\t\t\t\tvar selectOnly = true;\r\n\t\t\t\tconst res = await getuserDrop(organizationId, selectOnly);\r\n\t\t\t\tthis.options = []; //下拉列表\r\n\t\t\t\tif (res.Response.length !== 0) {\r\n\t\t\t\t\tif (res.Response.length == 1) {\r\n\t\t\t\t\t\tthis.form.Responsibility = res.Response[0].Id;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let item of res.Response) {\r\n\t\t\t\t\t\tthis.options.push({\r\n\t\t\t\t\t\t\tlabel: item.Name,\r\n\t\t\t\t\t\t\tvalue: item.Id,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取机构列表\r\n\t\t\tasync getorganizationlist() {\r\n\t\t\t\tconst res = await getorgcascader(this.form.AdminOrganization);\r\n\t\t\t\t// for(let i in res.Response){\r\n\t\t\t\t// \tres.Response[i]['label']=res.Response[i].OrganizationName\r\n\t\t\t\t// \tres.Response[i]['value']=res.Response[i].OrganizationId\r\n\t\t\t\t// }\r\n\t\t\t\tthis.tenantData = res.Response;\r\n\t\t\t},\r\n\t\t\tasync funusedictionarydetails(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0003'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tthis.A0003 = res.Response.items\r\n\t\t\t},\r\n\t\t\tasync funusedictionarydetails2(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0007'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tthis.A0007 = res.Response.items\r\n\t\t\t},\r\n\t\t\tasync funusedictionarydetails3(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0037'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tthis.A0037 = res.Response.items\r\n\t\t\t},\r\n\t\t\tasync funusedictionarydetails4(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0005'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tthis.A0005 = res.Response.items\r\n\t\t\t},\r\n\t\t\tasync funusedictionarydetails5(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0038'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tthis.A0038 = res.Response.items\r\n\t\t\t},\r\n\t\t\tasync funusedictionarydetails6(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0004'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tthis.A0004 = res.Response.items\r\n\t\t\t},\r\n\t\t\tRegionlable(value) { //选择行政区域给居住地址，户籍地址赋值\r\n\t\t\t\tlet newvalue = '';\r\n\t\t\t\tlet newarr = value.reverse();\r\n\t\t\t\tfor (let i in newarr) {\r\n\t\t\t\t\tnewvalue = value[i] + '/' + newvalue\r\n\t\t\t\t}\r\n\t\t\t\t// this.form.ResidenceAddress = newvalue;\r\n\t\t\t\tthis.form.Address = newvalue;\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\tResidenceRegionlable(value) { //选择行政区域给居住地址，户籍地址赋值\r\n\t\t\t\tlet newvalue = '';\r\n\t\t\t\tlet newarr = value.reverse();\r\n\t\t\t\tfor (let i in newarr) {\r\n\t\t\t\t\tnewvalue = value[i] + '/' + newvalue\r\n\t\t\t\t}\r\n\t\t\t\tthis.form.ResidenceAddress = newvalue;\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t// this.form.Address = newvalue;\r\n\t\t\t},\r\n\t\t\t// //获取选择到的医师信息\r\n\t\t\t// getSelectRespons(data){\r\n\t\t\t//      this.$refs.patientInfoRefFrom.resetFields();\r\n\t\t\t//      this.patientInfo = data[0]\r\n\t\t\t//      this.formData.patientName = data[0].patientName;\r\n\t\t\t//      this.formData.patientNo = data[0].patientID;\r\n\t\t\t//      this.formData.medicalRecordNo = data[0].medicaL_RECORD_NO;//病历号\r\n\t\t\t// },\r\n\t\t\t//    //选择医师\r\n\t\t\t// selectRespons(){\r\n\t\t\t//      var param = {\r\n\t\t\t//        title:'选择医师',\r\n\t\t\t//        visible:true,\r\n\t\t\t//        OrganizationId:this.form.AdminOrganization,\r\n\t\t\t//        num:1\r\n\t\t\t//      }\r\n\t\t\t//      this.$refs.selectRespons.getDetail(param)\r\n\t\t\t// },\r\n\t\t\t//选择行政区域\r\n\t\t\tchangeOrg(value) {\r\n\t\t\t\tthis.form.AdminOrganization = value;\r\n\t\t\t\tthis.options = [];\r\n\t\t\t\tthis.form.Responsibility = '';\r\n\t\t\t\t// this.getuserDropList()\r\n\t\t\t},\r\n\r\n\t\t\t// 证件号change触发事件\r\n\t\t\tasync idCardNoChange() {\r\n\t\t\t\tconst IdNmber = this.form.CardNo\r\n\t\t\t\tif (IdNmber.length !== 18) return\r\n\t\t\t\tlet res = await ardNoemanagementist(IdNmber);\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif (res.Response !== undefined && res.Response != null && res.Response.length > 0) {\r\n\t\t\t\t\tif (res.Response.length !== 0) {\r\n\t\t\t\t\t\t// this.form.CardNo = '';\r\n\t\t\t\t\t\t// this.form.Age = '';\r\n\t\t\t\t\t\t// this.form.Sex = '';\r\n\t\t\t\t\t\t// this.form.BirthDay = '';\r\n\t\t\t\t\t\t// return this.$message.error(\"本系统已存在该证件号,请重新输入\");\r\n\t\t\t\t\t\tlet AdminOrganizationRegionName = res.Response[0].AdminOrganizationRegionName;\r\n\t\t\t\t\t\tlet AdminOrganizationName = res.Response[0].AdminOrganizationName;\r\n\t\t\t\t\t\tlet OperateTimeFirst = res.Response[0].OperateTimeFirst.slice(0, 10);\r\n\t\t\t\t\t\t// \tself.close()\r\n\t\t\t\t\t\t//`当前人员已于${OperateTimeFirst}在${AdminOrganizationRegionName}${AdminOrganizationName}机构建档,是否提交转入申请`,'提示'\r\n\t\t\t\t\t\t// self.$baseConfirm(`当前人员已于${OperateTimeFirst}在${AdminOrganizationRegionName}${AdminOrganizationName}机构建档,是否提交转入申请`, null,() => {\r\n\t\t\t\t\t\t// \tself.$refs.inedit.show(flag, res.Response[0])\r\n\t\t\t\t\t\t// \tself.close()\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\tthis.$confirm(\r\n\t\t\t\t\t\t\t`当前输入的证件号已存在,请确认`,\r\n\t\t\t\t\t\t\t'提示', {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\tself.form.CardNo = '';\r\n\t\t\t\t\t\t\t// self.$refs.inedit.show(res.Response[0])\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst sex = IdNmber.slice(16, 17)\r\n\t\t\t\t\tconst myDate = new Date();\r\n\t\t\t\t\tconst month = myDate.getMonth() + 1;\r\n\t\t\t\t\tconst day = myDate.getDate();\r\n\t\t\t\t\t//出生日期\r\n\t\t\t\t\tthis.form.BirthDay = IdNmber.slice(6, 10) + '-' + IdNmber.slice(10, 12) + '-' + IdNmber.slice(\r\n\t\t\t\t\t\t12, 14)\r\n\t\t\t\t\t// 年龄\r\n\t\t\t\t\tif (IdNmber.slice(6, 14).length == 8) {\r\n\t\t\t\t\t\tthis.form.Age = myDate.getFullYear() - IdNmber.slice(6, 10) - 1\r\n\t\t\t\t\t\tif (IdNmber.slice(10, 12) < month || IdNmber.slice(10, 12) == month && IdNmber.slice(12,\r\n\t\t\t\t\t\t\t\t14) <= day) {\r\n\t\t\t\t\t\t\tthis.form.Age++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 性别\r\n\t\t\t\t\t\tif (IdNmber.length == 17 || IdNmber.length == 18) {\r\n\t\t\t\t\t\t\tif (sex % 2 == 0) {\r\n\t\t\t\t\t\t\t\tthis.form.Sex = '2'\r\n\t\t\t\t\t\t\t} else if (sex % 2 == 1) {\r\n\t\t\t\t\t\t\t\tthis.form.Sex = '1'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tthis.$forceUpdate(); //刷新一下form\r\n\t\t\t},\r\n\r\n\t\t\t// 确认新增？修改\r\n\t\t\tasync show(flag, data) {\r\n\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t\tthis.flag = flag;\r\n\t\t\t\tif (flag == \"add\") {\r\n\t\t\t\t\tthis.title = \"建档\";\r\n\r\n\t\t\t\t\tthis.form.UserAccName = this.$utilsFun.getUserInfo().real_Name; //给建档人默认当前人\r\n\t\t\t\t\tthis.form.UserAcc = this.$utilsFun.getUserInfo().identifier; //给建档人默认当前人\r\n\t\t\t\t\tthis.form.ResponsibilityName = this.$utilsFun.getUserInfo().real_Name; //给建档人默认当前人\r\n\t\t\t\t\tthis.form.Responsibility = this.$utilsFun.getUserInfo().identifier; //给建档人默认当前人\r\n\r\n\t\t\t\t\tthis.form.AdminOrganization = this.$utilsFun.getUserInfo().authOrgId;\r\n\t\t\t\t\tthis.form.RegionCode = this.$utilsFun.getUserInfo().authRegionCode;\r\n\t\t\t\t\tvar datetime = new Date();\r\n\t\t\t\t\tvar year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n\t\t\t\t\tvar month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n\t\t\t\t\tvar date = datetime.getDate(); //获取日(返回1-31)\r\n\t\t\t\t\t//判断小于等于9月的时候在月份前加一个\"0\"\r\n\t\t\t\t\tif (month <= 9) {\r\n\t\t\t\t\t\tmonth = \"0\" + month;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//判断小于等于9号的时候在天数前加一个\"0\"\r\n\t\t\t\t\tif (date <= 9) {\r\n\t\t\t\t\t\tdate = \"0\" + date;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form.FileDate = year + \"-\" + month + \"-\" + date; //给建档时间默认当前\r\n\t\t\t\t\tthis.IsUserAcc = true;\r\n\t\t\t\t\t// this.form.RegionCode = data\r\n\t\t\t\t\t// await this.getarchivesnum() //获取档案编号\r\n\t\t\t\t\t// await this.getorganizationlist() //获取机构列表\r\n\t\t\t\t\t// await this.getuserDropList() //根据机构获取用户下拉列表\r\n\t\t\t\t\tawait this.regionsList() //行政区域列表\r\n\t\t\t\t} else if (flag == \"details\") {\r\n\t\t\t\t\tthis.title = \"详情\";\r\n\t\t\t\t\tthis.form = {\r\n\t\t\t\t\t\t...data\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (flag == \"edit\") {\r\n\t\t\t\t\tthis.title = \"编辑\";\r\n\t\t\t\t\tthis.IsUserAcc = false;\r\n\t\t\t\t\tawait this.detailmanagementistlist(data)\r\n\t\t\t\t\t// this.form = {\r\n\t\t\t\t\t// \t...data\r\n\t\t\t\t\t// };\r\n\t\t\t\t\t// this.copyform = {\r\n\t\t\t\t\t// \t...data\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tawait this.getorganizationlist() //获取机构列表\r\n\t\t\t\t\t// await this.getuserDropList() //根据机构获取用户下拉列表\r\n\t\t\t\t\tawait this.regionsList() //行政区域列表\r\n\t\t\t\t\t// this.form.UserAccName = this.$utilsFun.getUserInfo().real_Name; //给建档人默认当前人\r\n\t\t\t\t\t// this.form.UserAcc = this.$utilsFun.getUserInfo().identifier; //给建档人默认当前人\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// this.ContractStaffsdata = this.form.ContractStaffs;\r\n\r\n\r\n\t\t\t},\r\n\t\t\t// 保存\r\n\t\t\thandlerSave() {\r\n\t\t\t\tthis.$refs[\"form\"].validate((valid) => {\r\n\t\t\t\t\tif (!valid) return;\r\n\t\t\t\t\tthis.hasinfo = [];\r\n\t\t\t\t\tfor (let key in this.form) {\r\n\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\tif (this.form[key] !== this.copyform[key]) {\r\n\t\t\t\t\t\t\tobj.op = 'replace',\r\n\t\t\t\t\t\t\t\tobj.value = this.form[key];\r\n\t\t\t\t\t\t\tobj.path = key;\r\n\t\t\t\t\t\t\tthis.hasinfo.push(obj)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$baseConfirm(`确认要${this.title}此患者吗？`, null, async () => {\r\n\t\t\t\t\t\tlet subData = Object.assign({}, this.form)\r\n\t\t\t\t\t\t//  subData=subData.ContractStaffs.toString()\r\n\t\t\t\t\t\tif (this.flag == 'add') {\r\n\r\n\t\t\t\t\t\t\tconst res = await addmanagementist(subData)\r\n\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tStatusCode,\r\n\t\t\t\t\t\t\t\tMessage,\r\n\t\t\t\t\t\t\t\tResponse\r\n\t\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\t\tif (!Response || StatusCode != 200) {\r\n\t\t\t\t\t\t\t\treturn this.$baseMessage(\r\n\t\t\t\t\t\t\t\t\tMessage || '数据获取失败', 'error'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$baseMessage('添加成功', \"success\")\r\n\t\t\t\t\t\t\t\tthis.$emit(\"submit\")\r\n\t\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// this.managementist()\r\n\t\t\t\t\t\t} else if (this.flag == 'edit') {\r\n\t\t\t\t\t\t\tconst personId = subData.PersonId\r\n\t\t\t\t\t\t\tconst res = await updatemanagementist({\r\n\t\t\t\t\t\t\t\tpersonId\r\n\t\t\t\t\t\t\t}, this.hasinfo)\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tStatusCode,\r\n\t\t\t\t\t\t\t\tMessage\r\n\t\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\t\tif (StatusCode != 200) {\r\n\t\t\t\t\t\t\t\treturn this.$baseMessage(\r\n\t\t\t\t\t\t\t\t\tMessage || '修改失败', 'error'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$baseMessage('修改成功', \"success\")\r\n\t\t\t\t\t\t\t\tthis.$emit(\"submit\")\r\n\t\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// this.managementist()\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.dialogVisible = false;\r\n\t\t\t\t// 重置数据(封装的方法)\r\n\t\t\t\tthis.form = this.$options.data().form;\r\n\t\t\t\tthis.$refs[\"form\"].resetFields();\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t'form.CardType': function() {\r\n\t\t\t\tif (this.form.CardType !== '01') {\r\n\t\t\t\t\tthis.IsCardTypefalg = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.IsCardTypefalg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=scss scoped>\r\n\t.el-row {\r\n\t\tmargin: 5px 0;\r\n\t}\r\n\r\n\t.row {\r\n\t\tmargin-left: 60px;\r\n\t}\r\n</style>\r\n"]}]}