{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationroles\\organizationroles.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationroles\\organizationroles.vue","mtime":1678931188715},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBwYWdlRWRpdCBmcm9tICIuL2NvbXBvbmVudHMvcGFnZUVkaXQiOwppbXBvcnQgewoJZ2V0T3JnYW5pemF0aW9ucm9sZXNMaXN0LAoJZGVsZXRlcwp9IGZyb20gIkAvYXBpL3N5c3RlbU1hbmFnZS9Pcmdhbml6YXRpb25Sb2xlIjsKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogIm1lZGljYWxTZXR0bGUiLAoJY29tcG9uZW50czogewoJCXBhZ2VFZGl0LAoJfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJdGFibGVEYXRhOiBbXSwKCQkJdGFibGVIZWlnaHQ6ICIzMDAiLCAvL3RhYmxl6auY5bqmCgkJCXRhYmxlTG9hZGluZzogZmFsc2UsCgkJCXRhYmxlRGF0YTogW10sCgkJCXNlYXJjaEZvcm06IHsKCQkJCVBhZ2VOdW1iZXI6IDEsCgkJCQlQYWdlU2l6ZTogMTAsCgkJCX0sCgkJCXRlbmFudERhdGE6IFtdLCAvL+inkuiJsuaVsOe7hAoJCQl0b3RhbDogMAoJCX07Cgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLmluaXRUYWJsZUhlaWdodCgpOwoJfSwKCXdhdGNoOiB7fSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5xdWVyeSgpOwoJfSwKCW1ldGhvZHM6IHsKCQlmaWx0ZXJBdXRob3JpdHlTY29wZSh7CgkJCXJvdwoJCX0pIHsKCQkJc3dpdGNoIChyb3cuQXV0aG9yaXR5U2NvcGUpIHsKCQkJCWNhc2UgJy0xJzoKCQkJCQlyZXR1cm4gJ+aXoOS7u+S9leadg+mZkCcKCQkJCWNhc2UgJzEnOgoJCQkJCXJldHVybiAn6Ieq5a6a5LmJ5p2D6ZmQJwoJCQkJY2FzZSAnMic6CgkJCQkJcmV0dXJuICfmnKzpg6jpl6gnCgkJCQljYXNlICczJzoKCQkJCQlyZXR1cm4gJ+acrOmDqOmXqOWPiuS7peS4iycKCQkJCWNhc2UgJzQnOgoJCQkJCXJldHVybiAn5LuF6Ieq5bexJwoJCQkJY2FzZSAnOSc6CgkJCQkJcmV0dXJuICflhajpg6gnCgkJCX0KCQl9LAoJCS8v5p+l6K+i5oyJ6ZKuCgkJcXVlcnlCdG4oKSB7CgkJCXRoaXMuc2VhcmNoRm9ybS5QYWdlTnVtYmVyID0gMTsKCQkJdGhpcy5xdWVyeSgpOwoJCX0sCgkJLy/ph43nva4KCQlyZXNldEJ0bigpIHsKCQkJdGhpcy4kcmVmc1sic2VhcmNoRm9ybSJdLnJlc2V0RmllbGRzKCk7CgkJCXRoaXMucXVlcnkoKQoJCX0sCgkJLy8g6I635Y+W6KeS6Imy5L+h5oGv5YiX6KGoCgkJYXN5bmMgcXVlcnkoKSB7CgkJCXRoaXMudGFibGVMb2FkaW5nID0gdHJ1ZTsKCQkJbGV0IHJlcyA9IGF3YWl0IGdldE9yZ2FuaXphdGlvbnJvbGVzTGlzdCh0aGlzLnNlYXJjaEZvcm0pCgkJCXRoaXMudGFibGVMb2FkaW5nID0gZmFsc2U7CgkJCXRoaXMudGFibGVEYXRhID0gcmVzLlJlc3BvbnNlLml0ZW1zOwoJCQl0aGlzLnRvdGFsID0gcmVzLlJlc3BvbnNlLlRvdGFsQ291bnQ7CgkJfSwKCQkvLyDliKDpmaQKCQlkZWxldChyb3cpIHsKCQkJdGhpcy4kY29uZmlybSgi56Gu6K6k6KaB5Yig6Zmk5ZCXPyIsICLliKDpmaQiLCB7CgkJCQljb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCgkJCQljYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKCQkJCXR5cGU6ICJlcnJvciIsCgkJCQlyb3VuZEJ1dHRvbjp0cnVlLAoJCQl9KS50aGVuKGFzeW5jICgpID0+IHsKCQkJCWF3YWl0IGRlbGV0ZXMocm93LlJvbGVJZCkKCQkJCXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CgkJCQl0aGlzLnF1ZXJ5QnRuKCkKCQkJfSk7CgkJfSwKCQkvLyDmlrDlop7op5LoibIKCQlhZGQoKSB7CgkJCXZhciBwYXJhbSA9IHsKCQkJCXRpdGxlOiAi5paw5aKe6KeS6ImyIiwKCQkJCXZpc2libGU6IHRydWUsCgkJCQlvcHQ6ICJhZGQiCgkJCX07CgkJCXRoaXMuJHJlZnMucGFnZUVkaXQuZ2V0RGV0YWlsKHBhcmFtKTsKCQl9LAoJCS8vIOS/ruaUueinkuiJsgoJCWVkaXQocm93KSB7CgkJCXZhciBwYXJhbSA9IHsKCQkJCXRpdGxlOiAi5L+u5pS56KeS6ImyIiwKCQkJCXZpc2libGU6IHRydWUsCgkJCQlvcHQ6ICJlZGl0IiwKCQkJCVJvbGVJZDogcm93LlJvbGVJZAoJCQl9OwoJCQl0aGlzLiRyZWZzLnBhZ2VFZGl0LmdldERldGFpbChwYXJhbSk7CgkJfSwKCQkvLyDliIbpobXlvZPliY3pobXlj5jljJblm57osIMKCQloYW5kbGVyUGFnZUNoYW5nZShQYWdlTnVtYmVyKSB7CgkJCXRoaXMuc2VhcmNoRm9ybS5QYWdlTnVtYmVyID0gUGFnZU51bWJlcjsKCQkJdGhpcy5xdWVyeSgpOwoJCX0sCgkJaW5pdFRhYmxlSGVpZ2h0KCkgewoJCQl0aGlzLiRuZXh0VGljaygoKSA9PiB7CgkJCQlsZXQgYXZhaWxIZWlnaHQgPSB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0OyAvL+mhtemdouWPr+inhuWMlumrmOW6pgoJCQkJdmFyIGVsUGFnZUNsaWVudEhlaWdodCA9IHRoaXMuJHJlZnMuZWxQYWdlLiRlbC5jbGllbnRIZWlnaHQ7IC8vIOWIhumhteWZqOmrmOW6pgoJCQkJdGhpcy50YWJsZUhlaWdodCA9IGF2YWlsSGVpZ2h0IC0gZWxQYWdlQ2xpZW50SGVpZ2h0IC0gMzgwOwoJCQl9KTsKCQl9LAoJCS8vIOWIhumhteavj+mhteadoeaVsOWPmOWMluWbnuiwgwoJCWhhbmRsZXJQYWdlU2l6ZUNoYW5nZShQYWdlU2l6ZSkgewoJCQl0aGlzLnNlYXJjaEZvcm0uUGFnZVNpemUgPSBQYWdlU2l6ZTsKCQkJdGhpcy5xdWVyeSgpOwoJCX0sCgoJfQp9Owo="},{"version":3,"sources":["organizationroles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"organizationroles.vue","sourceRoot":"src/views/systemManage/organizationroles","sourcesContent":["<template>\r\n\t<div class=\"box\">\r\n\t\t<!-- 搜索 -->\r\n\t\t<el-form ref=\"searchForm\" :model=\"searchForm\" label-width=\"80px\" size=\"small\" inline class=\"form_row\">\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t<el-form-item prop=\"RoleName\" label=\"角色名称:\">\r\n\t\t\t\t\t\t<el-input v-model=\"searchForm.RoleName\" clearable />\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t<el-form-item prop=\"AuthorityScope\" label=\"权限范围:\">\r\n\t\t\t\t\t\t<el-select v-model=\"searchForm.AuthorityScope\" placeholder=\"请选择权限范围\" clearable>\r\n\t\t\t\t\t\t\t<el-option label=\"无任何权限\" value=\"-1\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"自定义权限\" value=\"1\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"本部门\" value=\"2\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"本部门及以下\" value=\"3\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"仅自己\" value=\"4\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"全部\" value=\"9\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t<!-- <el-button @click=\"queryBtn\" type=\"primary\" style=\"margin-left: 10px\">查询</el-button>\r\n          <el-button @click=\"resetBtn\" plain>重置</el-button>\r\n          <el-button @click=\"add({ moduleId: '0' })\" type=\"success\">新增角色</el-button> -->\r\n\t\t\t\t\t<div class=\"searchbox\">\r\n\t\t\t\t\t\t<div class=\"searchBtn\" @click=\"queryBtn\">\r\n\t\t\t\t\t\t\t<img class=\"Btnicon\" src=\"@/assets/images/searchicon2.png\" alt=\"\">\r\n\t\t\t\t\t\t\t查询\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"ResetBtn\" style=\"margin-left: 10px;\" @click=\"resetBtn\">\r\n\t\t\t\t\t\t\t<img class=\"Btnicon\" src=\"@/assets/images/reseticon.svg\" alt=\"\">\r\n\t\t\t\t\t\t\t重置\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-form>\r\n\t\t<div class=\"butt\">\r\n\t\t\t<div class=\"buttbox\">\r\n\t\t\t\t<el-row :gutter=\"15\">\r\n\t\t\t\t\t<el-col :span=\"1.5\">\r\n\t\t\t\t\t\t<el-button class=\"addBtn Btn\" round type=\"primary\" @click=\"add({ moduleId: '0' })\">\r\n\t\t\t\t\t\t\t<img class=\"addBtnimg\" src=\"../../../assets/images/addbtnicon.svg\" alt=\"\" />\r\n\t\t\t\t\t\t\t新增\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- table -->\r\n\t\t<vxe-table :data=\"tableData\" ref=\"multipleTable\" tooltip-effect=\"light\" border size=\"small\" align=\"center\"\r\n\t\t\tclass=\"mytable-scrollbar\" resizable :height=\"tableHeight\" v-loading=\"tableLoading\">\r\n\t\t\t<vxe-table-column field=\"RoleName\" title=\"角色名称\" width=\"120\" />\r\n\t\t\t<vxe-table-column field=\"AuthorityScope\" title=\"权限范围\" width=\"100\" :formatter=\"filterAuthorityScope\" />\r\n\t\t\t<vxe-column field=\"Enabled\" title=\"激活状态\" width=\"100\">\r\n\t\t\t\t<template #default=\"{ row }\">\r\n\t\t\t\t\t<el-tag type=\"primary\" v-if=\"row.Enabled\">是</el-tag>\r\n\t\t\t\t\t<el-tag type=\"danger\" v-if=\"!row.Enabled\">否</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</vxe-column>\r\n\t\t\t<vxe-table-column field=\"OrderSort\" title=\"排序\" width=\"100\" />\r\n\t\t\t<vxe-table-column field=\"Description\" title=\"描述\" />\r\n\t\t\t<vxe-column title=\"操作\" width=\"150\" fixed=\"right\">\r\n\t\t\t\t<template #default=\"{ row }\">\r\n\t\t\t\t\t<div class=\"flex_center\">\r\n\t\t\t\t\t\t<el-link type=\"primary\" @click=\"edit(row)\">修改</el-link>\r\n\t\t\t\t\t\t<div class=\"Divider\"></div>\r\n\t\t\t\t\t\t<el-link type=\"danger\" @click=\"delet(row)\">删除</el-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</vxe-column>\r\n\t\t</vxe-table>\r\n\t\t<!-- 分页器 -->\r\n\t\t<div class=\"app-pagination\">\r\n\t\t\t<el-pagination ref=\"elPage\" :layout=\"paginationLayout\" :total=\"total\" :current-page=\"searchForm.PageNumber\"\r\n\t\t\t\t:page-size=\"searchForm.PageSize\" @current-change=\"handlerPageChange\"\r\n\t\t\t\t@size-change=\"handlerPageSizeChange\"></el-pagination>\r\n\t\t</div>\r\n\t\t<!-- 新增编辑接口信息 -->\r\n\t\t<pageEdit ref=\"pageEdit\" @submit=\"queryBtn\" />\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport pageEdit from \"./components/pageEdit\";\r\n\timport {\r\n\t\tgetOrganizationrolesList,\r\n\t\tdeletes\r\n\t} from \"@/api/systemManage/OrganizationRole\";\r\n\texport default {\r\n\t\tname: \"medicalSettle\",\r\n\t\tcomponents: {\r\n\t\t\tpageEdit,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t\ttableHeight: \"300\", //table高度\r\n\t\t\t\ttableLoading: false,\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tsearchForm: {\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 10,\r\n\t\t\t\t},\r\n\t\t\t\ttenantData: [], //角色数组\r\n\t\t\t\ttotal: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initTableHeight();\r\n\t\t},\r\n\t\twatch: {},\r\n\t\tcreated() {\r\n\t\t\tthis.query();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tfilterAuthorityScope({\r\n\t\t\t\trow\r\n\t\t\t}) {\r\n\t\t\t\tswitch (row.AuthorityScope) {\r\n\t\t\t\t\tcase '-1':\r\n\t\t\t\t\t\treturn '无任何权限'\r\n\t\t\t\t\tcase '1':\r\n\t\t\t\t\t\treturn '自定义权限'\r\n\t\t\t\t\tcase '2':\r\n\t\t\t\t\t\treturn '本部门'\r\n\t\t\t\t\tcase '3':\r\n\t\t\t\t\t\treturn '本部门及以下'\r\n\t\t\t\t\tcase '4':\r\n\t\t\t\t\t\treturn '仅自己'\r\n\t\t\t\t\tcase '9':\r\n\t\t\t\t\t\treturn '全部'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//查询按钮\r\n\t\t\tqueryBtn() {\r\n\t\t\t\tthis.searchForm.PageNumber = 1;\r\n\t\t\t\tthis.query();\r\n\t\t\t},\r\n\t\t\t//重置\r\n\t\t\tresetBtn() {\r\n\t\t\t\tthis.$refs[\"searchForm\"].resetFields();\r\n\t\t\t\tthis.query()\r\n\t\t\t},\r\n\t\t\t// 获取角色信息列表\r\n\t\t\tasync query() {\r\n\t\t\t\tthis.tableLoading = true;\r\n\t\t\t\tlet res = await getOrganizationrolesList(this.searchForm)\r\n\t\t\t\tthis.tableLoading = false;\r\n\t\t\t\tthis.tableData = res.Response.items;\r\n\t\t\t\tthis.total = res.Response.TotalCount;\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\tdelet(row) {\r\n\t\t\t\tthis.$confirm(\"确认要删除吗?\", \"删除\", {\r\n\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\troundButton:true,\r\n\t\t\t\t}).then(async () => {\r\n\t\t\t\t\tawait deletes(row.RoleId)\r\n\t\t\t\t\tthis.$message.success('删除成功');\r\n\t\t\t\t\tthis.queryBtn()\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 新增角色\r\n\t\t\tadd() {\r\n\t\t\t\tvar param = {\r\n\t\t\t\t\ttitle: \"新增角色\",\r\n\t\t\t\t\tvisible: true,\r\n\t\t\t\t\topt: \"add\"\r\n\t\t\t\t};\r\n\t\t\t\tthis.$refs.pageEdit.getDetail(param);\r\n\t\t\t},\r\n\t\t\t// 修改角色\r\n\t\t\tedit(row) {\r\n\t\t\t\tvar param = {\r\n\t\t\t\t\ttitle: \"修改角色\",\r\n\t\t\t\t\tvisible: true,\r\n\t\t\t\t\topt: \"edit\",\r\n\t\t\t\t\tRoleId: row.RoleId\r\n\t\t\t\t};\r\n\t\t\t\tthis.$refs.pageEdit.getDetail(param);\r\n\t\t\t},\r\n\t\t\t// 分页当前页变化回调\r\n\t\t\thandlerPageChange(PageNumber) {\r\n\t\t\t\tthis.searchForm.PageNumber = PageNumber;\r\n\t\t\t\tthis.query();\r\n\t\t\t},\r\n\t\t\tinitTableHeight() {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tlet availHeight = window.screen.availHeight; //页面可视化高度\r\n\t\t\t\t\tvar elPageClientHeight = this.$refs.elPage.$el.clientHeight; // 分页器高度\r\n\t\t\t\t\tthis.tableHeight = availHeight - elPageClientHeight - 380;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 分页每页条数变化回调\r\n\t\t\thandlerPageSizeChange(PageSize) {\r\n\t\t\t\tthis.searchForm.PageSize = PageSize;\r\n\t\t\t\tthis.query();\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t};\r\n</script>\r\n"]}]}