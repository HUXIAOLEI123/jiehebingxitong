{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManagement\\organizationManagement\\index.vue?vue&type=style&index=0&id=5f22bdcc&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManagement\\organizationManagement\\index.vue","mtime":1678931188723},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\css-loader\\dist\\cjs.js","mtime":1678931311747},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1678931317953},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\postcss-loader\\src\\index.js","mtime":1678931314216},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1678931310798},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYm94IHsNCiAgcGFkZGluZzogMzBweDsNCn0NCg0KLmVsLXJvdyB7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQoNCiAgJjpsYXN0LWNoaWxkIHsNCiAgICBtYXJnaW4tYm90dG9tOiAwOw0KICB9DQp9DQoNCi5lbC1jb2wgew0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQoNCi5iZy1wdXJwbGUtZGFyayB7DQogIGJhY2tncm91bmQ6ICM5OWE5YmY7DQp9DQoNCi5iZy1wdXJwbGUgew0KICBiYWNrZ3JvdW5kOiAjZDNkY2U2Ow0KfQ0KDQouZ3JpZC1jb250ZW50IHsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBoZWlnaHQ6IDUwMHB4Ow0KfQ0KDQoucm93LWJnIHsNCiAgcGFkZGluZzogMTBweCAwOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZjOw0KfQ0KDQoudHJlZXN0eWxlIHsNCiAgbWFyZ2luLXRvcDogMjBweDsNCn0NCg0KLnRyZWVzIHsNCiAgbWFyZ2luLXRvcDogMjBweDsNCiAgZm9udC1zaXplOiAyNHB4Ow0KfQ0KDQouYm94LWNhcmQgew0KICAvLyBiYWNrZ3JvdW5kLWNvbG9yOiAjZTRlNGU0Ow0KICBtaW4taGVpZ2h0OiA0NjBweDsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoPA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/systemManagement/organizationManagement","sourcesContent":["<template>\r\n  <div class=\"box\">\r\n    <el-row :gutter=\"40\">\r\n      <!-- 左侧 -->\r\n      <el-col :span=\"5\">\r\n        <div class=\"grid-content \">\r\n          <div>行政区划</div>\r\n          <div class=\"treestyle\">\r\n            <el-input placeholder=\"输入搜索的内容\" v-model=\"filterText\" suffix-icon=\"el-icon-search\">\r\n            </el-input>\r\n            <div class=\"trees\">\r\n              <el-card class=\"box-card\" style=\"margin-top:20px\">\r\n                <el-tree class=\"filter-tree\" :data=\"data\" :props=\"defaultProps\" default-expand-all\r\n                  :filter-node-method=\"filterNode\" ref=\"tree\" @node-click=\"handleNodeClick\">\r\n                </el-tree>\r\n              </el-card>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <!-- 右侧 -->\r\n      <el-col :span=\"19\">\r\n        <div class=\"grid-content bg-purple-light\">\r\n          <!-- 顶部按钮 -->\r\n          <el-row>\r\n            <el-col :span=\"8\">\r\n              <el-input placeholder=\"请输入搜索内容\" suffix-icon=\"el-icon-search\"></el-input>\r\n            </el-col>\r\n            <el-col :span=\"6\" :offset=\"10\">\r\n              <el-button type=\"primary\" @click=\"dialogFormVisible = true\">新增</el-button>\r\n              <el-button type=\"primary\">批量处理</el-button>\r\n            </el-col>\r\n          </el-row>\r\n          <!-- 展示区 -->\r\n          <el-table :data=\"tableData\" stripe style=\"width: 100%\" align=\"center\" :header-cell-style=\"headStyle\"\r\n            :cell-style=\"headStyle\">\r\n            <el-table-column type=\"index\" fixed label=\"序号\" width=\"100\">\r\n            </el-table-column>\r\n            <el-table-column fixed label=\"操作\" width=\"120\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\">修改</el-button>\r\n                <el-button type=\"text\" size=\"small\">删除</el-button>\r\n\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"机构ID\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"OrganizationName\" label=\"机构名称\" width=\"220\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"启用状态\" width=\"180\">\r\n              <template #default=\"{ row }\">\r\n                <el-switch v-model=\"row.status\" active-value=\"1\" inactive-value=\"0\"\r\n                  @change=\"handleChangeStatus(row, $event)\">\r\n                </el-switch>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"Abbreviation\" label=\"机构拼音\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"Address\" label=\"医院地址\" width=\"220\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"Phone\" label=\"联系电话\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"邮政编制\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"备注\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"Org_OrganizationId\" label=\"父级机构ID\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"OrganizationClass\" label=\"级别序号\" width=\"180\">\r\n            </el-table-column>\r\n          </el-table>\r\n\r\n          <!-- 分页器 -->\r\n\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- dialog -->\r\n    <el-dialog title=\"新增机构\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"form\" :inline=\"true\">\r\n        <el-form-item label=\"机构ID\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"行政区划\" :label-width=\"formLabelWidth\">\r\n          <el-cascader v-model=\"value\" :options=\"options\" :props='defaultParams' @change=\"handleChange($event)\">\r\n          </el-cascader>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"机构名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.OrganizationName\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"启用状态\" :label-width=\"formLabelWidth\">\r\n          <template>\r\n            <el-switch v-model=\"form.status\" active-value=\"1\" inactive-value=\"0\">\r\n            </el-switch>\r\n          </template>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"机构拼音\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.Abbreviation\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"机构别名\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.Abbreviation\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"机构地址\" :label-width=\"formLabelWidth\">\r\n          <el-col :span=\"20\">\r\n            <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n          </el-col>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"联系人姓名\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.Contacts\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.Phone\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"父级机构ID\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.Org_OrganizationId\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"级别序号\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.OrganizationClass\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n\r\n\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible = false\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import Slect from './slect.vue'\r\nimport { getOrganizationList, getRegionsList } from '@/api/organizationManagement'\r\nexport default {\r\n  name: 'OrganizationManagement',\r\n  // components: { Slect },\r\n  data() {\r\n    return {\r\n      filterText: '',\r\n      // 树结构数据\r\n      data: [],\r\n      // dialog数据\r\n      form: {\r\n\r\n      },\r\n      status: '',\r\n      formLabelWidth: '',\r\n      dialogFormVisible: false,\r\n      tableData: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'RegionName'\r\n      },\r\n      // 下拉框数据\r\n      value: '',\r\n      // dialog的下拉行政数据\r\n      options: [],\r\n      defaultParams: {\r\n        value: \"RegionCode\", //设置默认值value\r\n        label: \"RegionName\", //设置显示的是什么\r\n        children: \"children\", //设置子元素数组是啥\r\n        // lazy: true, //懒加载子节点\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    let option = { Reg_RegionCode: 360000000000, PageSize: \"9\" }\r\n    getOrganizationList(option).then(res => this.tableData = [...res.Response.items])\r\n    // let op={Reg_RegionCode: 360000000000}\r\n    // getRegionsList(op).then(res => this.data = [...res.Response.items])\r\n    this.getlist()\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.tree.filter(val);\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.RegionName.indexOf(value) !== -1;\r\n    },\r\n    // 状态修改\r\n    handleChangeStatus(row) {\r\n      this.$baseConfirm(\r\n        `确定要${row.status == 1 ? '启用' : '停用'} ${row.name} 角色吗？`, null,\r\n        () => {\r\n          this.$baseMessage('角色状态修改成功', 'success')\r\n        }\r\n      )\r\n    },\r\n    // 行政下拉起始数据\r\n    async getlist() {\r\n      let options = { Reg_RegionCode: '360000000000' }\r\n      let res = await getRegionsList(options)\r\n      if (res.StatusCode == 200) {\r\n        this.data = res.Response.items\r\n        this.options = res.Response.items\r\n        if (data.RegionCode) {\r\n          await getRegionsList(data.RegionCode)\r\n        }\r\n      }\r\n    },\r\n    // 行政下拉\r\n    async handleNodeClick(data) {\r\n      let op = { Reg_RegionCode: data.RegionCode }\r\n      let res = await getRegionsList(op)\r\n      if (res.StatusCode == 200) {\r\n        let arr = [...res.Response.items]\r\n        arr.shift()\r\n        this.$set(data, 'children', arr)\r\n      }\r\n    },\r\n    // 表格内容居中\r\n    headStyle() {\r\n      return 'text-align:center'\r\n    },\r\n    // 修改表格信息\r\n    handleClick(row) {\r\n      this.dialogFormVisible = true;\r\n      this.tableData = [...row]\r\n    },\r\n    // 对dialog下拉行政的函数\r\n    async handleChange($event) {\r\n    }\r\n  },\r\n\r\n\r\n\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n  padding: 30px;\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 20px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n\r\n.bg-purple-dark {\r\n  background: #99a9bf;\r\n}\r\n\r\n.bg-purple {\r\n  background: #d3dce6;\r\n}\r\n\r\n.grid-content {\r\n  border-radius: 4px;\r\n  height: 500px;\r\n}\r\n\r\n.row-bg {\r\n  padding: 10px 0;\r\n  background-color: #f9fafc;\r\n}\r\n\r\n.treestyle {\r\n  margin-top: 20px;\r\n}\r\n\r\n.trees {\r\n  margin-top: 20px;\r\n  font-size: 24px;\r\n}\r\n\r\n.box-card {\r\n  // background-color: #e4e4e4;\r\n  min-height: 460px;\r\n}\r\n</style>"]}]}