{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationmodules\\components\\pageEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationmodules\\components\\pageEdit.vue","mtime":1678931188712},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglnZXRMaXN0LAoJRWRpdG9yZ2FuaXphdGlvbm1vZHVsZXMsCglvcmdhbml6YXRpb25tb2R1bGVzRGV0YWlsLAoJYWRkT3JnYW5pemF0aW9ubW9kdWxlcwp9IGZyb20gIkAvYXBpL3N5c3RlbU1hbmFnZS9Pcmdhbml6YXRpb25Nb2R1bGUiOwpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCkgewoJCXJldHVybiB7CgkJCS8vIOihqOWNlemFjee9rgoJCQlmb3JtQ29uZmlnOiB7CgkJCQl0aXRsZTogIiIsCgkJCQl2aXNpYmxlOiBmYWxzZSwKCQkJCXdpZHRoOiAiNzAlIiwKCQkJCW9wdDogIiIsCgkJCQlsb2FkaW5nOiBmYWxzZSwKCQkJCXJlZGVyVmlldzogdHJ1ZQoJCQl9LAoJCQl0ZW5hbnREYXRhOiBbXSwgLy/mnLrmnoTmlbDnu4QKCQkJcHJvcHNsaXN0OiB7CgkJCQl2YWx1ZTogIk1vZHVsZUlkIiwKCQkJCWxhYmVsOiAiTW9kdWxlTmFtZSIsCgkJCQljaGlsZHJlbjogIkNoaWxkcmVuIiwKCQkJCWNoZWNrU3RyaWN0bHk6IHRydWUsCgkJCQllbWl0UGF0aDogZmFsc2UsCgkJCQlsYXp5OiB0cnVlLAoJCQkJbGF6eUxvYWQ6IHRoaXMubGF6eUxvYWQKCQkJfSwKCQkJLy8g6KGo5Y2V5pWw5o2uCgkJCWZvcm1EYXRhOiB7CgkJCQlTdGF0dXM6IHRydWUsCgkJCQlSb2xlSWRzOiBbXQoJCQl9LAoJCQlmb3JtRGF0YUNvcHk6IHt9LAoJCQkvLyDpqozor4Hop4TliJkKCQkJZm9ybVJ1bGVzOiB7fSwKCgkJfTsKCX0sCgljcmVhdGVkKCkgewoJCXRoaXMuc2V0Zm9ybVJ1bGVzKCkKCX0sCgltZXRob2RzOiB7CgoJCS8v6I635Y+W5o6l5Y+j5YiX6KGoCgkJYXN5bmMgZ2V0TW9kdWxlRGF0YSgpIHsKCQkJY29uc3QgcmVzID0gYXdhaXQgZ2V0TGlzdCh7CgkJCQlQYWdlTnVtYmVyOiAxLAoJCQkJUGFnZVNpemU6IDk5OTksCgkJCQlQYXJlbnRJZDogbnVsbAoJCQl9KTsKCQkJdGhpcy50ZW5hbnREYXRhID0gcmVzLlJlc3BvbnNlLml0ZW1zOwoJCX0sCgkJYXN5bmMgbGF6eUxvYWQobm9kZSwgcmVzb2x2ZSkgewoJCQlsZXQgewoJCQkJbGV2ZWwKCQkJfSA9IG5vZGU7CgkJCWxldCBwYXJhbXMgPSBub2RlLnZhbHVlCgkJCWdldExpc3QoewoJCQkJUGFyZW50SWQ6IHBhcmFtcywKCQkJCVBhZ2VOdW1iZXI6IDEsCgkJCQlQYWdlU2l6ZTogOTk5OSwKCQkJfSkudGhlbihyZXMgPT4geyAvL+aOpeWPowoJCQkJaWYgKHJlcyAmJiByZXMuU3RhdHVzQ29kZSA9PSAyMDApIHsKCQkJCQlsZXQgZGF0YSA9IFtyZXMuUmVzcG9uc2VdCgkJCQkJaWYgKGxldmVsID4gMCkgewoJCQkJCQlkYXRhID0gcmVzLlJlc3BvbnNlLml0ZW1zCgkJCQkJfQoJCQkJCWlmIChsZXZlbCA9PSAzKSB7CgkJCQkJCWRhdGEuZm9yRWFjaChpdGVtID0+IHsKCQkJCQkJCWl0ZW0ubGVhZiA9IGxldmVsID49IDMKCQkJCQkJfSk7CgkJCQkJfQoJCQkJCXJlc29sdmUoZGF0YSk7CgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluaOpeWPo+aVsOaNruWksei0pScpCgkJCQl9CgkJCX0pCgkJfSwKCQlzZXRmb3JtUnVsZXMoKSB7CgkJCWxldCBhcnIgPSBbewoJCQkJCXRyaWdnZXI6ICdibHVyJywKCQkJCQltZXNzYWdlOiAi5o6l5Y+j5ZCN56ewIiwKCQkJCQlrZXk6ICJNb2R1bGVOYW1lIgoJCQkJfSwKCQkJCXsKCQkJCQl0cmlnZ2VyOiAnYmx1cicsCgkJCQkJbWVzc2FnZTogIumTvuaOpeWcsOWdgCIsCgkJCQkJa2V5OiAiTGlua1VybCIKCQkJCX0sCgkJCQl7CgkJCQkJdHJpZ2dlcjogJ2JsdXInLAoJCQkJCW1lc3NhZ2U6ICLmjpLluo8iLAoJCQkJCWtleTogIk9yZGVyU29ydCIKCQkJCX0KCQkJXQoJCQlmb3IgKGxldCBpdGVtIG9mIGFycikgewoJCQkJbGV0IG9iaiA9IHsKCQkJCQl0cmlnZ2VyOiBpdGVtLnRyaWdnZXIsCgkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQl9CgkJCQlpZiAoaXRlbS50cmlnZ2VyID09ICdibHVyJykgb2JqLm1lc3NhZ2UgPSBpdGVtLm1lc3NhZ2UgKyAn5LiN6IO95Li656m6JzsKCQkJCWlmIChpdGVtLnRyaWdnZXIgPT0gJ2NoYW5nZScpIG9iai5tZXNzYWdlID0gJ+ivt+mAieaLqScgKyBpdGVtLm1lc3NhZ2U7CgkJCQl0aGlzLmZvcm1SdWxlc1tpdGVtLmtleV0gPSBvYmoKCQkJfQoJCX0sCgkJLy/lhbPpl63lvLnmoYYKCQloYW5kbGVDbG9zZSgpIHsKCQkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQkJdGhpcy4kcmVmc1sncmVmRm9ybSddLnJlc2V0RmllbGRzKCk7CgkJCX0pCgkJCXRoaXMuZm9ybUNvbmZpZy52aXNpYmxlID0gZmFsc2U7CgkJfSwKCQkvLyDmj5DkuqQKCQlzdWJtaXQoKSB7CgkJCWxldCB0aGF0ID0gdGhpczsKCQkJdGhpcy4kcmVmcy5yZWZGb3JtLnZhbGlkYXRlKGFzeW5jICh2YWxpZCkgPT4gewoJCQkJaWYgKHZhbGlkKSB7CgkJCQkJaWYgKHRoYXQuZm9ybUNvbmZpZy5vcHQgPT0gJ2FkZCcpIHsKCQkJCQkJYXdhaXQgYWRkT3JnYW5pemF0aW9ubW9kdWxlcyh0aGF0LmZvcm1EYXRhKTsKCQkJCQkJdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmlrDlop7miJDlip8iKTsKCQkJCQkJdGhhdC4kZW1pdCgic3VibWl0IikKCQkJCQkJdGhhdC5oYW5kbGVDbG9zZSgpCgkJCQkJfQoJCQkJCWlmICh0aGF0LmZvcm1Db25maWcub3B0ID09ICdlZGl0JykgewoJCQkJCQlsZXQgYXJyID0gdGhhdC4kdXRpbHNGdW4uY29tcGFyZU9iaih0aGF0LmZvcm1EYXRhLCB0aGF0LmZvcm1EYXRhQ29weSkKCQkJCQkJYXdhaXQgRWRpdG9yZ2FuaXphdGlvbm1vZHVsZXMoewoJCQkJCQkJUGFyZW50SWQ6IHRoYXQuZm9ybURhdGEuUGFyZW50SWQsCgkJCQkJCQlkYXRhOiBhcnIKCQkJCQkJfSkKCQkJCQkJdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLnvJbovpHmiJDlip8iKTsKCQkJCQkJdGhhdC4kZW1pdCgic3VibWl0IikKCQkJCQkJdGhhdC5oYW5kbGVDbG9zZSgpCgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9LAoJCS8vIOWIneWni+WMluW8ueahhu+8jOiOt+WPluivpuaDhQoJCWFzeW5jIGdldERldGFpbChwYXJhbSkgewoJCQlpZiAocGFyYW0ub3B0ID09ICIiIHx8IHBhcmFtLm9wdCA9PSBudWxsKSB7CgkJCQlyZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5pyq55+l5pON5L2cIik7CgkJCX0KCQkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQkJdGhpcy5mb3JtRGF0YSA9IHsKCQkJCQkuLi57CgkJCQkJCUVuYWJsZWQ6IHRydWUKCQkJCQl9CgkJCQl9CgkJCX0pCgkJCXRoaXMuZm9ybUNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5mb3JtQ29uZmlnLCBwYXJhbSk7CgkJCS8vIOe8lui+keS5i+WJjeWFiOWOu+afpeivouivpuaDhQoJCQlpZiAocGFyYW0ub3B0ID09PSAiZWRpdCIpIHsKCQkJCWxldCByZXMgPSBhd2FpdCBvcmdhbml6YXRpb25tb2R1bGVzRGV0YWlsKHBhcmFtLlBhcmVudElkKTsKCQkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCQl0aGlzLmZvcm1EYXRhID0gewoJCQkJCQkuLi5yZXMuUmVzcG9uc2UKCQkJCQl9CgkJCQl9KQoJCQkJdGhpcy5mb3JtRGF0YUNvcHkgPSByZXMuUmVzcG9uc2UKCQkJfQoJCX0sCgl9LAp9Owo="},{"version":3,"sources":["pageEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pageEdit.vue","sourceRoot":"src/views/systemManage/organizationmodules/components","sourcesContent":["<template>\r\n\t<el-dialog :title=\"formConfig.title\" :visible.sync=\"formConfig.visible\" :width=\"formConfig.width\"\r\n\t\t:close-on-click-modal=\"false\" :close-on-press-escape=\"false\" @close=\"handleClose\" top=\"20vh\">\r\n\t\t<div slot=\"title\" class=\"dialog-title\">\r\n\t\t\t<div class=\"sectionstly\"></div>\r\n\t\t\t<span class=\"title-text\">{{formConfig.title}}</span>\r\n\t\t\t<div class=\"button-right\">\r\n\t\t\t\t<span class=\"title-close\" @click=\"handleClose\"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<el-form :model=\"formData\" :rules=\"formRules\" v-loading=\"formConfig.loading\" ref=\"refForm\" label-width=\"130px\"\r\n\t\t\tclass=\"form_row\">\r\n\t\t\t<div class=\"el-dialog-div\" style=\"height: 30vh\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t<el-form-item label=\"上级接口:\" prop=\"ParentId\">\r\n\t\t\t\t\t\t\t<el-cascader style=\"width: 100%\" :options=\"tenantData\" :props=\"propslist\"\r\n\t\t\t\t\t\t\t\tv-model=\"formData.ParentId\" :show-all-levels=\"false\" clearable></el-cascader>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"接口名称:\" prop=\"ModuleName\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"formData.ModuleName\" />\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"链接地址:\" prop=\"LinkUrl\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"formData.LinkUrl\" />\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"区域:\" prop=\"Area\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"formData.Area\" />\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"排序:\" prop=\"OrderSort\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"formData.OrderSort\" />\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"描述:\" prop=\"Description\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"formData.Description\" />\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"2\">\r\n\t\t\t\t\t\t<el-form-item label=\"状态:\" prop=\"Enabled\">\r\n\t\t\t\t\t\t\t<el-checkbox v-model=\"formData.Enabled\"></el-checkbox>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</div>\r\n\t\t</el-form>\r\n\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t<el-button class=\"cancelbtn\" @click=\"handleClose\">取 消</el-button>\r\n\t\t\t<el-button  class=\"savebtn\"  type=\"primary\" @click=\"submit\">确 定</el-button>\r\n\t\t</span>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetList,\r\n\t\tEditorganizationmodules,\r\n\t\torganizationmodulesDetail,\r\n\t\taddOrganizationmodules\r\n\t} from \"@/api/systemManage/OrganizationModule\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 表单配置\r\n\t\t\t\tformConfig: {\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tvisible: false,\r\n\t\t\t\t\twidth: \"70%\",\r\n\t\t\t\t\topt: \"\",\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\trederView: true\r\n\t\t\t\t},\r\n\t\t\t\ttenantData: [], //机构数组\r\n\t\t\t\tpropslist: {\r\n\t\t\t\t\tvalue: \"ModuleId\",\r\n\t\t\t\t\tlabel: \"ModuleName\",\r\n\t\t\t\t\tchildren: \"Children\",\r\n\t\t\t\t\tcheckStrictly: true,\r\n\t\t\t\t\temitPath: false,\r\n\t\t\t\t\tlazy: true,\r\n\t\t\t\t\tlazyLoad: this.lazyLoad\r\n\t\t\t\t},\r\n\t\t\t\t// 表单数据\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tStatus: true,\r\n\t\t\t\t\tRoleIds: []\r\n\t\t\t\t},\r\n\t\t\t\tformDataCopy: {},\r\n\t\t\t\t// 验证规则\r\n\t\t\t\tformRules: {},\r\n\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.setformRules()\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t//获取接口列表\r\n\t\t\tasync getModuleData() {\r\n\t\t\t\tconst res = await getList({\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 9999,\r\n\t\t\t\t\tParentId: null\r\n\t\t\t\t});\r\n\t\t\t\tthis.tenantData = res.Response.items;\r\n\t\t\t},\r\n\t\t\tasync lazyLoad(node, resolve) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tlevel\r\n\t\t\t\t} = node;\r\n\t\t\t\tlet params = node.value\r\n\t\t\t\tgetList({\r\n\t\t\t\t\tParentId: params,\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 9999,\r\n\t\t\t\t}).then(res => { //接口\r\n\t\t\t\t\tif (res && res.StatusCode == 200) {\r\n\t\t\t\t\t\tlet data = [res.Response]\r\n\t\t\t\t\t\tif (level > 0) {\r\n\t\t\t\t\t\t\tdata = res.Response.items\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (level == 3) {\r\n\t\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\t\titem.leaf = level >= 3\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve(data);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message.error('获取接口数据失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetformRules() {\r\n\t\t\t\tlet arr = [{\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t\tmessage: \"接口名称\",\r\n\t\t\t\t\t\tkey: \"ModuleName\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t\tmessage: \"链接地址\",\r\n\t\t\t\t\t\tkey: \"LinkUrl\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t\tmessage: \"排序\",\r\n\t\t\t\t\t\tkey: \"OrderSort\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t\tfor (let item of arr) {\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\ttrigger: item.trigger,\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.trigger == 'blur') obj.message = item.message + '不能为空';\r\n\t\t\t\t\tif (item.trigger == 'change') obj.message = '请选择' + item.message;\r\n\t\t\t\t\tthis.formRules[item.key] = obj\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//关闭弹框\r\n\t\t\thandleClose() {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs['refForm'].resetFields();\r\n\t\t\t\t})\r\n\t\t\t\tthis.formConfig.visible = false;\r\n\t\t\t},\r\n\t\t\t// 提交\r\n\t\t\tsubmit() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.$refs.refForm.validate(async (valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif (that.formConfig.opt == 'add') {\r\n\t\t\t\t\t\t\tawait addOrganizationmodules(that.formData);\r\n\t\t\t\t\t\t\tthis.$message.success(\"新增成功\");\r\n\t\t\t\t\t\t\tthat.$emit(\"submit\")\r\n\t\t\t\t\t\t\tthat.handleClose()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (that.formConfig.opt == 'edit') {\r\n\t\t\t\t\t\t\tlet arr = that.$utilsFun.compareObj(that.formData, that.formDataCopy)\r\n\t\t\t\t\t\t\tawait Editorganizationmodules({\r\n\t\t\t\t\t\t\t\tParentId: that.formData.ParentId,\r\n\t\t\t\t\t\t\t\tdata: arr\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.$message.success(\"编辑成功\");\r\n\t\t\t\t\t\t\tthat.$emit(\"submit\")\r\n\t\t\t\t\t\t\tthat.handleClose()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 初始化弹框，获取详情\r\n\t\t\tasync getDetail(param) {\r\n\t\t\t\tif (param.opt == \"\" || param.opt == null) {\r\n\t\t\t\t\treturn this.$message.error(\"未知操作\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.formData = {\r\n\t\t\t\t\t\t...{\r\n\t\t\t\t\t\t\tEnabled: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.formConfig = Object.assign(this.formConfig, param);\r\n\t\t\t\t// 编辑之前先去查询详情\r\n\t\t\t\tif (param.opt === \"edit\") {\r\n\t\t\t\t\tlet res = await organizationmodulesDetail(param.ParentId);\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.formData = {\r\n\t\t\t\t\t\t\t...res.Response\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.formDataCopy = res.Response\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n"]}]}