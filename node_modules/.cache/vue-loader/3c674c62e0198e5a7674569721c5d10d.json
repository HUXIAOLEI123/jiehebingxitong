{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\fileManagement\\patientRecords\\components\\ResponsSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\fileManagement\\patientRecords\\components\\ResponsSelect.vue","mtime":1678931188575},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQgewoJCWdldE9yZ2FuaXphdGlvbkxpc3QsCgkJZ2V0b3JnY2FzY2FkZXIsCgkJb3JnYW5pemF0aW9udXNlcnMsCiAgICB9IGZyb20gJ0AvYXBpL29yZ2FuaXphdGlvbk1hbmFnZW1lbnQuanMnCiAgIGV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDooajljZXphY3nva4KICAgICAgZm9ybUNvbmZpZzp7CiAgICAgICAgdGl0bGU6JycsCiAgICAgICAgdmlzaWJsZTpmYWxzZSwKICAgICAgICB3aWR0aDonODAlJywKICAgICAgICBvcHQ6JycsCiAgICAgICAgaGVpZ2h0Oic4MCUnLAogICAgICAgIG51bToxCiAgICAgIH0sCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBpZENhcmQ6JycsCiAgICAgICAgaG9zcGl0YWxJRDp0aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLm9yZ2FuaXphdGlvbl9Db2RlLAogICAgICAgIHJlZ1N0YXJ0VGltZTonJywKICAgICAgICByZWdFbmRUaW1lOicnLAogICAgICAgIHBhdE5hbWU6ICIiLAogICAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgICBwYWdlU2l6ZTogMzAKICAgICAgfSwKICAgICAgdG90YWxjb3VudDogMCwgLy/mgLvmnaHmlbAKICAgICAgcGFnZVNpemU6IDEwLCAvLyDmr4/pobXmmL7npLrmnaHmlbAKICAgICAgcGFnZW51bTogMSwgLy8g5b2T5YmN6aG156CBCiAgICAgIHRhYmxlRGF0YTpbXSwvL+ihqOagvOaVsOaNrgogICAgICBzZWxlY3RUYWJsZURhdGE6W10sLy/pgInmi6nnmoTooajmoLzmlbDmja4KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgCiAgfSwKICBtZXRob2RzOnsKICAgIC8v5p+l6K+i5oyJ6ZKuCiAgICBxdWVyeUJ0bigpIHsKICAgICAgdGhpcy5wYWdlbnVtID0gMTsKICAgICAgdGhpcy5xdWVyeSgpOwogICAgfSwKICAgIC8v6YeN572uCiAgICByZXNldEJ0bigpIHsKICAgICAgdGhpcy4kcmVmc1sic2VhcmNoRm9ybSJdLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMucXVlcnkoKQogICAgfSwKICAgIC8v5qC85byP5YyW5pe26Ze05pi+56S6CiAgICBmb3JtYXR0ZXJEYXRlKHJvdywgY29sdW1uLCBjZWxsVmFsdWUsIGluZGV4KXsKICAgICAgcmV0dXJuIHJvdy5yb3cuYmlydGhkYXkuc2xpY2UoMCwxMCkKICAgIH0sICAKICAgIC8v5q+P6aG15pi+56S65p2h55uu5Liq5pWw5pS55Y+Y5pe2CiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnBhZ2VudW0gPSAxOwogICAgICB0aGlzLnF1ZXJ5KCk7CiAgICB9LAogICAgLy/lvZPliY3pobXmlLnlj5jml7YKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZW51bSA9IHZhbDsKICAgICAgdGhpcy5xdWVyeSgpOwogICAgfSwKICAgIGNlbGxEYlJvdyh7IHJvdywgcm93SW5kZXgsICRyb3dJbmRleCwgY29sdW1uLCBjb2x1bW5JbmRleCwgJGNvbHVtbkluZGV4LCAkZXZlbnQgfSl7CiAgICAgIGxldCBzZWxlY3REYXRhID0gdGhpcy4kcmVmcy54VGFibGUxLmdldENoZWNrYm94UmVjb3JkcygpOwogICAgICBzZWxlY3REYXRhLnB1c2gocm93KQogICAgICBpZihzZWxlY3REYXRhLmxlbmd0aCA+IHRoaXMuZm9ybUNvbmZpZy5udW0pewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLmnIDlpJrlj6rog73pgInmi6kiICsgdGhpcy5mb3JtQ29uZmlnLm51bSArICLkvY3nl4XkuroiKQogICAgICB9CiAgICAgIHRoaXMuJGVtaXQoInNlbGVjdFN1Ym1pdCIsc2VsZWN0RGF0YSk7CiAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKQogICAgfSwKICAgIC8vIOiOt+WPluWMu+W4iOWIl+ihqOS/oeaBr+WIl+ihqAogICAgYXN5bmMgcXVlcnkoKSB7CiAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5zZWFyY2hGb3JtLlBhZ2VTaXplID0gdGhpcy5wYWdlU2l6ZTsKICAgICAgdGhpcy5zZWFyY2hGb3JtLlBhZ2VOdW1iZXIgPSB0aGlzLnBhZ2VudW07CiAgICAgIHZhciBzZWFyY2hQYXJhbSA9IHsKICAgICAgICBTZWxlY3RPbmx5OnRydWUsCgkJT3JnYW5pemF0aW9uSWQ6dGhpcy5mb3JtQ29uZmlnLk9yZ2FuaXphdGlvbklkCiAgICAgIH07CgkgIGNvbnN0IHJlcyA9IGF3YWl0IG9yZ2FuaXphdGlvbnVzZXJzKHNlYXJjaFBhcmFtKTsKCSAgdGhpcy50YWJsZUxvYWRpbmcgPSBmYWxzZTsKCSAgdGhpcy50b3RhbGNvdW50ID0gcmVzLlJlc3BvbnNlLlRvdGFsQ291bnQ7IC8vIOaAu+adoeaVsAoJICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5SZXNwb25zZS5pdGVtczsKICAgICAgLy8gdGhpcy4kc3RvcmUKICAgICAgLy8gICAuZGlzcGF0Y2goImZ1bmN0aW9uL3Bvc3RBcGkiLCB7CiAgICAgIC8vICAgICByZXFEYXRhOiBzZWFyY2hQYXJhbSwKICAgICAgLy8gICAgIHVybDogdGhpcy4kVVJMLnVybHMuUGF0aWVudEJhc2VJbmZvUXVlcnksCiAgICAgIC8vICAgfSkKICAgICAgLy8gICAudGhlbigocmVzKSA9PiB7CiAgICAgIAogICAgICAvLyAgICAgaWYocmVzLmNvZGUgPT0gJzAnKXsKICAgICAgLy8gICAgICAgdGhpcy50b3RhbGNvdW50ID0gcmVzLnJlc3VsdC5tZXRhLnRvdGFsQ291bnQ7IC8vIOaAu+adoeaVsAogICAgICAvLyAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5yZXN1bHQuZGF0YTsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9KTsKICAgIH0sCiAgICAvL+mAieaLqeeahOihqOagvOaVsOaNrgogICAgc3VibWl0KCl7CiAgICAgIGxldCBzZWxlY3REYXRhID0gdGhpcy4kcmVmcy54VGFibGUxLmdldENoZWNrYm94UmVjb3JkcygpOwogICAgICBpZihzZWxlY3REYXRhLmxlbmd0aCA+IHRoaXMuZm9ybUNvbmZpZy5udW0pewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLmnIDlpJrlj6rog73pgInmi6kiICsgdGhpcy5mb3JtQ29uZmlnLm51bSArICLkvY3nl4XkuroiKQogICAgICB9CiAgICAgIHRoaXMuJGVtaXQoInNlbGVjdFN1Ym1pdCIsc2VsZWN0RGF0YSk7CiAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKQogICAgfSwKICAgIC8vIOWIneWni+WMluW8ueahhu+8jOiOt+WPluivpuaDhQogICAgZ2V0RGV0YWlsKHBhcmFtKXsKICAgICAgdGhpcy5mb3JtQ29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1Db25maWcscGFyYW0pOwoJICB0aGlzLnF1ZXJ5KCk7CiAgICB9LAogICAgLy/lhbPpl63lvLnmoYYKICAgIGhhbmRsZUNsb3NlKCl7CiAgICAgIHRoaXMuJHJlZnMueFRhYmxlMS5jbGVhckNoZWNrYm94Um93KCk7CiAgICAgIHRoaXMuZm9ybUNvbmZpZy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["ResponsSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ResponsSelect.vue","sourceRoot":"src/views/fileManagement/patientRecords/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    :title=\"formConfig.title\"\r\n    v-model=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :height=\"formConfig.height\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    top=\"5vh\"\r\n    modal-append-to-body\r\n    append-to-body\r\n    :z-index='9999'\r\n  >\r\n  <div style=\"overflow-x:hidden;\">\r\n    <el-form ref=\"searchForm\" style=\"margin-top:10px;\" :model=\"searchForm\" label-width=\"90px\">\r\n      <el-row :gutter=\"6\">\r\n        <el-col :span=\"6\">\r\n          <el-form-item field=\"patName\" label=\"姓名:\">\r\n            <el-input v-model=\"searchForm.patName\" clearable />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-form-item field=\"idCard\" label=\"电话号码:\">\r\n            <el-input v-model=\"searchForm.idCard\" clearable />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-button @click=\"queryBtn\" type=\"primary\" style='margin-left:10px'>查询</el-button>\r\n          <el-button @click=\"resetBtn\" plain>重置</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <vxe-table :data=\"tableData\" border @cell-dblclick='cellDbRow' ref=\"xTable1\" height=\"360\" :checkbox-config=\"{trigger:'row'}\">\r\n        <vxe-table-column type=\"checkbox\" width=\"55\" align=\"center\"></vxe-table-column>\r\n        <!-- <vxe-table-column field=\"UserId\" align=\"center\" title=\"编号\" width=\"50\"/> -->\r\n        <vxe-table-column field=\"RealName\" align=\"center\" title=\"姓名\" width=\"100\"/>\r\n        <vxe-table-column field=\"ContactPhone\" align=\"center\" title=\"电话号码\" width=\"200\"/>\r\n        <vxe-table-column field=\"Age\" align=\"center\" title=\"年龄\"/>\r\n        <vxe-table-column field=\"Birth\" align=\"center\" title=\"出生日期\"/>\r\n\t\t<vxe-table-column field=\"Address\" align=\"center\" title=\"地址\"/>\r\n    </vxe-table>\r\n    <!-- 分页 -->\r\n    <div class=\"app-pagination\" ref=\"appPagination\">\r\n      <div class=\"paging-total\">共{{ totalcount }}条</div>\r\n      <div>\r\n        <el-pagination\r\n          layout=\"prev, pager, next\"\r\n          :total=\"totalcount\"\r\n          :page-size=\"pageSize\"\r\n          ref=\"elPage\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page.sync=\"pagenum\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    <span Slots=\"footer\" class=\"dialog-footer mt10\">\r\n      <el-button @click=\"handleClose\">关 闭</el-button>\r\n      <el-button type=\"primary\" @click=\"submit\">选 择</el-button>\r\n    </span>\r\n\r\n  </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetOrganizationList,\r\n\t\tgetorgcascader,\r\n\t\torganizationusers,\r\n    } from '@/api/organizationManagement.js'\r\n   export default {\r\n    data() {\r\n    return {\r\n      // 表单配置\r\n      formConfig:{\r\n        title:'',\r\n        visible:false,\r\n        width:'80%',\r\n        opt:'',\r\n        height:'80%',\r\n        num:1\r\n      },\r\n      searchForm: {\r\n        idCard:'',\r\n        hospitalID:this.$utilsFun.getUserInfo().organization_Code,\r\n        regStartTime:'',\r\n        regEndTime:'',\r\n        patName: \"\",\r\n        pageIndex: 1,\r\n        pageSize: 30\r\n      },\r\n      totalcount: 0, //总条数\r\n      pageSize: 10, // 每页显示条数\r\n      pagenum: 1, // 当前页码\r\n      tableData:[],//表格数据\r\n      selectTableData:[],//选择的表格数据\r\n    };\r\n  },\r\n  created() {\r\n    \r\n  },\r\n  methods:{\r\n    //查询按钮\r\n    queryBtn() {\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //重置\r\n    resetBtn() {\r\n      this.$refs[\"searchForm\"].resetFields();\r\n      this.query()\r\n    },\r\n    //格式化时间显示\r\n    formatterDate(row, column, cellValue, index){\r\n      return row.row.birthday.slice(0,10)\r\n    },  \r\n    //每页显示条目个数改变时\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //当前页改变时\r\n    handleCurrentChange(val) {\r\n      this.pagenum = val;\r\n      this.query();\r\n    },\r\n    cellDbRow({ row, rowIndex, $rowIndex, column, columnIndex, $columnIndex, $event }){\r\n      let selectData = this.$refs.xTable1.getCheckboxRecords();\r\n      selectData.push(row)\r\n      if(selectData.length > this.formConfig.num){\r\n        return this.$message.error(\"最多只能选择\" + this.formConfig.num + \"位病人\")\r\n      }\r\n      this.$emit(\"selectSubmit\",selectData);\r\n      this.handleClose()\r\n    },\r\n    // 获取医师列表信息列表\r\n    async query() {\r\n      this.tableLoading = true;\r\n      this.searchForm.PageSize = this.pageSize;\r\n      this.searchForm.PageNumber = this.pagenum;\r\n      var searchParam = {\r\n        SelectOnly:true,\r\n\t\tOrganizationId:this.formConfig.OrganizationId\r\n      };\r\n\t  const res = await organizationusers(searchParam);\r\n\t  this.tableLoading = false;\r\n\t  this.totalcount = res.Response.TotalCount; // 总条数\r\n\t  this.tableData = res.Response.items;\r\n      // this.$store\r\n      //   .dispatch(\"function/postApi\", {\r\n      //     reqData: searchParam,\r\n      //     url: this.$URL.urls.PatientBaseInfoQuery,\r\n      //   })\r\n      //   .then((res) => {\r\n      \r\n      //     if(res.code == '0'){\r\n      //       this.totalcount = res.result.meta.totalCount; // 总条数\r\n      //       this.tableData = res.result.data;\r\n      //     }\r\n      //   });\r\n    },\r\n    //选择的表格数据\r\n    submit(){\r\n      let selectData = this.$refs.xTable1.getCheckboxRecords();\r\n      if(selectData.length > this.formConfig.num){\r\n        return this.$message.error(\"最多只能选择\" + this.formConfig.num + \"位病人\")\r\n      }\r\n      this.$emit(\"selectSubmit\",selectData);\r\n      this.handleClose()\r\n    },\r\n    // 初始化弹框，获取详情\r\n    getDetail(param){\r\n      this.formConfig = Object.assign(this.formConfig,param);\r\n\t  this.query();\r\n    },\r\n    //关闭弹框\r\n    handleClose(){\r\n      this.$refs.xTable1.clearCheckboxRow();\r\n      this.formConfig.visible = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\n  .app-pagination {\r\n    font-size: 13px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #303133;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    padding-top: 20px;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n  }\r\n  \r\n  .app-pagination .paging-total {\r\n    font-size: 13px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #606266;\r\n  }\r\n  .mt10{\r\n    margin-top: 10px;\r\n  }\r\n  ::v-deep{\r\n    .el-input--medium .el-input__inner{\r\n      width: 100%!important;\r\n    }\r\n    .dialog-footer{\r\n      float: right;\r\n    }\r\n  }\r\n</style>\r\n"]}]}