{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\tabComponents\\EditComponents\\PulmonaryMedicineList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\tabComponents\\EditComponents\\PulmonaryMedicineList.vue","mtime":1678931188650},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBwdWxtb25hcnltZWRpY2luZWFibm9ybWFsLA0KICBwdWxtb25hcnltZWRpY2luZXN1cHBsZW1lbnQNCn0gZnJvbSAnQC9hcGkvUHVsbW9uYXJ5TWVkaWNpbmUnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDooajljZXphY3nva4NCiAgICAgIGZvcm1Db25maWc6IHsNCiAgICAgICAgdGl0bGU6ICcnLA0KICAgICAgICB2aXNpYmxlOiBmYWxzZSwNCiAgICAgICAgd2lkdGg6ICc1NiUnLA0KICAgICAgICBvcHQ6ICcnLA0KICAgICAgICBoZWlnaHQ6ICc4NSUnLA0KICAgICAgICBudW06IDk5OTkNCiAgICAgIH0sDQogICAgICBjaGVja1Jvd3M6IFtdLA0KICAgICAgc2VhcmNoRm9ybTogew0KICAgICAgICBDYXJkTm86ICcnLA0KICAgICAgICBOYW1lOiAiIiwNCiAgICAgICAgcGFnZUluZGV4OiAxLA0KICAgICAgICBwYWdlU2l6ZTogMTAsDQogICAgICAgIFNlbGVjdE9ubHk6IGZhbHNlLA0KICAgICAgICBSZWdpb25Db2RlOiAnJywNCiAgICAgICAgQWRtaW5Pcmdhbml6YXRpb246ICcnLA0KICAgICAgICBTdWJtaXRUaW1lczogW10sDQogICAgICB9LA0KICAgICAgdG90YWxjb3VudDogMCwgLy/mgLvmnaHmlbANCiAgICAgIHBhZ2VTaXplOiAxMCwgLy8g5q+P6aG15pi+56S65p2h5pWwDQogICAgICBwYWdlbnVtOiAxLCAvLyDlvZPliY3pobXnoIENCiAgICAgIHRhYmxlRGF0YTogW10sLy/ooajmoLzmlbDmja4NCiAgICAgIHNlbGVjdFRhYmxlRGF0YTogW10sLy/pgInmi6nnmoTooajmoLzmlbDmja4NCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkICgpIHsNCg0KICB9LA0KICBmaWx0ZXJzOiB7DQogICAgQWJub3JtYWxUeXBlbGlzdCAocm93KSB7DQogICAgICBzd2l0Y2ggKHJvdy5yb3cuQWJub3JtYWxUeXBlKSB7DQogICAgICAgIGNhc2UgJzEnOg0KICAgICAgICAgIHJldHVybiAn5Lit5pat5pyN6I2vJw0KICAgICAgICBjYXNlICcyJzoNCiAgICAgICAgICByZXR1cm4gJ+W8guW4uOacjeiNryc7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v5p+l6K+i5oyJ6ZKuDQogICAgcXVlcnlCdG4gKCkgew0KICAgICAgdGhpcy5wYWdlbnVtID0gMTsNCiAgICAgIHRoaXMucXVlcnkoKTsNCiAgICB9LA0KICAgIC8v6YeN572uDQogICAgcmVzZXRCdG4gKCkgew0KICAgICAgdmFyIGRhdGV0aW1lID0gbmV3IERhdGUoKTsNCiAgICAgIHZhciB5ZWFyID0gZGF0ZXRpbWUuZ2V0RnVsbFllYXIoKTsgLy/ojrflj5blrozmlbTnmoTlubTku70oNOS9jSzlpoI6MTk3MCkNCiAgICAgIHZhciBtb250aCA9IGRhdGV0aW1lLmdldE1vbnRoKCkgKyAxOyAvL+iOt+WPluaciOS7vSjov5Tlm54wLTExLDDku6Pooagx5pyILOeUqOeahOaXtuWAmeiusOW+l+WKoOS4ijEpDQogICAgICB2YXIgZGF0ZSA9IGRhdGV0aW1lLmdldERhdGUoKSAtIDc7IC8v6I635Y+W5pelKOi/lOWbnjEtMzEpDQogICAgICB2YXIgZGF0ZTEgPSBkYXRldGltZS5nZXREYXRlKCk7IC8v6I635Y+W5pelKOi/lOWbnjEtMzEpDQogICAgICAvL+WIpOaWreWwj+S6juetieS6jjnmnIjnmoTml7blgJnlnKjmnIjku73liY3liqDkuIDkuKoiMCINCiAgICAgIGlmIChtb250aCA8PSA5KSB7DQogICAgICAgIG1vbnRoID0gIjAiICsgbW9udGg7DQogICAgICB9DQogICAgICAvL+WIpOaWreWwj+S6juetieS6jjnlj7fnmoTml7blgJnlnKjlpKnmlbDliY3liqDkuIDkuKoiMCINCiAgICAgIGlmIChkYXRlIDw9IDkpIHsNCiAgICAgICAgZGF0ZSA9ICIwIiArIGRhdGU7DQogICAgICB9DQogICAgIHRoaXMuc2VhcmNoRm9ybS5TdWJtaXRUaW1lcy5wdXNoKHRoaXMuZm9ybXRpbWUobmV3IERhdGUoKSkpIC8v57uZ5bu65qGj5pe26Ze06buY6K6k5b2T5YmNDQogICAgIHRoaXMuc2VhcmNoRm9ybS5TdWJtaXRUaW1lcy5wdXNoKHRoaXMuZm9ybXRpbWUobmV3IERhdGUoKS5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApKQ0KICAgICAgdGhpcy5xdWVyeSgpDQogICAgfSwNCiAgICAvL+agvOW8j+WMluaXtumXtOaYvuekug0KICAgIGZvcm1hdHRlckRhdGUgKHJvdywgY29sdW1uLCBjZWxsVmFsdWUsIGluZGV4KSB7DQogICAgICByZXR1cm4gcm93LnJvdy5iaXJ0aGRheS5zbGljZSgwLCAxMCkNCiAgICB9LA0KICAgIC8v5q+P6aG15pi+56S65p2h55uu5Liq5pWw5pS55Y+Y5pe2DQogICAgaGFuZGxlU2l6ZUNoYW5nZSAodmFsKSB7DQogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOw0KICAgICAgdGhpcy5wYWdlbnVtID0gMTsNCiAgICAgIHRoaXMucXVlcnkoKTsNCiAgICB9LA0KICAgIC8v5b2T5YmN6aG15pS55Y+Y5pe2DQogICAgaGFuZGxlQ3VycmVudENoYW5nZSAodmFsKSB7DQogICAgICB0aGlzLnBhZ2VudW0gPSB2YWw7DQogICAgICB0aGlzLnF1ZXJ5KCk7DQogICAgfSwNCiAgICBjZWxsRGJSb3cgKHsgcm93LCByb3dJbmRleCwgJHJvd0luZGV4LCBjb2x1bW4sIGNvbHVtbkluZGV4LCAkY29sdW1uSW5kZXgsICRldmVudCB9KSB7DQogICAgICBsZXQgc2VsZWN0RGF0YSA9IHRoaXMuJHJlZnMueFRhYmxlMS5nZXRDaGVja2JveFJlY29yZHMoKTsNCiAgICAgIHNlbGVjdERhdGEucHVzaChyb3cpDQogICAgICB0aGlzLiRlbWl0KCJzZWxlY3RTdWJtaXQiLCBzZWxlY3REYXRhKTsNCiAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKQ0KICAgIH0sDQogICAgLy8g6I635Y+W5pyN6I2v6K6w5b2V5L+h5oGv5YiX6KGoDQogICAgYXN5bmMgcXVlcnkgKCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgcHVsbW9uYXJ5bWVkaWNpbmVhYm5vcm1hbCh0aGlzLnNlYXJjaEZvcm0uRGlhZ25vc2lzSWQsIHRoaXMuc2VhcmNoRm9ybS5TdWJtaXRDb25maXJtLCB0aGlzLnNlYXJjaEZvcm0uU3VibWl0VGltZXNbMF0sIHRoaXMuc2VhcmNoRm9ybS5TdWJtaXRUaW1lc1sxXSwgdGhpcy5wYWdlbnVtLCB0aGlzLnBhZ2VTaXplKQ0KICAgICAgdGhpcy50YWJsZUxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIHRoaXMudG90YWxjb3VudCA9IHJlcy5SZXNwb25zZS5Ub3RhbENvdW50OyAvLyDmgLvmnaHmlbANCiAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLlJlc3BvbnNlLml0ZW1zOw0KICAgIH0sDQogICAgLy/pgInmi6nnmoTooajmoLzmlbDmja4NCiAgICBzdWJtaXQgKCkgew0KICAgICAgbGV0IGxlbiA9IHRoaXMuY2hlY2tSb3dzLmxlbmd0aDsNCiAgICAgIGlmICghbGVuKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRiYXNlTWVzc2FnZSgi6Iez5bCR6YCJ5oup5LiA6aG577yBIiwgImVycm9yIik7DQogICAgICB9DQogICAgICB0aGlzLiRiYXNlQ29uZmlybSgi56Gu5a6a6KaB5o+Q5Lqk6YCJ5Lit55qE5pWw5o2u5ZCX77yfIiwgbnVsbCwNCiAgICAgICAgLy8g5bCG6YCJ5Lit55qE5pWw5o2u5re75Yqg5bGe5oCn5Yig6ZmkDQogICAgICAgIGFzeW5jICgpID0+IHsNCiAgICAgICAgICBsZXQgc3RvcmVJZCA9IHRoaXMuY2hlY2tSb3dzLm1hcCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIGl0ZW0uQWJub3JtYWxEYXRlDQogICAgICAgICAgfSkNCiAgICAgICAgICAvL+a0vuWPkeivt+axgg0KICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHB1bG1vbmFyeW1lZGljaW5lc3VwcGxlbWVudCh0aGlzLmNoZWNrUm93c1swXS5EaWFnbm9zaXNJZCwgc3RvcmVJZCkNCiAgICAgICAgICB0aGlzLiRlbWl0KCJzZWxlY3RTdWJtaXQiKTsNCiAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCkNCiAgICAgICAgICB0aGlzLiRiYXNlTWVzc2FnZSgn56Gu6K6k5oiQ5YqfJywgInN1Y2Nlc3MiKQ0KICAgICAgICB9DQogICAgICApDQoNCiAgICB9LA0KICAgIC8v6YCJ5oup5pyN6I2v5pe26Ze0DQogICAgY2hhbmdlU3VibWl0VGltZXMgKHZhbHVlKSB7DQogICAgICB0aGlzLnNlYXJjaEZvcm0uU3VibWl0VGltZXMgPSB2YWx1ZTsNCiAgICB9LA0KICAgIC8vIOWIneWni+WMluW8ueahhu+8jOiOt+WPluivpuaDhQ0KICAgIGdldERldGFpbCAocGFyYW0pIHsNCiAgICAgIHRoaXMuZm9ybUNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5mb3JtQ29uZmlnLCBwYXJhbSk7DQogICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWU7DQogICAgICB0aGlzLnNlYXJjaEZvcm0uUGFnZVNpemUgPSB0aGlzLnBhZ2VTaXplOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLlBhZ2VOdW1iZXIgPSB0aGlzLnBhZ2VudW07DQogICAgICB0aGlzLnNlYXJjaEZvcm0uU3VibWl0Q29uZmlybSA9IHRoaXMuZm9ybUNvbmZpZy5TdWJtaXRDb25maXJtOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLkRpYWdub3Npc0lkID0gdGhpcy5mb3JtQ29uZmlnLkRpYWdub3Npc0lkOw0KDQogICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpOw0KICAgICAgdmFyIHllYXIgPSBkYXRldGltZS5nZXRGdWxsWWVhcigpOyAvL+iOt+WPluWujOaVtOeahOW5tOS7vSg05L2NLOWmgjoxOTcwKQ0KICAgICAgdmFyIG1vbnRoID0gZGF0ZXRpbWUuZ2V0TW9udGgoKSArIDE7IC8v6I635Y+W5pyI5Lu9KOi/lOWbnjAtMTEsMOS7o+ihqDHmnIgs55So55qE5pe25YCZ6K6w5b6X5Yqg5LiKMSkNCiAgICAgIHZhciBkYXRlID0gZGF0ZXRpbWUuZ2V0RGF0ZSgpIC0gNzsgLy/ojrflj5bml6Uo6L+U5ZueMS0zMSkNCiAgICAgIHZhciBkYXRlMSA9IGRhdGV0aW1lLmdldERhdGUoKTsgLy/ojrflj5bml6Uo6L+U5ZueMS0zMSkNCiAgICAgIC8v5Yik5pat5bCP5LqO562J5LqOOeaciOeahOaXtuWAmeWcqOaciOS7veWJjeWKoOS4gOS4qiIwIg0KICAgICAgaWYgKG1vbnRoIDw9IDkpIHsNCiAgICAgICAgbW9udGggPSAiMCIgKyBtb250aDsNCiAgICAgIH0NCiAgICAgIC8v5Yik5pat5bCP5LqO562J5LqOOeWPt+eahOaXtuWAmeWcqOWkqeaVsOWJjeWKoOS4gOS4qiIwIg0KICAgICAgaWYgKGRhdGUgPD0gOSkgew0KICAgICAgICBkYXRlID0gIjAiICsgZGF0ZTsNCiAgICAgIH0NCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5TdWJtaXRUaW1lcy5wdXNoKHRoaXMuZm9ybXRpbWUobmV3IERhdGUoKSkpIC8v57uZ5bu65qGj5pe26Ze06buY6K6k5b2T5YmNDQogICAgICB0aGlzLnNlYXJjaEZvcm0uU3VibWl0VGltZXMucHVzaCh0aGlzLmZvcm10aW1lKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKSkNCiAgICAgIHRoaXMucXVlcnkoKTsNCiAgICB9LA0KICAgIC8vIOWkjemAieahhuS6i+S7tg0KICAgIGNoZWNrYm94Q2hhbmdlICh7DQogICAgICByZWNvcmRzDQogICAgfSkgew0KICAgICAgdGhpcy5jaGVja1Jvd3MgPSByZWNvcmRzDQogICAgfSwNCiAgICAvLyDlhajpgInmjInpkq7kuovku7YNCiAgICBjaGVja2JveEFsbCAoew0KICAgICAgcmVjb3Jkcw0KICAgIH0pIHsNCiAgICAgIHRoaXMuY2hlY2tSb3dzID0gcmVjb3Jkcw0KICAgIH0sDQoJZm9ybXRpbWUoZW5kRGF0ZSkgew0KCQlsZXQgZW5kVGltZSA9IGVuZERhdGUgLSA2MDAwMDANCgkJbGV0IGRhdGVzID0gbmV3IERhdGUoZW5kVGltZSkNCgkJbGV0IHkgPSBkYXRlcy5nZXRGdWxsWWVhcigpIC8vIOW5tA0KCQlsZXQgTU0gPSBkYXRlcy5nZXRNb250aCgpICsgMSAvLyDivYkNCgkJTU0gPSBNTSA8IDEwID8gKCcwJyArIE1NKSA6IE1NDQoJCWxldCBkID0gZGF0ZXMuZ2V0RGF0ZSgpIC8vIOK9hw0KCQlkID0gZCA8IDEwID8gKCcwJyArIGQpIDogZA0KCQlyZXR1cm4geSArICctJyArIE1NICsgJy0nICsgZA0KCX0sDQogICAgLy/lhbPpl63lvLnmoYYNCiAgICBoYW5kbGVDbG9zZSAoKSB7DQogICAgICB0aGlzLiRyZWZzLnhUYWJsZTEuY2xlYXJDaGVja2JveFJvdygpOw0KICAgICAgdGhpcy5mb3JtQ29uZmlnLnZpc2libGUgPSBmYWxzZTsNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["PulmonaryMedicineList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PulmonaryMedicineList.vue","sourceRoot":"src/views/patientManagement/patientManagement/components/tabComponents/EditComponents","sourcesContent":["<template>\r\n  <vxe-modal\r\n    :title=\"formConfig.title\"\r\n    v-model=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :height=\"formConfig.height\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    modal-append-to-body\r\n    append-to-body\r\n    :z-index=\"3000\"\r\n  >\r\n    <div style=\"overflow-x: hidden\">\r\n      <el-form ref=\"searchForm\" style=\"margin-top: 10px\" :model=\"searchForm\" label-width=\"90px\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item field=\"CardNo\" label=\"服药日期:\">\r\n              <el-date-picker\r\n                @change=\"changeSubmitTimes\"\r\n                v-model=\"searchForm.SubmitTimes\"\r\n                unlink-panels\r\n                type=\"daterange\"\r\n                style=\"width:100%\"\r\n                align=\"center\"\r\n                value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n              ></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-button @click=\"queryBtn\" type=\"primary\" style=\"margin-left: 10px\">查询</el-button>\r\n            <el-button @click=\"resetBtn\" plain>重置</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <vxe-table\r\n        :data=\"tableData\"\r\n        border\r\n        @cell-dblclick=\"cellDbRow\"\r\n        ref=\"xTable1\"\r\n        height=\"360\"\r\n        :checkbox-config=\"{ trigger: 'row' }\"\r\n        @checkbox-change=\"checkboxChange\"\r\n        @checkbox-all=\"checkboxAll\"\r\n      >\r\n        <vxe-table-column type=\"checkbox\" width=\"55\" align=\"center\"></vxe-table-column>\r\n        <vxe-column field=\"AbnormalDate\" title=\"异常服药日期\">\r\n          <template slot-scope=\"scope\">\r\n            <div>{{ scope.row.AbnormalDate.slice(0, 10) }}</div>\r\n          </template>\r\n        </vxe-column>\r\n        <vxe-column field=\"AbnormalType\" title=\"异常类型\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"scope.row.AbnormalType == 1\">中断服药</div>\r\n            <div v-else>异常服药</div>\r\n          </template>\r\n        </vxe-column>\r\n        <vxe-column field=\"ShouldTakeMedicineTimes\" title=\"应服药次数\"></vxe-column>\r\n        <vxe-column field=\"ActualTakeMedicineTimes\" title=\"实际服药次数\"></vxe-column>\r\n      </vxe-table>\r\n      <!-- 分页 -->\r\n      <div class=\"app-pagination\" ref=\"appPagination\">\r\n        <div class=\"paging-total\">共{{ totalcount }}条</div>\r\n        <div>\r\n          <el-pagination\r\n            layout=\"prev, pager, next\"\r\n            :total=\"totalcount\"\r\n            :page-size=\"pageSize\"\r\n            ref=\"elPage\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"pagenum\"\r\n          ></el-pagination>\r\n        </div>\r\n      </div>\r\n      <span Slots=\"footer\" class=\"dialog-footer mt10\">\r\n        <el-button class=\"cancelbtn\" @click=\"handleClose\">关 闭</el-button>\r\n        <el-button class=\"savebtn\" type=\"primary\" @click=\"submit\">选 择</el-button>\r\n      </span>\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  pulmonarymedicineabnormal,\r\n  pulmonarymedicinesupplement\r\n} from '@/api/PulmonaryMedicine'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 表单配置\r\n      formConfig: {\r\n        title: '',\r\n        visible: false,\r\n        width: '56%',\r\n        opt: '',\r\n        height: '85%',\r\n        num: 9999\r\n      },\r\n      checkRows: [],\r\n      searchForm: {\r\n        CardNo: '',\r\n        Name: \"\",\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        SelectOnly: false,\r\n        RegionCode: '',\r\n        AdminOrganization: '',\r\n        SubmitTimes: [],\r\n      },\r\n      totalcount: 0, //总条数\r\n      pageSize: 10, // 每页显示条数\r\n      pagenum: 1, // 当前页码\r\n      tableData: [],//表格数据\r\n      selectTableData: [],//选择的表格数据\r\n    };\r\n  },\r\n  created () {\r\n\r\n  },\r\n  filters: {\r\n    AbnormalTypelist (row) {\r\n      switch (row.row.AbnormalType) {\r\n        case '1':\r\n          return '中断服药'\r\n        case '2':\r\n          return '异常服药';\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n\r\n  },\r\n  methods: {\r\n    //查询按钮\r\n    queryBtn () {\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //重置\r\n    resetBtn () {\r\n      var datetime = new Date();\r\n      var year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n      var month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n      var date = datetime.getDate() - 7; //获取日(返回1-31)\r\n      var date1 = datetime.getDate(); //获取日(返回1-31)\r\n      //判断小于等于9月的时候在月份前加一个\"0\"\r\n      if (month <= 9) {\r\n        month = \"0\" + month;\r\n      }\r\n      //判断小于等于9号的时候在天数前加一个\"0\"\r\n      if (date <= 9) {\r\n        date = \"0\" + date;\r\n      }\r\n     this.searchForm.SubmitTimes.push(this.formtime(new Date())) //给建档时间默认当前\r\n     this.searchForm.SubmitTimes.push(this.formtime(new Date().getTime() - 3600 * 1000 * 24 * 30))\r\n      this.query()\r\n    },\r\n    //格式化时间显示\r\n    formatterDate (row, column, cellValue, index) {\r\n      return row.row.birthday.slice(0, 10)\r\n    },\r\n    //每页显示条目个数改变时\r\n    handleSizeChange (val) {\r\n      this.pageSize = val;\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //当前页改变时\r\n    handleCurrentChange (val) {\r\n      this.pagenum = val;\r\n      this.query();\r\n    },\r\n    cellDbRow ({ row, rowIndex, $rowIndex, column, columnIndex, $columnIndex, $event }) {\r\n      let selectData = this.$refs.xTable1.getCheckboxRecords();\r\n      selectData.push(row)\r\n      this.$emit(\"selectSubmit\", selectData);\r\n      this.handleClose()\r\n    },\r\n    // 获取服药记录信息列表\r\n    async query () {\r\n      const res = await pulmonarymedicineabnormal(this.searchForm.DiagnosisId, this.searchForm.SubmitConfirm, this.searchForm.SubmitTimes[0], this.searchForm.SubmitTimes[1], this.pagenum, this.pageSize)\r\n      this.tableLoading = false;\r\n      this.totalcount = res.Response.TotalCount; // 总条数\r\n      this.tableData = res.Response.items;\r\n    },\r\n    //选择的表格数据\r\n    submit () {\r\n      let len = this.checkRows.length;\r\n      if (!len) {\r\n        return this.$baseMessage(\"至少选择一项！\", \"error\");\r\n      }\r\n      this.$baseConfirm(\"确定要提交选中的数据吗？\", null,\r\n        // 将选中的数据添加属性删除\r\n        async () => {\r\n          let storeId = this.checkRows.map((item) => {\r\n            return item.AbnormalDate\r\n          })\r\n          //派发请求\r\n          const res = await pulmonarymedicinesupplement(this.checkRows[0].DiagnosisId, storeId)\r\n          this.$emit(\"selectSubmit\");\r\n          this.handleClose()\r\n          this.$baseMessage('确认成功', \"success\")\r\n        }\r\n      )\r\n\r\n    },\r\n    //选择服药时间\r\n    changeSubmitTimes (value) {\r\n      this.searchForm.SubmitTimes = value;\r\n    },\r\n    // 初始化弹框，获取详情\r\n    getDetail (param) {\r\n      this.formConfig = Object.assign(this.formConfig, param);\r\n      this.tableLoading = true;\r\n      this.searchForm.PageSize = this.pageSize;\r\n      this.searchForm.PageNumber = this.pagenum;\r\n      this.searchForm.SubmitConfirm = this.formConfig.SubmitConfirm;\r\n      this.searchForm.DiagnosisId = this.formConfig.DiagnosisId;\r\n\r\n      var datetime = new Date();\r\n      var year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n      var month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n      var date = datetime.getDate() - 7; //获取日(返回1-31)\r\n      var date1 = datetime.getDate(); //获取日(返回1-31)\r\n      //判断小于等于9月的时候在月份前加一个\"0\"\r\n      if (month <= 9) {\r\n        month = \"0\" + month;\r\n      }\r\n      //判断小于等于9号的时候在天数前加一个\"0\"\r\n      if (date <= 9) {\r\n        date = \"0\" + date;\r\n      }\r\n      this.searchForm.SubmitTimes.push(this.formtime(new Date())) //给建档时间默认当前\r\n      this.searchForm.SubmitTimes.push(this.formtime(new Date().getTime() - 3600 * 1000 * 24 * 30))\r\n      this.query();\r\n    },\r\n    // 复选框事件\r\n    checkboxChange ({\r\n      records\r\n    }) {\r\n      this.checkRows = records\r\n    },\r\n    // 全选按钮事件\r\n    checkboxAll ({\r\n      records\r\n    }) {\r\n      this.checkRows = records\r\n    },\r\n\tformtime(endDate) {\r\n\t\tlet endTime = endDate - 600000\r\n\t\tlet dates = new Date(endTime)\r\n\t\tlet y = dates.getFullYear() // 年\r\n\t\tlet MM = dates.getMonth() + 1 // ⽉\r\n\t\tMM = MM < 10 ? ('0' + MM) : MM\r\n\t\tlet d = dates.getDate() // ⽇\r\n\t\td = d < 10 ? ('0' + d) : d\r\n\t\treturn y + '-' + MM + '-' + d\r\n\t},\r\n    //关闭弹框\r\n    handleClose () {\r\n      this.$refs.xTable1.clearCheckboxRow();\r\n      this.formConfig.visible = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\n.app-pagination {\r\n  font-size: 13px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: 400;\r\n  color: #303133;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  padding-top: 20px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-pack: justify;\r\n  -ms-flex-pack: justify;\r\n  justify-content: space-between;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n}\r\n\r\n.app-pagination .paging-total {\r\n  font-size: 13px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: 400;\r\n  color: #606266;\r\n}\r\n.mt10 {\r\n  margin-top: 10px;\r\n}\r\n::v-deep {\r\n  .el-input--medium .el-input__inner {\r\n    width: 100% !important;\r\n  }\r\n  .dialog-footer {\r\n    float: right;\r\n  }\r\n}\r\n</style>\r\n"]}]}