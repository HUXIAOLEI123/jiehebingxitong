{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\supervisoryWorkManagement\\checkManagement\\tabComponents\\phlegmtab1\\components\\TreatmentCardSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\supervisoryWorkManagement\\checkManagement\\tabComponents\\phlegmtab1\\components\\TreatmentCardSelect.vue","mtime":1678931188699},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQgewoJICB0dWJlcmN1bG9zaXNkaWFnbm9zaXNzLAoJfSBmcm9tICdAL2FwaS9UdWJlcmN1bG9zaXNEaWFnbm9zaXMnCiAgIGV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDooajljZXphY3nva4KICAgICAgZm9ybUNvbmZpZzp7CiAgICAgICAgdGl0bGU6JycsCiAgICAgICAgdmlzaWJsZTpmYWxzZSwKICAgICAgICB3aWR0aDonNzAlJywKICAgICAgICBvcHQ6JycsCiAgICAgICAgaGVpZ2h0Oic4NSUnLAogICAgICAgIG51bToxCiAgICAgIH0sCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBDYXJkTm86JycsCiAgICAgICAgTmFtZTogIiIsCiAgICAgICAgcGFnZUluZGV4OiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKCQlTZWxlY3RPbmx5OmZhbHNlLAoJCVJlZ2lvbkNvZGU6JycsCgkJQWRtaW5Pcmdhbml6YXRpb246JycsCiAgICAgIH0sCiAgICAgIHRvdGFsY291bnQ6IDAsIC8v5oC75p2h5pWwCiAgICAgIHBhZ2VTaXplOiAxMCwgLy8g5q+P6aG15pi+56S65p2h5pWwCiAgICAgIHBhZ2VudW06IDEsIC8vIOW9k+WJjemhteeggQogICAgICB0YWJsZURhdGE6W10sLy/ooajmoLzmlbDmja4KICAgICAgc2VsZWN0VGFibGVEYXRhOltdLC8v6YCJ5oup55qE6KGo5qC85pWw5o2uCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIAogIH0sCiAgbWV0aG9kczp7CiAgICAvL+afpeivouaMiemSrgogICAgcXVlcnlCdG4oKSB7CiAgICAgIHRoaXMucGFnZW51bSA9IDE7CiAgICAgIHRoaXMucXVlcnkoKTsKICAgIH0sCiAgICAvL+mHjee9rgogICAgcmVzZXRCdG4oKSB7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5DYXJkTm89JycsCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5OYW1lPSIiLAogICAgICB0aGlzLnF1ZXJ5KCkKICAgIH0sCiAgICAvL+agvOW8j+WMluaXtumXtOaYvuekugogICAgZm9ybWF0dGVyRGF0ZShyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCl7CiAgICAgIHJldHVybiByb3cucm93LmJpcnRoZGF5LnNsaWNlKDAsMTApCiAgICB9LCAgCiAgICAvL+avj+mhteaYvuekuuadoeebruS4quaVsOaUueWPmOaXtgogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5wYWdlbnVtID0gMTsKICAgICAgdGhpcy5xdWVyeSgpOwogICAgfSwKICAgIC8v5b2T5YmN6aG15pS55Y+Y5pe2CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VudW0gPSB2YWw7CiAgICAgIHRoaXMucXVlcnkoKTsKICAgIH0sCiAgICBjZWxsRGJSb3coeyByb3csIHJvd0luZGV4LCAkcm93SW5kZXgsIGNvbHVtbiwgY29sdW1uSW5kZXgsICRjb2x1bW5JbmRleCwgJGV2ZW50IH0pewogICAgICBsZXQgc2VsZWN0RGF0YSA9IHRoaXMuJHJlZnMueFRhYmxlMS5nZXRDaGVja2JveFJlY29yZHMoKTsKICAgICAgc2VsZWN0RGF0YS5wdXNoKHJvdykKICAgICAgaWYoc2VsZWN0RGF0YS5sZW5ndGggPiB0aGlzLmZvcm1Db25maWcubnVtKXsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5pyA5aSa5Y+q6IO96YCJ5oupIiArIHRoaXMuZm9ybUNvbmZpZy5udW0gKyAi5L2N5oKj6ICFIikKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCJzZWxlY3RTdWJtaXQiLHNlbGVjdERhdGEpOwogICAgICB0aGlzLmhhbmRsZUNsb3NlKCkKICAgIH0sCiAgICAvLyDojrflj5bljLvluIjliJfooajkv6Hmga/liJfooagKICAgIGFzeW5jIHF1ZXJ5KCkgewogICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5QYWdlU2l6ZSA9IHRoaXMucGFnZVNpemU7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5QYWdlTnVtYmVyID0gdGhpcy5wYWdlbnVtOwoJICB0aGlzLnNlYXJjaEZvcm0uU2VsZWN0T25seSA9IGZhbHNlOwoJICB0aGlzLnNlYXJjaEZvcm0uUmVnaW9uQ29kZSA9IHRoaXMuJHV0aWxzRnVuLmdldFVzZXJJbmZvKCkuYXV0aFJlZ2lvbkNvZGU7CgkgIHRoaXMuc2VhcmNoRm9ybS5Jc0Nsb3NlZCA9IGZhbHNlOwoJICB0aGlzLnNlYXJjaEZvcm0uQWRtaW5Pcmdhbml6YXRpb24gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKS5hdXRoT3JnSWQ7CgkgIGNvbnN0IHJlcyA9IGF3YWl0IHR1YmVyY3Vsb3Npc2RpYWdub3Npc3ModGhpcy5zZWFyY2hGb3JtKQoJICB0aGlzLnRhYmxlTG9hZGluZyA9IGZhbHNlOwoJICB0aGlzLnRvdGFsY291bnQgPSByZXMuUmVzcG9uc2UuVG90YWxDb3VudDsgLy8g5oC75p2h5pWwCgkgIHRoaXMudGFibGVEYXRhID0gcmVzLlJlc3BvbnNlLml0ZW1zOwogICAgICAvLyB0aGlzLiRzdG9yZQogICAgICAvLyAgIC5kaXNwYXRjaCgiZnVuY3Rpb24vcG9zdEFwaSIsIHsKICAgICAgLy8gICAgIHJlcURhdGE6IHNlYXJjaFBhcmFtLAogICAgICAvLyAgICAgdXJsOiB0aGlzLiRVUkwudXJscy5QYXRpZW50QmFzZUluZm9RdWVyeSwKICAgICAgLy8gICB9KQogICAgICAvLyAgIC50aGVuKChyZXMpID0+IHsKICAgICAgCiAgICAgIC8vICAgICBpZihyZXMuY29kZSA9PSAnMCcpewogICAgICAvLyAgICAgICB0aGlzLnRvdGFsY291bnQgPSByZXMucmVzdWx0Lm1ldGEudG90YWxDb3VudDsgLy8g5oC75p2h5pWwCiAgICAgIC8vICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLnJlc3VsdC5kYXRhOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pOwogICAgfSwKICAgIC8v6YCJ5oup55qE6KGo5qC85pWw5o2uCiAgICBzdWJtaXQoKXsKICAgICAgbGV0IHNlbGVjdERhdGEgPSB0aGlzLiRyZWZzLnhUYWJsZTEuZ2V0Q2hlY2tib3hSZWNvcmRzKCk7CiAgICAgIGlmKHNlbGVjdERhdGEubGVuZ3RoID4gdGhpcy5mb3JtQ29uZmlnLm51bSl7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuacgOWkmuWPquiDvemAieaLqSIgKyB0aGlzLmZvcm1Db25maWcubnVtICsgIuS9jeaCo+iAhSIpCiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgic2VsZWN0U3VibWl0IixzZWxlY3REYXRhKTsKICAgICAgdGhpcy5oYW5kbGVDbG9zZSgpCiAgICB9LAogICAgLy8g5Yid5aeL5YyW5by55qGG77yM6I635Y+W6K+m5oOFCiAgICBnZXREZXRhaWwocGFyYW0pewogICAgICB0aGlzLmZvcm1Db25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuZm9ybUNvbmZpZyxwYXJhbSk7CgkgIHRoaXMucXVlcnkoKTsKICAgIH0sCiAgICAvL+WFs+mXreW8ueahhgogICAgaGFuZGxlQ2xvc2UoKXsKICAgICAgdGhpcy4kcmVmcy54VGFibGUxLmNsZWFyQ2hlY2tib3hSb3coKTsKICAgICAgdGhpcy5mb3JtQ29uZmlnLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["TreatmentCardSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TreatmentCardSelect.vue","sourceRoot":"src/views/supervisoryWorkManagement/checkManagement/tabComponents/phlegmtab1/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    :title=\"formConfig.title\"\r\n    v-model=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :height=\"formConfig.height\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    top=\"5vh\"\r\n    modal-append-to-body\r\n    append-to-body\r\n    :z-index='9999'\r\n  >\r\n  <div style=\"overflow-x:hidden;\">\r\n    <el-form ref=\"searchForm\" style=\"margin-top:10px;\" :model=\"searchForm\" label-width=\"90px\">\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n          <el-form-item field=\"Name\" label=\"姓名:\">\r\n            <el-input v-model=\"searchForm.Name\" clearable />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"10\">\r\n          <el-form-item field=\"CardNo\" label=\"证件号:\">\r\n            <el-input v-model=\"searchForm.CardNo\" clearable />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-button @click=\"queryBtn\" type=\"primary\" style='margin-left:10px'>查询</el-button>\r\n          <el-button @click=\"resetBtn\" plain>重置</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <vxe-table :data=\"tableData\" border @cell-dblclick='cellDbRow' ref=\"xTable1\" height=\"360\" :checkbox-config=\"{trigger:'row'}\">\r\n        <vxe-table-column type=\"checkbox\" width=\"55\" align=\"center\"></vxe-table-column>\r\n        <!-- <vxe-table-column field=\"UserId\" align=\"center\" title=\"编号\" width=\"50\"/> -->\r\n        <vxe-column field=\"Name\" title=\"姓名\" width=\"100\"></vxe-column>\r\n        <vxe-column field=\"SexName\" title=\"性别\" width=\"70\"></vxe-column>\r\n        <vxe-column field=\"IsClosed\" title=\"结案状态\" width=\"100\">\r\n          <template #default=\"{ row }\">\r\n            <div>{{ row.IsClosed ? '已结案' : '在案' }}</div>\r\n          </template>\r\n        </vxe-column>\r\n        <vxe-column field=\"Age\" title=\"年龄\" width=\"70\"></vxe-column>\r\n        <vxe-column field=\"CardNo\" title=\"证件号\" width=\"150\"></vxe-column>\r\n        <vxe-column field=\"Phone\" title=\"联系电话\" width=\"150\"></vxe-column>\r\n        <vxe-column field=\"Address\" title=\"居住地址\" width=\"150\"></vxe-column>\r\n        <vxe-column field=\"DiagnosisTypeName\" title=\"结核病类型\" width=\"120\"></vxe-column>\r\n\t\t<vxe-column field=\"PatientTypeName\" title=\"患者类型\" width=\"120\"></vxe-column>\r\n\t\t<vxe-column field=\"TreatmentPlanName\" title=\"治疗方案\" width=\"120\"></vxe-column>\r\n    </vxe-table>\r\n    <!-- 分页 -->\r\n    <div class=\"app-pagination\" ref=\"appPagination\">\r\n      <div class=\"paging-total\">共{{ totalcount }}条</div>\r\n      <div>\r\n        <el-pagination\r\n          layout=\"prev, pager, next\"\r\n          :total=\"totalcount\"\r\n          :page-size=\"pageSize\"\r\n          ref=\"elPage\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page.sync=\"pagenum\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    <span Slots=\"footer\" class=\"dialog-footer mt10\">\r\n      <el-button class=\"cancelbtn\" @click=\"handleClose\">关 闭</el-button>\r\n      <el-button  class=\"savebtn\" type=\"primary\" @click=\"submit\">选 择</el-button>\r\n    </span>\r\n\r\n  </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t  tuberculosisdiagnosiss,\r\n\t} from '@/api/TuberculosisDiagnosis'\r\n   export default {\r\n    data() {\r\n    return {\r\n      // 表单配置\r\n      formConfig:{\r\n        title:'',\r\n        visible:false,\r\n        width:'70%',\r\n        opt:'',\r\n        height:'85%',\r\n        num:1\r\n      },\r\n      searchForm: {\r\n        CardNo:'',\r\n        Name: \"\",\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n\t\tSelectOnly:false,\r\n\t\tRegionCode:'',\r\n\t\tAdminOrganization:'',\r\n      },\r\n      totalcount: 0, //总条数\r\n      pageSize: 10, // 每页显示条数\r\n      pagenum: 1, // 当前页码\r\n      tableData:[],//表格数据\r\n      selectTableData:[],//选择的表格数据\r\n    };\r\n  },\r\n  created() {\r\n    \r\n  },\r\n  methods:{\r\n    //查询按钮\r\n    queryBtn() {\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //重置\r\n    resetBtn() {\r\n      this.searchForm.CardNo='',\r\n      this.searchForm.Name=\"\",\r\n      this.query()\r\n    },\r\n    //格式化时间显示\r\n    formatterDate(row, column, cellValue, index){\r\n      return row.row.birthday.slice(0,10)\r\n    },  \r\n    //每页显示条目个数改变时\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //当前页改变时\r\n    handleCurrentChange(val) {\r\n      this.pagenum = val;\r\n      this.query();\r\n    },\r\n    cellDbRow({ row, rowIndex, $rowIndex, column, columnIndex, $columnIndex, $event }){\r\n      let selectData = this.$refs.xTable1.getCheckboxRecords();\r\n      selectData.push(row)\r\n      if(selectData.length > this.formConfig.num){\r\n        return this.$message.error(\"最多只能选择\" + this.formConfig.num + \"位患者\")\r\n      }\r\n      this.$emit(\"selectSubmit\",selectData);\r\n      this.handleClose()\r\n    },\r\n    // 获取医师列表信息列表\r\n    async query() {\r\n      this.tableLoading = true;\r\n      this.searchForm.PageSize = this.pageSize;\r\n      this.searchForm.PageNumber = this.pagenum;\r\n\t  this.searchForm.SelectOnly = false;\r\n\t  this.searchForm.RegionCode = this.$utilsFun.getUserInfo().authRegionCode;\r\n\t  this.searchForm.IsClosed = false;\r\n\t  this.searchForm.AdminOrganization = JSON.parse(localStorage.getItem('userInfo')).authOrgId;\r\n\t  const res = await tuberculosisdiagnosiss(this.searchForm)\r\n\t  this.tableLoading = false;\r\n\t  this.totalcount = res.Response.TotalCount; // 总条数\r\n\t  this.tableData = res.Response.items;\r\n      // this.$store\r\n      //   .dispatch(\"function/postApi\", {\r\n      //     reqData: searchParam,\r\n      //     url: this.$URL.urls.PatientBaseInfoQuery,\r\n      //   })\r\n      //   .then((res) => {\r\n      \r\n      //     if(res.code == '0'){\r\n      //       this.totalcount = res.result.meta.totalCount; // 总条数\r\n      //       this.tableData = res.result.data;\r\n      //     }\r\n      //   });\r\n    },\r\n    //选择的表格数据\r\n    submit(){\r\n      let selectData = this.$refs.xTable1.getCheckboxRecords();\r\n      if(selectData.length > this.formConfig.num){\r\n        return this.$message.error(\"最多只能选择\" + this.formConfig.num + \"位患者\")\r\n      }\r\n      this.$emit(\"selectSubmit\",selectData);\r\n      this.handleClose()\r\n    },\r\n    // 初始化弹框，获取详情\r\n    getDetail(param){\r\n      this.formConfig = Object.assign(this.formConfig,param);\r\n\t  this.query();\r\n    },\r\n    //关闭弹框\r\n    handleClose(){\r\n      this.$refs.xTable1.clearCheckboxRow();\r\n      this.formConfig.visible = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\n  .app-pagination {\r\n    font-size: 13px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #303133;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    padding-top: 20px;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n  }\r\n  \r\n  .app-pagination .paging-total {\r\n    font-size: 13px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #606266;\r\n  }\r\n  .mt10{\r\n    margin-top: 10px;\r\n  }\r\n  ::v-deep{\r\n    .el-input--medium .el-input__inner{\r\n      width: 100%!important;\r\n    }\r\n    .dialog-footer{\r\n      float: right;\r\n    }\r\n  }\r\n</style>\r\n"]}]}