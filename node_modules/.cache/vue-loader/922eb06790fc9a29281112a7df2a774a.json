{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\newEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\newEdit.vue","mtime":1678931188649},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB1c2VkaWN0aW9uYXJ5ZGV0YWlscyB9IGZyb20gJ0AvYXBpL2RpY3QuanMnDQppbXBvcnQgew0KICBnZXRPcmdhbml6YXRpb25MaXN0LA0KICBnZXRvcmdjYXNjYWRlciwNCiAgZ2V0dXNlckRyb3AsDQogIGRyb3Bvcmdhbml6YXRpb25zLA0KfSBmcm9tICdAL2FwaS9vcmdhbml6YXRpb25NYW5hZ2VtZW50LmpzJzsNCmltcG9ydCB7DQogIHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MsDQogIGFkZHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MsDQogIGVkaXR0dWJlcmN1bG9zaXNkaWFnbm9zaXNzLA0KICBkZWxldGV0dWJlcmN1bG9zaXNkaWFnbm9zaXNzLA0KICB0dWJlcmN1bG9zaXNkaWFnbm9zaXNzZXhjZWwsDQogIGdlbmVyYXRldHJlYXRtZW50bnVtYmVyLA0KICB0dWJlcmN1bG9zaXNkaWFnbm9zaXNzbXNnDQp9IGZyb20gJ0AvYXBpL1R1YmVyY3Vsb3Npc0RpYWdub3Npcy5qcycNCmltcG9ydCB7DQogIHB1bG1vbmFyeWNsb3Nlc3Zpc2l0YW5kbWVkaWNpbmUsDQogIGFkZGFwcGx5c2V0dGxlbWVudCwNCiAgcHVsbW9uYXJ5Y2xvc2VzbGlzdCwNCiAgdXBkYXRhdHViZXJjdWxvc2lzTW9kaWZ5DQp9IGZyb20gJ0AvYXBpL1B1bG1vbmFyeUNsb3NlLmpzJw0KaW1wb3J0IE9wdGlvbnNFZGl0IGZyb20gJy4uL2NvbXBvbmVudHMvdGFiQ29tcG9uZW50cy9lY2hlYXRDb21wb25lbnRzL29wdGlvbnNFZGl0LnZ1ZScgLy8uL2VjaGVhdENvbXBvbmVudHMvb3B0aW9uc0VkaXQudnVlDQppbXBvcnQgeyB0cmVhdG1lbnRwbGFudGVtcGxhdGVzIH0gZnJvbSAnQC9hcGkvVHJlYXRtZW50UGxhblRlbXBsYXRlLmpzJw0KaW1wb3J0IHBhdGllbnRTZWxlY3QgZnJvbSAnLi4vY29tcG9uZW50cy9wYXRpZW50U2VsZWN0LnZ1ZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIHBhdGllbnRTZWxlY3QsDQogICAgT3B0aW9uc0VkaXQNCiAgfSwNCiAgbmFtZTogIkVkaXQiLA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGl0bGU6ICLmlrDlop7msrvnlpfljaEiLA0KICAgICAgSXNkaXNhYmxlZDogZmFsc2UsDQogICAgICAvLyDlvLnnqpfnmoTlvIDlhbMNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgZmxhZzogIiIsDQogICAgICBTdHJlbmd0aGVuaW5nUGVyaW9kTW9udGg6ICcnLA0KICAgICAgU3RyZW5ndGhlbmluZ1BlcmlvZERNVDogJycsDQogICAgICBDb25zb2xpZGF0aW9uUGVyaW9kTW9udGg6ICcnLA0KICAgICAgQ29uc29saWRhdGlvblBlcmlvZERNVDogJycsDQogICAgICBmb3JtOiB7DQogICAgICAgIENvbnRyYWN0U3RhZmZzOiBbXSwNCiAgICAgICAgTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbjogIiIsDQogICAgICAgIEFkbWluT3JnYW5pemF0aW9uOiAiIiwNCiAgICAgICAgRmlsZU51bWJlcjogJycsDQogICAgICAgIE5hbWU6ICcnLA0KICAgICAgICBSZWdpc3RlclRpbWU6IiIsDQogICAgICB9LA0KICAgICAgVHJlYXRtZW50UGxhbklkOiBbXSwNCiAgICAgIENvbnRyYWN0U3RhZmZMaXN0OiBbXSwNCiAgICAgIHRlbmFudERhdGE6IFtdLCAvL+ihjOaUv+WMuuWfnw0KICAgICAgb3B0aW9uczogW10sIC8v5Yy75biIDQogICAgICBwcm9wc2xpc3Q6IHsNCiAgICAgICAgdmFsdWU6ICJPcmdhbml6YXRpb25JZCIsDQogICAgICAgIGxhYmVsOiAiT3JnYW5pemF0aW9uTmFtZSIsDQogICAgICAgIGNoaWxkcmVuOiAiQ2hpbGRyZW4iLA0KICAgICAgICBjaGVja1N0cmljdGx5OiB0cnVlLA0KICAgICAgICBlbWl0UGF0aDogZmFsc2UsDQogICAgICAgIGxhenk6IHRydWUsDQogICAgICAgIGxhenlMb2FkOiB0aGlzLmxhenlMb2FkDQogICAgICB9LA0KICAgICAgLy8gIOihqOWNlemqjOivgQ0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgRmlsZU51bWJlcjogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgfSxdLA0KICAgICAgICBOYW1lOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLA0KICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICB9LF0sDQogICAgICAgIFNleDogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICB9LF0sDQogICAgICAgIEFnZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgfSxdLA0KICAgICAgICBQaG9uZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgfSxdLA0KICAgICAgICBDYXJkTm86IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsDQogICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgIH0sXSwNCiAgICAgICAgUmVnaXN0cmF0aW9uTm86IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsDQogICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgIH0sXSwNCiAgICAgICAgVHJlYXRtZW50U3RhcnREYXRlOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLA0KICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICB9LF0sDQogICAgICAgIFhpYW5BZG1pbk9yZ2FuaXphdGlvbjogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup546w566h55CG5Y2V5L2NIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgfSxdLA0KICAgICAgICBNZWRpY2luZUFkbWluT3JnYW5pemF0aW9uOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmnI3oja/ljZXkvY0iLA0KICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICB9LF0sDQogICAgICAgIEFkbWluT3JnYW5pemF0aW9uOiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nnnaPlr7zljZXkvY0iLA0KICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICB9LF0sDQogICAgICAgIEZpcnN0QWRtaW5Pcmdhbml6YXRpb246IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqemmlueuoeWNleS9jSIsDQogICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgIH0sXSwNCiAgICAgICAgQ29udHJhY3RTdGFmZjogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36Iez5bCR6YCJ5oup5LiA6aG5IiwNCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICB9LF0sDQogICAgICAgIERpYWdub3Npc1R5cGU6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsDQogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSINCiAgICAgICAgfSxdLA0KICAgICAgICBQYXRpZW50VHlwZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICB9LF0sDQogICAgICAgIFNwdXR1bTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICB9LF0sDQogICAgICAgIC8vIERpYWdub3Npc09yZ2FuaXphdGlvbklkOiBbew0KICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAvLyAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLA0KICAgICAgICAvLyAgIHRyaWdnZXI6ICJjaGFuZ2UiDQogICAgICAgIC8vIH0sXSwNCiAgICAgICAgRGlhZ25vc2lzVGltZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICB9LF0sDQogICAgICAgIC8vIERldGVjdGlvblBhdGh3YXk6IFt7DQogICAgICAgIC8vICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgIC8vICAgbWVzc2FnZTogIuivt+i+k+WFpSIsDQogICAgICAgIC8vICAgdHJpZ2dlcjogImNoYW5nZSINCiAgICAgICAgLy8gfSxdLA0KICAgICAgICAvLyBJc0RydWdSZXNpc3RhbmNlOiBbew0KICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAvLyAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLA0KICAgICAgICAvLyAgIHRyaWdnZXI6ICJjaGFuZ2UiDQogICAgICAgIC8vIH0sXSwNCiAgICAgICAgLy8gTW9sZWN1bGFyQmlvbG9neVJlc3VsdDogW3sNCiAgICAgICAgLy8gICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgLy8gICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgLy8gICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICAvLyB9LF0sDQogICAgICAgIC8vIENoZXN0UmFkaW9ncmFwaHlSZXN1bHQ6IFt7DQogICAgICAgIC8vICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgIC8vICAgbWVzc2FnZTogIuivt+i+k+WFpSIsDQogICAgICAgIC8vICAgdHJpZ2dlcjogImNoYW5nZSINCiAgICAgICAgLy8gfSxdLA0KICAgICAgICAvLyBMaXZlckZ1bmN0aW9uUmVzdWx0OiBbew0KICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAvLyAgIG1lc3NhZ2U6ICLor7fpgInmi6kiLA0KICAgICAgICAvLyAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAvLyB9LF0sDQogICAgICAgIFJlc3BvbnNpYmlsaXR5OiBbew0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6kiLA0KICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICB9LF0sDQogICAgICAgIFJlZ2lzdGVyVGltZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICB9LF0sDQogICAgICAgIFRyZWF0bWVudFBsYW5JZDogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwNCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIg0KICAgICAgICB9LF0sDQogICAgICB9LA0KICAgICAgQTAwMDM6IFtdLA0KICAgICAgQTAwMTM6IFtdLA0KICAgICAgQTAwMTQ6IFtdLA0KICAgICAgQTAwMTU6IFtdLA0KICAgICAgQTAwMTY6IFtdLA0KICAgICAgQTAwMTc6IFtdLA0KICAgICAgQTAwMjE6IFtdLA0KICAgICAgQTAwMDE6IFtdLA0KICAgICAgQTAwMzk6IFtdLA0KCSAgQTAwNDA6W10sDQoJICBBMDA0MTpbXSwNCgkgIEEwMDI0OltdLA0KICAgICAgZGljdGFycjogW10sDQogICAgICBYaWFuQWRtaW5Pcmdhbml6YXRpb25saXN0OiBbXSwgLy/njrDnrqHmnLrmnoQNCiAgICAgIFNob3VBZG1pbk9yZ2FuaXphdGlvbmxpc3Q6IFtdLC8v6aaW566h55CG5Y2V5L2NDQogICAgICBNZWRpY2luZUFkbWluT3JnYW5pemF0aW9ubGlzdDogW10sIC8v5pyN6I2v5Y2V5L2NDQogICAgICBBZG1pbk9yZ2FuaXphdGlvbmxpc3Q6IFtdLCAvL+edo+WvvOacuuaehA0KICAgICAgRGlhZ25vc2lzT3JnYW5pemF0aW9uSWRsaXN0OiBbXSwgLy/noa7or4rmnLrmnoQNCiAgICAgIHBhUGFyYW1zOiB7DQogICAgICAgIFBhZ2VOdW1iZXI6IDEsDQogICAgICAgIFBhZ2VTaXplOiA2MCwNCiAgICAgIH0sDQogICAgICBjb3B5Zm9ybToge30sDQoNCiAgICB9Ow0KICB9LA0KICBhc3luYyBjcmVhdGVkICgpIHsNCiAgICAvLyDlrZflhbgNCiAgICBhd2FpdCB0aGlzLmZ1bnVzZWRpY3Rpb25hcnlkZXRhaWxzKCkNCiAgICB0aGlzLmZ1bmRpY3RsaXN0KCkNCiAgICBhd2FpdCB0aGlzLmZ1bnRyZWF0bWVudHBsYW50ZW1wbGF0ZXMoKQ0KICAgIGF3YWl0IHRoaXMudXNlZGljdGlvbmFyeWRldGFpbHMoKQ0KICAgIGF3YWl0IHRoaXMuZ2V0b3JnYW5pemF0aW9ubGlzdCgpIC8v6I635Y+W5py65p6E5YiX6KGoDQogICAgLy8gYXdhaXQgdGhpcy5nZXR1c2VyRHJvcExpc3QoKSAvL+agueaNruacuuaehOiOt+WPlueUqOaIt+S4i+aLieWIl+ihqA0KICAgIC8vIHRoaXMuZm9ybS5SZWdpc3RlclRpbWUgPSANCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v6YCJ5oup546w566h55CG5Y2V5L2NDQogICAgc2VsZWN0T3JnYW5pemF0aW9uTmFtZSAoKSB7DQogICAgICB0aGlzLmZvcm0uTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbiA9ICcnOw0KICAgICAgdGhpcy5mb3JtLkFkbWluT3JnYW5pemF0aW9uID0gJyc7DQogICAgICB0aGlzLmdldE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0KCkgLy/mnI3oja/ljZXkvY3liJfooagNCiAgICB9LA0KICAgIC8v6I635Y+W5pyN6I2v5Y2V5L2N5YiX6KGoIA0KICAgIGFzeW5jIGdldE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0ICgpIHsNCiAgICAgIGlmICh0aGlzLmZvcm0uWGlhbkFkbWluT3JnYW5pemF0aW9uKSB7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGRyb3Bvcmdhbml6YXRpb25zKHsNCiAgICAgICAgICBPcmdhbml6YXRpb25JZDogdGhpcy5mb3JtLlhpYW5BZG1pbk9yZ2FuaXphdGlvbiwNCiAgICAgICAgICBTZWxlY3RPbmx5OiBmYWxzZSwNCiAgICAgICAgICBQYWdlU2l6ZTogOTk5OQ0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5NZWRpY2luZUFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlcy5SZXNwb25zZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v6I635Y+W552j5a+85py65p6E5YiX6KGoIA0KICAgIGFzeW5jIGdldEFkbWluT3JnYW5pemF0aW9ubGlzdCAoKSB7DQogICAgICBpZiAodGhpcy5mb3JtLk1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb24pIHsNCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZHJvcG9yZ2FuaXphdGlvbnMoew0KICAgICAgICAgIE9yZ2FuaXphdGlvbklkOiB0aGlzLmZvcm0uTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbiwNCiAgICAgICAgICBTZWxlY3RPbmx5OiBmYWxzZSwNCiAgICAgICAgICBQYWdlU2l6ZTogOTk5OQ0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5BZG1pbk9yZ2FuaXphdGlvbmxpc3QgPSByZXMuUmVzcG9uc2U7DQoNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v6YCJ5oup5pyN6I2v5Y2V5L2NDQogICAgc2VsZWN0TWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbiAoKSB7DQogICAgICB0aGlzLmZvcm0uQWRtaW5Pcmdhbml6YXRpb24gPSAnJzsNCiAgICAgIHRoaXMuZ2V0QWRtaW5Pcmdhbml6YXRpb25saXN0KCkgLy/nnaPlr7zljZXkvY3liJfooagNCiAgICB9LA0KICAgIC8v5qC55o2u5Li76ZSu6I635Y+W5YWo6YOo5L+h5oGvDQogICAgYXN5bmMgcHVsbW9uYXJ5Y2xvc2VzbGlzdG1zZyAoZGF0YSkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgdHViZXJjdWxvc2lzZGlhZ25vc2lzc21zZyhkYXRhLkRpYWdub3Npc0lkKQ0KICAgICAgdGhpcy5mb3JtID0gew0KICAgICAgICAuLi5yZXMuUmVzcG9uc2UNCiAgICAgIH0NCiAgICAgIGF3YWl0IHRoaXMuZ2V0dXNlckRyb3BMaXN0KCkgLy/moLnmja7mnLrmnoTojrflj5bnlKjmiLfkuIvmi4nliJfooagNCiAgICAgIHRoaXMuY29weWZvcm0gPSB7DQogICAgICAgIC4uLnJlcy5SZXNwb25zZQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy/liqDovb3miYDmnInmnLrmnoQNCiAgICBhc3luYyBhbGxvcmdhbml6YXRpb25zbGlzdCAoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBkcm9wb3JnYW5pemF0aW9ucyh7DQogICAgICAgIElzQXBwb2luT3JnYW5pemF0aW9uOiB0cnVlDQogICAgICB9KQ0KICAgICAgdGhpcy5EaWFnbm9zaXNPcmdhbml6YXRpb25JZGxpc3QgPSByZXMuUmVzcG9uc2U7DQogICAgICBjb25zdCByZXMyID0gYXdhaXQgZHJvcG9yZ2FuaXphdGlvbnMoew0KICAgICAgICBJc0NEQzogdHJ1ZQ0KICAgICAgfSkNCiAgICAgIHRoaXMuU2hvdUFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlczIuUmVzcG9uc2U7DQogICAgICBjb25zdCByZXMzID0gYXdhaXQgZHJvcG9yZ2FuaXphdGlvbnMoew0KICAgICAgICBPcmdhbml6YXRpb25JZDogdGhpcy4kdXRpbHNGdW4uZ2V0VXNlckluZm8oKS5hdXRoT3JnSWQsDQogICAgICAgIFNlbGVjdE9ubHk6IGZhbHNlLA0KICAgICAgICBJc0NEQzogdHJ1ZSwNCiAgICAgIH0pDQogICAgICB0aGlzLlhpYW5BZG1pbk9yZ2FuaXphdGlvbmxpc3QgPSByZXMzLlJlc3BvbnNlOw0KICAgIH0sDQogICAgLy8g56Gu6K6k5paw5aKe77yf5L+u5pS5DQogICAgYXN5bmMgc2hvdyAoZmxhZywgZGF0YSkgew0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICAgIHRoaXMuZmxhZyA9IGZsYWc7DQogICAgICBpZiAoZmxhZyA9PSAiYWRkIikgew0KICAgICAgICB0aGlzLnRpdGxlID0gIuaWsOWinueXheahiCI7DQogICAgICAgIHRoaXMuSXNkaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICB0aGlzLmZvcm0uT3BlcmF0b3JOYW1lRmlyc3QgPSB0aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLnJlYWxfTmFtZSAvL+e7meW7uuaho+S6uum7mOiupOW9k+WJjeS6ug0KICAgICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpOw0KICAgICAgICB2YXIgeWVhciA9IGRhdGV0aW1lLmdldEZ1bGxZZWFyKCk7IC8v6I635Y+W5a6M5pW055qE5bm05Lu9KDTkvY0s5aaCOjE5NzApDQogICAgICAgIHZhciBtb250aCA9IGRhdGV0aW1lLmdldE1vbnRoKCkgKyAxOyAvL+iOt+WPluaciOS7vSjov5Tlm54wLTExLDDku6Pooagx5pyILOeUqOeahOaXtuWAmeiusOW+l+WKoOS4ijEpDQogICAgICAgIHZhciBkYXRlID0gZGF0ZXRpbWUuZ2V0RGF0ZSgpOyAvL+iOt+WPluaXpSjov5Tlm54xLTMxKQ0KICAgICAgICAvL+WIpOaWreWwj+S6juetieS6jjnmnIjnmoTml7blgJnlnKjmnIjku73liY3liqDkuIDkuKoiMCINCiAgICAgICAgaWYgKG1vbnRoIDw9IDkpIHsNCiAgICAgICAgICBtb250aCA9ICIwIiArIG1vbnRoOw0KICAgICAgICB9DQogICAgICAgIC8v5Yik5pat5bCP5LqO562J5LqOOeWPt+eahOaXtuWAmeWcqOWkqeaVsOWJjeWKoOS4gOS4qiIwIg0KICAgICAgICBpZiAoZGF0ZSA8PSA5KSB7DQogICAgICAgICAgZGF0ZSA9ICIwIiArIGRhdGU7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5mb3JtLk9wZXJhdGVUaW1lRmlyc3QgPSB5ZWFyICsgIi0iICsgbW9udGggKyAiLSIgKyBkYXRlOyAvL+e7meW7uuaho+aXtumXtOm7mOiupOW9k+WJjQ0KCQl0aGlzLmZvcm0uUmVnaXN0ZXJUaW1lID0geWVhciArICItIiArIG1vbnRoICsgIi0iICsgZGF0ZTsNCiAgICAgICAgdGhpcy5TdHJlbmd0aGVuaW5nUGVyaW9kRE1UID0gJyc7DQogICAgICAgIHRoaXMuQ29uc29saWRhdGlvblBlcmlvZE1vbnRoID0gJyc7DQogICAgICAgIHRoaXMuQ29uc29saWRhdGlvblBlcmlvZERNVCA9ICcnOw0KICAgICAgICB0aGlzLlN0cmVuZ3RoZW5pbmdQZXJpb2RNb250aCA9ICcnOw0KICAgICAgICB0aGlzLmdldGFyY2hpdmVzbnVtKCkgLy/ojrflj5bmoaPmoYjnvJblj7cNCiAgICAgICAgdGhpcy5nZXRvcmdhbml6YXRpb25saXN0KCkgLy/ojrflj5bmnLrmnoTliJfooagNCiAgICAgICAgdGhpcy5hbGxvcmdhbml6YXRpb25zbGlzdCgpIC8v5omA5pyJ5py65p6E5YiX6KGoDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gImVkaXQiKSB7DQogICAgICAgIHRoaXMudGl0bGUgPSAi57yW6L6RIjsNCiAgICAgICAgdGhpcy5Jc2Rpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgYXdhaXQgdGhpcy5wdWxtb25hcnljbG9zZXNsaXN0bXNnKGRhdGEpDQogICAgICAgIGF3YWl0IHRoaXMuYWxsb3JnYW5pemF0aW9uc2xpc3QoKSAvL+aJgOacieacuuaehOWIl+ihqA0KICAgICAgICBhd2FpdCB0aGlzLmdldG9yZ2FuaXphdGlvbmxpc3QoKSAvL+iOt+WPluacuuaehOWIl+ihqA0KICAgICAgICBhd2FpdCB0aGlzLmdldE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0KCkgLy/mnI3oja/ljZXkvY3liJfooagNCiAgICAgICAgYXdhaXQgdGhpcy5nZXRBZG1pbk9yZ2FuaXphdGlvbmxpc3QoKS8v552j5a+85py65p6E5YiX6KGoDQogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gJ3JlY3VycmVuY2UnKSB7DQogICAgICAgIHRoaXMudGl0bGUgPSAi5aSN5Y+RIjsNCiAgICAgICAgdGhpcy5Jc2Rpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgYXdhaXQgdGhpcy5wdWxtb25hcnljbG9zZXNsaXN0bXNnKGRhdGEpDQogICAgICAgIGF3YWl0IHRoaXMuZ2V0YXJjaGl2ZXNudW0oKSAvL+iOt+WPluaho+ahiOe8luWPtw0KICAgICAgICBhd2FpdCB0aGlzLmFsbG9yZ2FuaXphdGlvbnNsaXN0KCkgLy/miYDmnInmnLrmnoTliJfooagNCiAgICAgICAgYXdhaXQgdGhpcy5nZXRvcmdhbml6YXRpb25saXN0KCkgLy/ojrflj5bmnLrmnoTliJfooagNCiAgICAgICAgYXdhaXQgdGhpcy5nZXRNZWRpY2luZUFkbWluT3JnYW5pemF0aW9ubGlzdCgpIC8v5pyN6I2v5Y2V5L2N5YiX6KGoDQogICAgICAgIGF3YWl0IHRoaXMuZ2V0QWRtaW5Pcmdhbml6YXRpb25saXN0KCkvL+edo+WvvOacuuaehOWIl+ihqA0KICAgICAgICB0aGlzLmZvcm0uUGF0aWVudFR5cGUgPSAnMicgLy/lpI3msrsNCgkJdmFyIGRhdGV0aW1lID0gbmV3IERhdGUoKTsNCgkJdmFyIHllYXIgPSBkYXRldGltZS5nZXRGdWxsWWVhcigpOyAvL+iOt+WPluWujOaVtOeahOW5tOS7vSg05L2NLOWmgjoxOTcwKQ0KCQl2YXIgbW9udGggPSBkYXRldGltZS5nZXRNb250aCgpICsgMTsgLy/ojrflj5bmnIjku70o6L+U5ZueMC0xMSww5Luj6KGoMeaciCznlKjnmoTml7blgJnorrDlvpfliqDkuIoxKQ0KCQl2YXIgZGF0ZSA9IGRhdGV0aW1lLmdldERhdGUoKTsgLy/ojrflj5bml6Uo6L+U5ZueMS0zMSkNCgkJLy/liKTmlq3lsI/kuo7nrYnkuo455pyI55qE5pe25YCZ5Zyo5pyI5Lu95YmN5Yqg5LiA5LiqIjAiDQoJCWlmIChtb250aCA8PSA5KSB7DQoJCSAgbW9udGggPSAiMCIgKyBtb250aDsNCgkJfQ0KCQkvL+WIpOaWreWwj+S6juetieS6jjnlj7fnmoTml7blgJnlnKjlpKnmlbDliY3liqDkuIDkuKoiMCINCgkJaWYgKGRhdGUgPD0gOSkgew0KCQkgIGRhdGUgPSAiMCIgKyBkYXRlOw0KCQl9DQoJCXRoaXMuZm9ybS5SZWdpc3RlclRpbWUgPSB5ZWFyICsgIi0iICsgbW9udGggKyAiLSIgKyBkYXRlOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/ojrflj5bmoaPmoYjnvJblj7cNCiAgICBhc3luYyBnZXRhcmNoaXZlc251bSAoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZW5lcmF0ZXRyZWF0bWVudG51bWJlcigpOw0KICAgICAgdGhpcy5mb3JtLkZpbGVOdW1iZXIgPSByZXM7DQogICAgfSwNCiAgICAvL+S6uue+pOWxnuaApw0KICAgIGFzeW5jIHVzZWRpY3Rpb25hcnlkZXRhaWxzIChwYXJhbXMpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHVzZWRpY3Rpb25hcnlkZXRhaWxzKHsNCiAgICAgICAgQ2F0ZWdvcnlDb2RlOiAnQTAwMjEnDQogICAgICB9KQ0KICAgICAgdGhpcy5Db250cmFjdFN0YWZmTGlzdCA9IHJlcy5SZXNwb25zZS5pdGVtcw0KICAgIH0sDQogICAgLy/ojrflj5bmnLrmnoTliJfooagNCiAgICBhc3luYyBnZXRvcmdhbml6YXRpb25saXN0ICgpIHsNCiAgICAgIC8vIHRoaXMuZm9ybS5EaWFnbm9zaXNPcmdhbml6YXRpb25JZCA9IHRoaXMuJHV0aWxzRnVuLmdldFVzZXJJbmZvKCkuYXV0aE9yZ0lkOyAvL3RoaXMuJHV0aWxzRnVuLmdldFVzZXJJbmZvKCkuYXV0aE9yZ0lkJzM2MDExMTAwMCcNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldG9yZ2Nhc2NhZGVyKHRoaXMuZm9ybS5EaWFnbm9zaXNPcmdhbml6YXRpb25JZCk7DQogICAgICAvLyBmb3IobGV0IGkgaW4gcmVzLlJlc3BvbnNlKXsNCiAgICAgIC8vIAlyZXMuUmVzcG9uc2VbaV1bJ2xhYmVsJ109cmVzLlJlc3BvbnNlW2ldLk9yZ2FuaXphdGlvbk5hbWUNCiAgICAgIC8vIAlyZXMuUmVzcG9uc2VbaV1bJ3ZhbHVlJ109cmVzLlJlc3BvbnNlW2ldLk9yZ2FuaXphdGlvbklkDQogICAgICAvLyB9DQogICAgICB0aGlzLnRlbmFudERhdGEgPSByZXMuUmVzcG9uc2U7DQogICAgfSwNCiAgICAvL+iOt+WPluehruiviuacuuaehOWIl+ihqA0KICAgIGFzeW5jIGdldERpYWdub3Npc09yZ2FuaXphdGlvbklkbGlzdCAoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRPcmdhbml6YXRpb25MaXN0KHsNCiAgICAgICAgLy8gSXNBcHBvaW5Pcmdhbml6YXRpb246IHRydWUsDQogICAgICAgIFBhZ2VTaXplOiA5OTk5DQogICAgICAgIC8vIElzQ0RDOiB0cnVlLA0KICAgICAgfSk7DQogICAgICB0aGlzLkRpYWdub3Npc09yZ2FuaXphdGlvbklkbGlzdCA9IHJlcy5SZXNwb25zZS5pdGVtczsNCiAgICAgIHRoaXMuWGlhbkFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlcy5SZXNwb25zZS5pdGVtczsNCiAgICAgIHRoaXMuTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbmxpc3QgPSByZXMuUmVzcG9uc2UuaXRlbXM7DQogICAgICB0aGlzLkFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlcy5SZXNwb25zZS5pdGVtczsNCiAgICB9LA0KICAgIC8v5Yy75biI5LiL5ouJ5qGGDQogICAgYXN5bmMgZ2V0dXNlckRyb3BMaXN0ICgpIHsNCiAgICAgIHZhciBvcmdhbml6YXRpb25JZCA9IHRoaXMuZm9ybS5BZG1pbk9yZ2FuaXphdGlvbjsNCiAgICAgIHZhciBzZWxlY3RPbmx5ID0gdHJ1ZTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldHVzZXJEcm9wKG9yZ2FuaXphdGlvbklkLCBzZWxlY3RPbmx5KTsNCiAgICAgIHRoaXMub3B0aW9ucyA9IFtdOyAvL+S4i+aLieWIl+ihqA0KICAgICAgaWYgKHJlcy5SZXNwb25zZS5sZW5ndGggIT09IDApIHsNCiAgICAgICAgaWYgKHJlcy5SZXNwb25zZS5sZW5ndGggPT0gMSkgew0KICAgICAgICAgIHRoaXMuZm9ybS5SZXNwb25zaWJpbGl0eSA9IHJlcy5SZXNwb25zZVswXS5JZDsNCg0KICAgICAgICB9DQogICAgICAgIGZvciAobGV0IGl0ZW0gb2YgcmVzLlJlc3BvbnNlKSB7DQogICAgICAgICAgdGhpcy5vcHRpb25zLnB1c2goew0KICAgICAgICAgICAgbGFiZWw6IGl0ZW0uTmFtZSwNCiAgICAgICAgICAgIHZhbHVlOiBpdGVtLklkLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBsYXp5TG9hZCAobm9kZSwgcmVzb2x2ZSkgew0KICAgICAgbGV0IHsNCiAgICAgICAgbGV2ZWwNCiAgICAgIH0gPSBub2RlOw0KICAgICAgbGV0IHBhcmFtcyA9IG5vZGUudmFsdWUNCiAgICAgIGdldE9yZ2FuaXphdGlvbkxpc3Qoew0KICAgICAgICBPcmdfT3JnYW5pemF0aW9uSWQ6IHBhcmFtcywNCiAgICAgICAgUGFnZU51bWJlcjogMSwNCiAgICAgICAgUGFnZVNpemU6IDk5OTksDQogICAgICB9KS50aGVuKHJlcyA9PiB7IC8v5o6l5Y+jDQogICAgICAgIGlmIChyZXMgJiYgcmVzLlN0YXR1c0NvZGUgPT0gMjAwKSB7DQogICAgICAgICAgbGV0IGRhdGEgPSBbcmVzLlJlc3BvbnNlXQ0KICAgICAgICAgIGlmIChsZXZlbCA+IDApIHsNCiAgICAgICAgICAgIGRhdGEgPSByZXMuUmVzcG9uc2UuaXRlbXMNCiAgICAgICAgICB9DQogICAgICAgICAgcmVzb2x2ZShkYXRhKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5blnLDljLrmlbDmja7lpLHotKUnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY2hhbmNlWGlhbkFkbWluT3JnYW5pemF0aW9uICgpIHsNCiAgICB9LA0KICAgIC8v5paw5aKe5rK755aX5pa55qGIDQogICAgaGFuZGxlckVkaXQgKGZsYWcsIGRhdGEpIHsNCiAgICAgIGRhdGEgPSB0aGlzLlRyZWF0bWVudFBsYW5JZDsNCiAgICAgIHRoaXMuJHJlZnMub3B0aW9uc2VkaXQuc2hvdyhmbGFnLCBkYXRhKQ0KICAgIH0sDQogICAgLy/pgInmi6nooYzmlL/ljLrln58NCiAgICBjaGFuZ2VPcmcgKHZhbHVlKSB7DQogICAgICB0aGlzLmZvcm0uQWRtaW5Pcmdhbml6YXRpb24gPSB2YWx1ZTsNCiAgICAgIHRoaXMub3B0aW9ucyA9IFtdOw0KICAgICAgdGhpcy5mb3JtLlJlc3BvbnNpYmlsaXR5ID0gJyc7DQogICAgICB0aGlzLmdldHVzZXJEcm9wTGlzdCgpDQogICAgfSwNCiAgICAvLyDkv53lrZgNCiAgICBoYW5kbGVyU2F2ZSAoKSB7DQogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsNCiAgICAgICAgdGhpcy5oYXNpbmZvID0gW107DQogICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmZvcm0pIHsNCiAgICAgICAgICBsZXQgb2JqID0ge307DQogICAgICAgICAgaWYgKHRoaXMuZm9ybVtrZXldICE9PSB0aGlzLmNvcHlmb3JtW2tleV0pIHsNCiAgICAgICAgICAgIG9iai5vcCA9ICdyZXBsYWNlJywNCiAgICAgICAgICAgICAgb2JqLnZhbHVlID0gdGhpcy5mb3JtW2tleV07DQogICAgICAgICAgICBvYmoucGF0aCA9IGtleTsNCiAgICAgICAgICAgIHRoaXMuaGFzaW5mby5wdXNoKG9iaikNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kYmFzZUNvbmZpcm0oYOehruiupOimgSR7dGhpcy50aXRsZX3mraTpobnnm67lkJfvvJ9gLCBudWxsLCBhc3luYyAoKSA9PiB7DQogICAgICAgICAgbGV0IHN1YkRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZvcm0pDQogICAgICAgICAgaWYgKHRoaXMuZmxhZyA9PSAnYWRkJykgew0KICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWRkdHViZXJjdWxvc2lzZGlhZ25vc2lzcyhzdWJEYXRhKQ0KICAgICAgICAgICAgdGhpcy4kZW1pdCgic3VtaXRlIikNCiAgICAgICAgICAgIHRoaXMuJGJhc2VNZXNzYWdlKCfmk43kvZzmiJDlip8nLCAic3VjY2VzcyIpDQogICAgICAgICAgICAvLyB0aGlzLiRlbWl0KCJuZXdlZGl0IiwgdGhpcy5mbGFnLCBzdWJEYXRhKTsNCiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmxhZyA9PSAnZWRpdCcpIHsNCiAgICAgICAgICAgIGNvbnN0IERpYWdub3Npc0lkID0gc3ViRGF0YS5EaWFnbm9zaXNJZA0KICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZWRpdHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MoRGlhZ25vc2lzSWQsIHRoaXMuaGFzaW5mbykNCiAgICAgICAgICAgIGxldCB7DQogICAgICAgICAgICAgIFN0YXR1c0NvZGUsDQogICAgICAgICAgICAgIE1lc3NhZ2UNCiAgICAgICAgICAgIH0gPSByZXM7DQogICAgICAgICAgICBpZiAoU3RhdHVzQ29kZSAhPSAyMDApIHsNCiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGJhc2VNZXNzYWdlKA0KICAgICAgICAgICAgICAgIE1lc3NhZ2UgfHwgJ+S/ruaUueWksei0pScsICdlcnJvcicNCiAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kYmFzZU1lc3NhZ2UoJ+S/ruaUueaIkOWKnycsICJzdWNjZXNzIikNCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgic3VtaXRlIikNCiAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mbGFnID09ICdyZWN1cnJlbmNlJykgew0KICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWRkdHViZXJjdWxvc2lzZGlhZ25vc2lzcyh7DQogICAgICAgICAgICAgIC4uLnRoaXMuUGVyc29uZm9ybSwNCiAgICAgICAgICAgICAgLi4udGhpcy5mb3JtLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3N1bWl0ZScpOw0KICAgICAgICAgICAgdGhpcy5jbG9zZSgpOw0KICAgICAgICAgICAgdGhpcy4kYmFzZU1lc3NhZ2UoJ+aTjeS9nOaIkOWKnycsICJzdWNjZXNzIikNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcGF0aWVudE1hbmFnZW1lbnQvcGF0aWVudE1hbmFnZW1lbnQvaW5kZXgnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGNsb3NlICgpIHsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgLy8g6YeN572u5pWw5o2uKOWwgeijheeahOaWueazlSkNCiAgICAgIHRoaXMuZm9ybSA9IHRoaXMuJG9wdGlvbnMuZGF0YSgpLmZvcm07DQogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0ucmVzZXRGaWVsZHMoKTsNCiAgICB9LA0KICAgIC8v5rK755aX5pa55qGI5LiL5ouJDQogICAgY2hhbmNlVHJlYXRtZW50UGxhbklkICh2YWwpIHsNCiAgICB9LA0KICAgIGlkQ2FyZE5vQ2hhbmdlICgpIHsNCiAgICAgIGNvbnN0IElkTm1iZXIgPSB0aGlzLmZvcm0uQ2FyZE5vDQogICAgICBjb25zdCBzZXggPSBJZE5tYmVyLnNsaWNlKDE2LCAxNykNCiAgICAgIGNvbnN0IG15RGF0ZSA9IG5ldyBEYXRlKCk7DQogICAgICBjb25zdCBtb250aCA9IG15RGF0ZS5nZXRNb250aCgpICsgMTsNCiAgICAgIGNvbnN0IGRheSA9IG15RGF0ZS5nZXREYXRlKCk7DQogICAgICAvL+WHuueUn+aXpeacnw0KICAgICAgdGhpcy5mb3JtLkJpcnRoRGF5ID0gSWRObWJlci5zbGljZSg2LCAxMCkgKyAnLScgKyBJZE5tYmVyLnNsaWNlKDEwLCAxMikgKyAnLScgKyBJZE5tYmVyLnNsaWNlKDEyLCAxNCkNCiAgICAgIC8vIOW5tOm+hA0KICAgICAgaWYgKElkTm1iZXIuc2xpY2UoNiwgMTQpLmxlbmd0aCA9PSA4KSB7DQogICAgICAgIHRoaXMuZm9ybS5BZ2UgPSBteURhdGUuZ2V0RnVsbFllYXIoKSAtIElkTm1iZXIuc2xpY2UoNiwgMTApIC0gMQ0KICAgICAgICBpZiAoSWRObWJlci5zbGljZSgxMCwgMTIpIDwgbW9udGggfHwgSWRObWJlci5zbGljZSgxMCwgMTIpID09IG1vbnRoICYmIElkTm1iZXIuc2xpY2UoMTIsIDE0KSA8PSBkYXkpIHsNCiAgICAgICAgICB0aGlzLmZvcm0uQWdlKysNCiAgICAgICAgfQ0KICAgICAgICAvLyDmgKfliKsNCiAgICAgICAgaWYgKElkTm1iZXIubGVuZ3RoID09IDE3IHx8IElkTm1iZXIubGVuZ3RoID09IDE4KSB7DQogICAgICAgICAgaWYgKHNleCAlIDIgPT0gMCkgew0KICAgICAgICAgICAgdGhpcy5mb3JtLlNleCA9ICflpbMnDQogICAgICAgICAgfSBlbHNlIGlmIChzZXggJSAyID09IDEpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5TZXggPSAn55S3Jw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy/ojrflj5bpgInmi6nliLDnmoTmgqPogIXkv6Hmga8NCiAgICBnZXRTZWxlY3RSZXNwb25zIChkYXRhKSB7DQogICAgICB0aGlzLmZvcm0uTmFtZSA9IGRhdGFbMF0uTmFtZQ0KICAgICAgdGhpcy5mb3JtLkNhcmRObyA9IGRhdGFbMF0uQ2FyZE5vDQogICAgICB0aGlzLmZvcm0uUGhvbmUgPSBkYXRhWzBdLlBob25lDQogICAgICB0aGlzLmZvcm0uUGVyc29uSWQgPSBkYXRhWzBdLlBlcnNvbklkOw0KICAgIH0sDQogICAgLy8g6YCJ5oup5oKj6ICFDQogICAgY2xpY2twYXRpZW50c2VsZWN0ICgpIHsNCiAgICAgIHZhciBwYXJhbSA9IHsNCiAgICAgICAgdGl0bGU6ICfpgInmi6nmgqPogIUnLA0KICAgICAgICB2aXNpYmxlOiB0cnVlLA0KICAgICAgICBPcmdhbml6YXRpb25JZDogdGhpcy5mb3JtLkFkbWluT3JnYW5pemF0aW9uLA0KICAgICAgICBudW06IDENCiAgICAgIH0NCiAgICAgIHRoaXMuJHJlZnMucGF0aWVudHNlbGVjdGxpc3QuZ2V0RGV0YWlsKHBhcmFtKQ0KICAgIH0sDQogICAgLy8g5a2X5YW45pWw5o2u6K+35rGCDQogICAgYXN5bmMgZnVudXNlZGljdGlvbmFyeWRldGFpbHMgKHBhcmFtcykgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgdXNlZGljdGlvbmFyeWRldGFpbHMoew0KICAgICAgICBDYXRlZ29yeUNvZGU6IFsnQTAwMjEnLCAnQTAwMDMnLCAnQTAwMTMnLCAnQTAwMTQnLCAnQTAwMTUnLCAnQTAwMTYnLCAnQTAwMTcnLCAnQTAwMDEnLCAnQTAwMzknLCdBMDA0MCcsJ0EwMDQxJywnQTAwMjQnXSwNCiAgICAgICAgUGFnZU51bWJlcjogMSwNCiAgICAgICAgUGFnZVNpemU6IDkwDQogICAgICB9KQ0KICAgICAgbGV0IHsNCiAgICAgICAgU3RhdHVzQ29kZSwNCiAgICAgICAgTWVzc2FnZQ0KICAgICAgfSA9IHJlcw0KICAgICAgaWYgKCFyZXMgfHwgU3RhdHVzQ29kZSAhPT0gMjAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRiYXNlTWVzc2FnZShNZXNzYWdlIHx8ICfmlbDmja7ojrflj5blpLHotKUnLCAnZXJyb3InKQ0KICAgICAgfQ0KICAgICAgdGhpcy5kaWN0YXJyID0gcmVzLlJlc3BvbnNlLml0ZW1zDQogICAgfSwNCiAgICAvL+Wtl+WFuOaVsOaNruWkhOeQhg0KICAgIGZ1bmRpY3RsaXN0ICgpIHsNCiAgICAgIHRoaXMuZGljdGFyci5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDAzJykgew0KICAgICAgICAgIHRoaXMuQTAwMDMucHVzaChpdGVtKQ0KICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uQ2F0ZWdvcnlDb2RlID09ICdBMDAxMycpIHsNCiAgICAgICAgICB0aGlzLkEwMDEzLnB1c2goaXRlbSkNCiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMTQnKSB7DQogICAgICAgICAgdGhpcy5BMDAxNC5wdXNoKGl0ZW0pDQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDE1Jykgew0KICAgICAgICAgIHRoaXMuQTAwMTUucHVzaChpdGVtKQ0KICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uQ2F0ZWdvcnlDb2RlID09ICdBMDAxNicpIHsNCiAgICAgICAgICB0aGlzLkEwMDE2LnB1c2goaXRlbSkNCiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMTcnKSB7DQogICAgICAgICAgdGhpcy5BMDAxNy5wdXNoKGl0ZW0pDQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDAxJykgew0KICAgICAgICAgIHRoaXMuQTAwMDEucHVzaChpdGVtKQ0KICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uQ2F0ZWdvcnlDb2RlID09ICdBMDAyMScpIHsNCiAgICAgICAgICB0aGlzLkEwMDIxLnB1c2goaXRlbSkNCiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMzknKSB7DQogICAgICAgICAgdGhpcy5BMDAzOS5wdXNoKGl0ZW0pDQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDQwJykgew0KICAgICAgICAgIHRoaXMuQTAwNDAucHVzaChpdGVtKQ0KICAgICAgICB9ZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDQxJykgew0KICAgICAgICAgIHRoaXMuQTAwNDEucHVzaChpdGVtKQ0KICAgICAgICB9ZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDI0Jykgew0KICAgICAgICAgIHRoaXMuQTAwMjQucHVzaChpdGVtKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5rK755aX5pa55qGIDQogICAgYXN5bmMgZnVudHJlYXRtZW50cGxhbnRlbXBsYXRlcyAocGFyYW1zKSB7DQoJICANCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRyZWF0bWVudHBsYW50ZW1wbGF0ZXMoew0KCQkgIFBhZ2VTaXplOjk5OQ0KCSAgfSkNCiAgICAgIHRoaXMuVHJlYXRtZW50UGxhbklkID0gcmVzLlJlc3BvbnNlLml0ZW1zDQogICAgfQ0KDQogIH0sDQogIHdhdGNoOiB7DQogICAgJ2Zvcm0uVHJlYXRtZW50UGxhbklkJzogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLlRyZWF0bWVudFBsYW5JZCkgew0KICAgICAgICBpZiAodGhpcy5UcmVhdG1lbnRQbGFuSWRbaV0uVHJlYXRtZW50UGxhbklkID09IHRoaXMuZm9ybS5UcmVhdG1lbnRQbGFuSWQpIHsNCiAgICAgICAgICB0aGlzLlN0cmVuZ3RoZW5pbmdQZXJpb2RETVQgPSB0aGlzLlRyZWF0bWVudFBsYW5JZFtpXS5TdHJlbmd0aGVuaW5nUGVyaW9kRE1UOw0KICAgICAgICAgIHRoaXMuQ29uc29saWRhdGlvblBlcmlvZE1vbnRoID0gdGhpcy5UcmVhdG1lbnRQbGFuSWRbaV0uQ29uc29saWRhdGlvblBlcmlvZE1vbnRoOw0KICAgICAgICAgIHRoaXMuQ29uc29saWRhdGlvblBlcmlvZERNVCA9IHRoaXMuVHJlYXRtZW50UGxhbklkW2ldLkNvbnNvbGlkYXRpb25QZXJpb2RETVQ7DQogICAgICAgICAgdGhpcy5TdHJlbmd0aGVuaW5nUGVyaW9kTW9udGggPSB0aGlzLlRyZWF0bWVudFBsYW5JZFtpXS5TdHJlbmd0aGVuaW5nUGVyaW9kTW9udGg7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vICdmb3JtLlhpYW5BZG1pbk9yZ2FuaXphdGlvbic6IGZ1bmN0aW9uKHZhbCkgew0KICAgIC8vIAkvLyB0aGlzLmZvcm0uTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbiA9ICcnOw0KICAgIC8vIAkvLyB0aGlzLmZvcm0uQWRtaW5Pcmdhbml6YXRpb249ICcnOw0KICAgIC8vIAl0aGlzLmdldE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0KCkgLy/mnI3oja/ljZXkvY3liJfooagNCiAgICAvLyB9LA0KICAgIC8vICdmb3JtLk1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb24nOiBmdW5jdGlvbih2YWwpIHsNCiAgICAvLyAJLy8gdGhpcy5mb3JtLkFkbWluT3JnYW5pemF0aW9uPSAnJzsNCiAgICAvLyAJdGhpcy5nZXRBZG1pbk9yZ2FuaXphdGlvbmxpc3QoKSAvL+edo+WvvOWNleS9jeWIl+ihqA0KICAgIC8vIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["newEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newEdit.vue","sourceRoot":"src/views/patientManagement/patientManagement/components","sourcesContent":["<template>\r\n  <el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" :close-on-click-modal=\"false\" width=\"80%\" top=\"20px\" @close=\"close\">\r\n    <div slot=\"title\" class=\"dialog-title\">\r\n      <div class=\"sectionstly\"></div>\r\n      <span class=\"title-text\">{{ title }}</span>\r\n      <div class=\"button-right\">\r\n        <span class=\"title-close\" @click=\"close\"></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"contentbox\">\r\n      <!-- <span class=\"headingstyles\"></span> -->\r\n\t  <div class=\"detailstitlo\">\r\n\t  \t<p class=\"xqtitolstyle\">基础信息</p>\r\n\t  </div>\r\n      <el-form class=\"form_row\" ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"150px\">\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"姓名: \">\r\n              <el-input v-model=\"form.Name\" disabled placeholder=\"患者姓名\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n\t\t  <el-col :span=\"2\">\r\n\t\t    <el-button style=\"margin-left: 10px;\"  type=\"primary\" v-if=\"!Isdisabled\" @click=\"clickpatientselect\">选择</el-button>\r\n\t\t  </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"证件号: \">\r\n              <el-input v-model=\"form.CardNo\" disabled placeholder=\"请输入内容\" @input=\"idCardNoChange\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"手机号: \">\r\n              <el-input v-model=\"form.Phone\" disabled placeholder=\"请输入内容\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\t\t<div class=\"detailstitlo\">\r\n\t\t\t<p class=\"xqtitolstyle\">确诊信息</p>\r\n\t\t</div>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"结核病类型: \">\r\n              <el-select v-model=\"form.DiagnosisType\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0013\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"患者类型: \" prop=\"PatientType\">\r\n              <el-select v-model=\"form.PatientType\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0014\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"病原学结果: \" prop=\"Sputum\">\r\n              <el-select v-model=\"form.Sputum\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0015\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"确诊日期: \" prop=\"DiagnosisTime\">\r\n              <el-date-picker align=\"center\" v-model=\"form.DiagnosisTime\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"病例类型: \" prop=\"DetectionPathway\">\r\n              <el-select v-model=\"form.DetectionPathway\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0016\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"是否耐药: \" prop=\"IsDrugResistance\">\r\n              <el-select v-model=\"form.IsDrugResistance\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0024\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"分子生物学检测: \" prop=\"MolecularBiologyResult\">\r\n              <el-select v-model=\"form.MolecularBiologyResult\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0040\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"胸片: \" prop=\"ChestRadiographyResult\">\r\n              <el-select v-model=\"form.ChestRadiographyResult\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0041\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"肝功能: \" prop=\"LiverFunctionResult\">\r\n              <el-select v-model=\"form.LiverFunctionResult\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0041\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"确诊机构: \" prop=\"DiagnosisOrganizationId\">\r\n              <el-select filterable v-model=\"form.DiagnosisOrganizationId\">\r\n                <el-option\r\n                  v-for=\"item in DiagnosisOrganizationIdlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"发现方式: \" prop=\"LiverFunctionResult\">\r\n              <el-select v-model=\"form.DiscoveryMode\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0039\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"首管理单位: \" prop=\"FirstAdminOrganization\">\r\n              <el-select filterable v-model=\"form.FirstAdminOrganization\">\r\n                <el-option\r\n                  v-for=\"item in ShouAdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"现管理单位: \" prop=\"XianAdminOrganization\">\r\n              <el-select filterable v-model=\"form.XianAdminOrganization\" @change=\"selectOrganizationName\">\r\n                <el-option\r\n                  v-for=\"item in XianAdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"服药单位: \" prop=\"MedicineAdminOrganization\">\r\n              <el-select filterable v-model=\"form.MedicineAdminOrganization\" @change=\"selectMedicineAdminOrganization\">\r\n                <el-option\r\n                  v-for=\"item in MedicineAdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"督导单位: \" prop=\"AdminOrganization\">\r\n              <el-select filterable v-model=\"form.AdminOrganization\" @change=\"changeOrg\">\r\n                <el-option\r\n                  v-for=\"item in AdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"责任医师: \" prop=\"Responsibility\">\r\n              <el-select filterable v-model=\"form.Responsibility\">\r\n                <el-option v-for=\"item in options\" :key=\"item.index\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"登记号: \">\r\n              <el-input v-model=\"form.RegistrationNo\" placeholder=\"请输入登记号\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"开始治疗日期 : \" prop=\"TreatmentStartDate\">\r\n              <el-date-picker align=\"center\" v-model=\"form.TreatmentStartDate\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"登记时间: \">\r\n              <el-date-picker align=\"center\" v-model=\"form.RegisterTime\" disabled type=\"date\" placeholder=\"选择日期时间\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"结核病治疗卡编号: \" prop=\"FileNumber\">\r\n              <el-input v-model=\"form.FileNumber\" disabled placeholder=\"请输入结核病治疗卡编号\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"治疗方案\" prop=\"TreatmentPlanId\">\r\n              <el-select v-model=\"form.TreatmentPlanId\" placeholder=\"请输入内容\" @blur=\"chanceTreatmentPlanId\">\r\n                <el-option\r\n                  v-for=\"item in TreatmentPlanId\"\r\n                  :key=\"item.TreatmentPlanId\"\r\n                  :label=\"item.TreatmentPlanName\"\r\n                  :value=\"item.TreatmentPlanId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-button style=\"margin-left: 30px\" type=\"primary\"  @click=\"handlerEdit\">新增治疗方案</el-button>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"4\" class=\"el-colname\">\r\n            <label>强化期(月):</label>\r\n            <span>{{ StrengtheningPeriodMonth }}</span>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <label>强化期服药频率(次/天):</label>\r\n            <span>{{ StrengtheningPeriodDMT }}</span>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <label>巩固期(月):</label>\r\n            <span>{{ ConsolidationPeriodMonth }}</span>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <label>巩固期服药频率(次/天):</label>\r\n            <span>{{ ConsolidationPeriodDMT }}</span>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <div slot=\"footer\">\r\n      <el-button class=\"cancelbtn\" @click=\"close\">取 消</el-button>\r\n      <el-button class=\"savebtn\" type=\"primary\" @click=\"handlerSave\" :disabled=\"title == '详情'\">确 定</el-button>\r\n    </div>\r\n    <patientSelect ref=\"patientselectlist\" @selectSubmit=\"getSelectRespons\"></patientSelect>\r\n    <OptionsEdit ref=\"optionsedit\" @sumiteprogramme=\"funtreatmentplantemplates\"></OptionsEdit>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { usedictionarydetails } from '@/api/dict.js'\r\nimport {\r\n  getOrganizationList,\r\n  getorgcascader,\r\n  getuserDrop,\r\n  droporganizations,\r\n} from '@/api/organizationManagement.js';\r\nimport {\r\n  tuberculosisdiagnosiss,\r\n  addtuberculosisdiagnosiss,\r\n  edittuberculosisdiagnosiss,\r\n  deletetuberculosisdiagnosiss,\r\n  tuberculosisdiagnosissexcel,\r\n  generatetreatmentnumber,\r\n  tuberculosisdiagnosissmsg\r\n} from '@/api/TuberculosisDiagnosis.js'\r\nimport {\r\n  pulmonaryclosesvisitandmedicine,\r\n  addapplysettlement,\r\n  pulmonarycloseslist,\r\n  updatatuberculosisModify\r\n} from '@/api/PulmonaryClose.js'\r\nimport OptionsEdit from '../components/tabComponents/echeatComponents/optionsEdit.vue' //./echeatComponents/optionsEdit.vue\r\nimport { treatmentplantemplates } from '@/api/TreatmentPlanTemplate.js'\r\nimport patientSelect from '../components/patientSelect.vue'\r\nexport default {\r\n  components: {\r\n    patientSelect,\r\n    OptionsEdit\r\n  },\r\n  name: \"Edit\",\r\n  data () {\r\n    return {\r\n      title: \"新增治疗卡\",\r\n      Isdisabled: false,\r\n      // 弹窗的开关\r\n      dialogVisible: false,\r\n      flag: \"\",\r\n      StrengtheningPeriodMonth: '',\r\n      StrengtheningPeriodDMT: '',\r\n      ConsolidationPeriodMonth: '',\r\n      ConsolidationPeriodDMT: '',\r\n      form: {\r\n        ContractStaffs: [],\r\n        MedicineAdminOrganization: \"\",\r\n        AdminOrganization: \"\",\r\n        FileNumber: '',\r\n        Name: '',\r\n        RegisterTime:\"\",\r\n      },\r\n      TreatmentPlanId: [],\r\n      ContractStaffList: [],\r\n      tenantData: [], //行政区域\r\n      options: [], //医师\r\n      propslist: {\r\n        value: \"OrganizationId\",\r\n        label: \"OrganizationName\",\r\n        children: \"Children\",\r\n        checkStrictly: true,\r\n        emitPath: false,\r\n        lazy: true,\r\n        lazyLoad: this.lazyLoad\r\n      },\r\n      //  表单验证\r\n      rules: {\r\n        FileNumber: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        Name: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        Sex: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        Age: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        Phone: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        CardNo: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        RegistrationNo: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        TreatmentStartDate: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        XianAdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择现管理单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        MedicineAdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择服药单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        AdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择督导单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        FirstAdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择首管单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        ContractStaff: [{\r\n          required: true,\r\n          message: \"请至少选择一项\",\r\n          trigger: \"change\"\r\n        },],\r\n        DiagnosisType: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        PatientType: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        Sputum: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        // DiagnosisOrganizationId: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        DiagnosisTime: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        // DetectionPathway: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // IsDrugResistance: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // MolecularBiologyResult: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // ChestRadiographyResult: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // LiverFunctionResult: [{\r\n        //   required: true,\r\n        //   message: \"请选择\",\r\n        //   trigger: \"blur\"\r\n        // },],\r\n        Responsibility: [{\r\n          required: true,\r\n          message: \"请选择\",\r\n          trigger: \"blur\"\r\n        },],\r\n        RegisterTime: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        TreatmentPlanId: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n      },\r\n      A0003: [],\r\n      A0013: [],\r\n      A0014: [],\r\n      A0015: [],\r\n      A0016: [],\r\n      A0017: [],\r\n      A0021: [],\r\n      A0001: [],\r\n      A0039: [],\r\n\t  A0040:[],\r\n\t  A0041:[],\r\n\t  A0024:[],\r\n      dictarr: [],\r\n      XianAdminOrganizationlist: [], //现管机构\r\n      ShouAdminOrganizationlist: [],//首管理单位\r\n      MedicineAdminOrganizationlist: [], //服药单位\r\n      AdminOrganizationlist: [], //督导机构\r\n      DiagnosisOrganizationIdlist: [], //确诊机构\r\n      paParams: {\r\n        PageNumber: 1,\r\n        PageSize: 60,\r\n      },\r\n      copyform: {},\r\n\r\n    };\r\n  },\r\n  async created () {\r\n    // 字典\r\n    await this.funusedictionarydetails()\r\n    this.fundictlist()\r\n    await this.funtreatmentplantemplates()\r\n    await this.usedictionarydetails()\r\n    await this.getorganizationlist() //获取机构列表\r\n    // await this.getuserDropList() //根据机构获取用户下拉列表\r\n    // this.form.RegisterTime = \r\n  },\r\n  methods: {\r\n    //选择现管理单位\r\n    selectOrganizationName () {\r\n      this.form.MedicineAdminOrganization = '';\r\n      this.form.AdminOrganization = '';\r\n      this.getMedicineAdminOrganizationlist() //服药单位列表\r\n    },\r\n    //获取服药单位列表 \r\n    async getMedicineAdminOrganizationlist () {\r\n      if (this.form.XianAdminOrganization) {\r\n        const res = await droporganizations({\r\n          OrganizationId: this.form.XianAdminOrganization,\r\n          SelectOnly: false,\r\n          PageSize: 9999\r\n        });\r\n        this.MedicineAdminOrganizationlist = res.Response;\r\n      }\r\n    },\r\n    //获取督导机构列表 \r\n    async getAdminOrganizationlist () {\r\n      if (this.form.MedicineAdminOrganization) {\r\n        const res = await droporganizations({\r\n          OrganizationId: this.form.MedicineAdminOrganization,\r\n          SelectOnly: false,\r\n          PageSize: 9999\r\n        });\r\n        this.AdminOrganizationlist = res.Response;\r\n\r\n      }\r\n    },\r\n    //选择服药单位\r\n    selectMedicineAdminOrganization () {\r\n      this.form.AdminOrganization = '';\r\n      this.getAdminOrganizationlist() //督导单位列表\r\n    },\r\n    //根据主键获取全部信息\r\n    async pulmonarycloseslistmsg (data) {\r\n      const res = await tuberculosisdiagnosissmsg(data.DiagnosisId)\r\n      this.form = {\r\n        ...res.Response\r\n      }\r\n      await this.getuserDropList() //根据机构获取用户下拉列表\r\n      this.copyform = {\r\n        ...res.Response\r\n      }\r\n    },\r\n    //加载所有机构\r\n    async allorganizationslist () {\r\n      const res = await droporganizations({\r\n        IsAppoinOrganization: true\r\n      })\r\n      this.DiagnosisOrganizationIdlist = res.Response;\r\n      const res2 = await droporganizations({\r\n        IsCDC: true\r\n      })\r\n      this.ShouAdminOrganizationlist = res2.Response;\r\n      const res3 = await droporganizations({\r\n        OrganizationId: this.$utilsFun.getUserInfo().authOrgId,\r\n        SelectOnly: false,\r\n        IsCDC: true,\r\n      })\r\n      this.XianAdminOrganizationlist = res3.Response;\r\n    },\r\n    // 确认新增？修改\r\n    async show (flag, data) {\r\n      this.dialogVisible = true;\r\n      this.flag = flag;\r\n      if (flag == \"add\") {\r\n        this.title = \"新增病案\";\r\n        this.Isdisabled = false;\r\n        this.form.OperatorNameFirst = this.$utilsFun.getUserInfo().real_Name //给建档人默认当前人\r\n        var datetime = new Date();\r\n        var year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n        var month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n        var date = datetime.getDate(); //获取日(返回1-31)\r\n        //判断小于等于9月的时候在月份前加一个\"0\"\r\n        if (month <= 9) {\r\n          month = \"0\" + month;\r\n        }\r\n        //判断小于等于9号的时候在天数前加一个\"0\"\r\n        if (date <= 9) {\r\n          date = \"0\" + date;\r\n        }\r\n        this.form.OperateTimeFirst = year + \"-\" + month + \"-\" + date; //给建档时间默认当前\r\n\t\tthis.form.RegisterTime = year + \"-\" + month + \"-\" + date;\r\n        this.StrengtheningPeriodDMT = '';\r\n        this.ConsolidationPeriodMonth = '';\r\n        this.ConsolidationPeriodDMT = '';\r\n        this.StrengtheningPeriodMonth = '';\r\n        this.getarchivesnum() //获取档案编号\r\n        this.getorganizationlist() //获取机构列表\r\n        this.allorganizationslist() //所有机构列表\r\n      } else if (flag == \"edit\") {\r\n        this.title = \"编辑\";\r\n        this.Isdisabled = true;\r\n        await this.pulmonarycloseslistmsg(data)\r\n        await this.allorganizationslist() //所有机构列表\r\n        await this.getorganizationlist() //获取机构列表\r\n        await this.getMedicineAdminOrganizationlist() //服药单位列表\r\n        await this.getAdminOrganizationlist()//督导机构列表\r\n      } else if (flag == 'recurrence') {\r\n        this.title = \"复发\";\r\n        this.Isdisabled = true;\r\n        await this.pulmonarycloseslistmsg(data)\r\n        await this.getarchivesnum() //获取档案编号\r\n        await this.allorganizationslist() //所有机构列表\r\n        await this.getorganizationlist() //获取机构列表\r\n        await this.getMedicineAdminOrganizationlist() //服药单位列表\r\n        await this.getAdminOrganizationlist()//督导机构列表\r\n        this.form.PatientType = '2' //复治\r\n\t\tvar datetime = new Date();\r\n\t\tvar year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n\t\tvar month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n\t\tvar date = datetime.getDate(); //获取日(返回1-31)\r\n\t\t//判断小于等于9月的时候在月份前加一个\"0\"\r\n\t\tif (month <= 9) {\r\n\t\t  month = \"0\" + month;\r\n\t\t}\r\n\t\t//判断小于等于9号的时候在天数前加一个\"0\"\r\n\t\tif (date <= 9) {\r\n\t\t  date = \"0\" + date;\r\n\t\t}\r\n\t\tthis.form.RegisterTime = year + \"-\" + month + \"-\" + date;\r\n      }\r\n    },\r\n    //获取档案编号\r\n    async getarchivesnum () {\r\n      const res = await generatetreatmentnumber();\r\n      this.form.FileNumber = res;\r\n    },\r\n    //人群属性\r\n    async usedictionarydetails (params) {\r\n      const res = await usedictionarydetails({\r\n        CategoryCode: 'A0021'\r\n      })\r\n      this.ContractStaffList = res.Response.items\r\n    },\r\n    //获取机构列表\r\n    async getorganizationlist () {\r\n      // this.form.DiagnosisOrganizationId = this.$utilsFun.getUserInfo().authOrgId; //this.$utilsFun.getUserInfo().authOrgId'360111000'\r\n      const res = await getorgcascader(this.form.DiagnosisOrganizationId);\r\n      // for(let i in res.Response){\r\n      // \tres.Response[i]['label']=res.Response[i].OrganizationName\r\n      // \tres.Response[i]['value']=res.Response[i].OrganizationId\r\n      // }\r\n      this.tenantData = res.Response;\r\n    },\r\n    //获取确诊机构列表\r\n    async getDiagnosisOrganizationIdlist () {\r\n      const res = await getOrganizationList({\r\n        // IsAppoinOrganization: true,\r\n        PageSize: 9999\r\n        // IsCDC: true,\r\n      });\r\n      this.DiagnosisOrganizationIdlist = res.Response.items;\r\n      this.XianAdminOrganizationlist = res.Response.items;\r\n      this.MedicineAdminOrganizationlist = res.Response.items;\r\n      this.AdminOrganizationlist = res.Response.items;\r\n    },\r\n    //医师下拉框\r\n    async getuserDropList () {\r\n      var organizationId = this.form.AdminOrganization;\r\n      var selectOnly = true;\r\n      const res = await getuserDrop(organizationId, selectOnly);\r\n      this.options = []; //下拉列表\r\n      if (res.Response.length !== 0) {\r\n        if (res.Response.length == 1) {\r\n          this.form.Responsibility = res.Response[0].Id;\r\n\r\n        }\r\n        for (let item of res.Response) {\r\n          this.options.push({\r\n            label: item.Name,\r\n            value: item.Id,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    async lazyLoad (node, resolve) {\r\n      let {\r\n        level\r\n      } = node;\r\n      let params = node.value\r\n      getOrganizationList({\r\n        Org_OrganizationId: params,\r\n        PageNumber: 1,\r\n        PageSize: 9999,\r\n      }).then(res => { //接口\r\n        if (res && res.StatusCode == 200) {\r\n          let data = [res.Response]\r\n          if (level > 0) {\r\n            data = res.Response.items\r\n          }\r\n          resolve(data);\r\n        } else {\r\n          this.$message.error('获取地区数据失败')\r\n        }\r\n      })\r\n    },\r\n    chanceXianAdminOrganization () {\r\n    },\r\n    //新增治疗方案\r\n    handlerEdit (flag, data) {\r\n      data = this.TreatmentPlanId;\r\n      this.$refs.optionsedit.show(flag, data)\r\n    },\r\n    //选择行政区域\r\n    changeOrg (value) {\r\n      this.form.AdminOrganization = value;\r\n      this.options = [];\r\n      this.form.Responsibility = '';\r\n      this.getuserDropList()\r\n    },\r\n    // 保存\r\n    handlerSave () {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (!valid) return;\r\n        this.hasinfo = [];\r\n        for (let key in this.form) {\r\n          let obj = {};\r\n          if (this.form[key] !== this.copyform[key]) {\r\n            obj.op = 'replace',\r\n              obj.value = this.form[key];\r\n            obj.path = key;\r\n            this.hasinfo.push(obj)\r\n          }\r\n        }\r\n        this.$baseConfirm(`确认要${this.title}此项目吗？`, null, async () => {\r\n          let subData = Object.assign({}, this.form)\r\n          if (this.flag == 'add') {\r\n            const res = await addtuberculosisdiagnosiss(subData)\r\n            this.$emit(\"sumite\")\r\n            this.$baseMessage('操作成功', \"success\")\r\n            // this.$emit(\"newedit\", this.flag, subData);\r\n            this.close();\r\n          } else if (this.flag == 'edit') {\r\n            const DiagnosisId = subData.DiagnosisId\r\n            const res = await edittuberculosisdiagnosiss(DiagnosisId, this.hasinfo)\r\n            let {\r\n              StatusCode,\r\n              Message\r\n            } = res;\r\n            if (StatusCode != 200) {\r\n              return this.$baseMessage(\r\n                Message || '修改失败', 'error'\r\n              )\r\n            } else {\r\n              this.$baseMessage('修改成功', \"success\")\r\n              this.$emit(\"sumite\")\r\n              this.close();\r\n            }\r\n          } else if (this.flag == 'recurrence') {\r\n            const res = await addtuberculosisdiagnosiss({\r\n              ...this.Personform,\r\n              ...this.form,\r\n            })\r\n            this.$emit('sumite');\r\n            this.close();\r\n            this.$baseMessage('操作成功', \"success\")\r\n            this.$router.push('/patientManagement/patientManagement/index')\r\n          }\r\n        });\r\n      });\r\n    },\r\n    close () {\r\n      this.dialogVisible = false;\r\n      // 重置数据(封装的方法)\r\n      this.form = this.$options.data().form;\r\n      this.$refs[\"form\"].resetFields();\r\n    },\r\n    //治疗方案下拉\r\n    chanceTreatmentPlanId (val) {\r\n    },\r\n    idCardNoChange () {\r\n      const IdNmber = this.form.CardNo\r\n      const sex = IdNmber.slice(16, 17)\r\n      const myDate = new Date();\r\n      const month = myDate.getMonth() + 1;\r\n      const day = myDate.getDate();\r\n      //出生日期\r\n      this.form.BirthDay = IdNmber.slice(6, 10) + '-' + IdNmber.slice(10, 12) + '-' + IdNmber.slice(12, 14)\r\n      // 年龄\r\n      if (IdNmber.slice(6, 14).length == 8) {\r\n        this.form.Age = myDate.getFullYear() - IdNmber.slice(6, 10) - 1\r\n        if (IdNmber.slice(10, 12) < month || IdNmber.slice(10, 12) == month && IdNmber.slice(12, 14) <= day) {\r\n          this.form.Age++\r\n        }\r\n        // 性别\r\n        if (IdNmber.length == 17 || IdNmber.length == 18) {\r\n          if (sex % 2 == 0) {\r\n            this.form.Sex = '女'\r\n          } else if (sex % 2 == 1) {\r\n            this.form.Sex = '男'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    //获取选择到的患者信息\r\n    getSelectRespons (data) {\r\n      this.form.Name = data[0].Name\r\n      this.form.CardNo = data[0].CardNo\r\n      this.form.Phone = data[0].Phone\r\n      this.form.PersonId = data[0].PersonId;\r\n    },\r\n    // 选择患者\r\n    clickpatientselect () {\r\n      var param = {\r\n        title: '选择患者',\r\n        visible: true,\r\n        OrganizationId: this.form.AdminOrganization,\r\n        num: 1\r\n      }\r\n      this.$refs.patientselectlist.getDetail(param)\r\n    },\r\n    // 字典数据请求\r\n    async funusedictionarydetails (params) {\r\n      const res = await usedictionarydetails({\r\n        CategoryCode: ['A0021', 'A0003', 'A0013', 'A0014', 'A0015', 'A0016', 'A0017', 'A0001', 'A0039','A0040','A0041','A0024'],\r\n        PageNumber: 1,\r\n        PageSize: 90\r\n      })\r\n      let {\r\n        StatusCode,\r\n        Message\r\n      } = res\r\n      if (!res || StatusCode !== 200) {\r\n        return this.$baseMessage(Message || '数据获取失败', 'error')\r\n      }\r\n      this.dictarr = res.Response.items\r\n    },\r\n    //字典数据处理\r\n    fundictlist () {\r\n      this.dictarr.forEach(item => {\r\n        if (item.CategoryCode == 'A0003') {\r\n          this.A0003.push(item)\r\n        } else if (item.CategoryCode == 'A0013') {\r\n          this.A0013.push(item)\r\n        } else if (item.CategoryCode == 'A0014') {\r\n          this.A0014.push(item)\r\n        } else if (item.CategoryCode == 'A0015') {\r\n          this.A0015.push(item)\r\n        } else if (item.CategoryCode == 'A0016') {\r\n          this.A0016.push(item)\r\n        } else if (item.CategoryCode == 'A0017') {\r\n          this.A0017.push(item)\r\n        } else if (item.CategoryCode == 'A0001') {\r\n          this.A0001.push(item)\r\n        } else if (item.CategoryCode == 'A0021') {\r\n          this.A0021.push(item)\r\n        } else if (item.CategoryCode == 'A0039') {\r\n          this.A0039.push(item)\r\n        } else if (item.CategoryCode == 'A0040') {\r\n          this.A0040.push(item)\r\n        }else if (item.CategoryCode == 'A0041') {\r\n          this.A0041.push(item)\r\n        }else if (item.CategoryCode == 'A0024') {\r\n          this.A0024.push(item)\r\n        }\r\n      })\r\n    },\r\n    // 治疗方案\r\n    async funtreatmentplantemplates (params) {\r\n\t  \r\n      const res = await treatmentplantemplates({\r\n\t\t  PageSize:999\r\n\t  })\r\n      this.TreatmentPlanId = res.Response.items\r\n    }\r\n\r\n  },\r\n  watch: {\r\n    'form.TreatmentPlanId': function (val) {\r\n      for (let i in this.TreatmentPlanId) {\r\n        if (this.TreatmentPlanId[i].TreatmentPlanId == this.form.TreatmentPlanId) {\r\n          this.StrengtheningPeriodDMT = this.TreatmentPlanId[i].StrengtheningPeriodDMT;\r\n          this.ConsolidationPeriodMonth = this.TreatmentPlanId[i].ConsolidationPeriodMonth;\r\n          this.ConsolidationPeriodDMT = this.TreatmentPlanId[i].ConsolidationPeriodDMT;\r\n          this.StrengtheningPeriodMonth = this.TreatmentPlanId[i].StrengtheningPeriodMonth;\r\n        }\r\n      }\r\n    },\r\n    // 'form.XianAdminOrganization': function(val) {\r\n    // \t// this.form.MedicineAdminOrganization = '';\r\n    // \t// this.form.AdminOrganization= '';\r\n    // \tthis.getMedicineAdminOrganizationlist() //服药单位列表\r\n    // },\r\n    // 'form.MedicineAdminOrganization': function(val) {\r\n    // \t// this.form.AdminOrganization= '';\r\n    // \tthis.getAdminOrganizationlist() //督导单位列表\r\n    // }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=scss scoped>\r\n.el-row {\r\n  margin: 1px 0;\r\n}\r\n\r\n.contentbox {\r\n  height: 600px;\r\n}\r\n\r\n.el-colname {\r\n  margin-left: 60px;\r\n}\r\n\r\n.headingstyles {\r\n  line-height: 25px;\r\n}\r\n</style>\r\n"]}]}