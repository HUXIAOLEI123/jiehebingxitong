{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\patientSelect.vue?vue&type=style&index=0&id=5a5c0590&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\patientSelect.vue","mtime":1678931188649},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\css-loader\\dist\\cjs.js","mtime":1678931311747},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1678931317953},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\postcss-loader\\src\\index.js","mtime":1678931314216},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1678931310798},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYXBwLXBhZ2luYXRpb24gewogIGZvbnQtc2l6ZTogMTNweDsKICBmb250LWZhbWlseTogTWljcm9zb2Z0IFlhSGVpOwogIGZvbnQtd2VpZ2h0OiA0MDA7CiAgY29sb3I6ICMzMDMxMzM7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBwYWRkaW5nLXRvcDogMjBweDsKICBkaXNwbGF5OiAtd2Via2l0LWJveDsKICBkaXNwbGF5OiAtbXMtZmxleGJveDsKICBkaXNwbGF5OiBmbGV4OwogIC13ZWJraXQtYm94LXBhY2s6IGp1c3RpZnk7CiAgICAgIC1tcy1mbGV4LXBhY2s6IGp1c3RpZnk7CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjsKICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjsKICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi5hcHAtcGFnaW5hdGlvbiAucGFnaW5nLXRvdGFsIHsKICBmb250LXNpemU6IDEzcHg7CiAgZm9udC1mYW1pbHk6IE1pY3Jvc29mdCBZYUhlaTsKICBmb250LXdlaWdodDogNDAwOwogIGNvbG9yOiAjNjA2MjY2Owp9Ci5tdDEwewogIG1hcmdpbi10b3A6IDEwcHg7Cn0KOjp2LWRlZXB7CiAgLmVsLWlucHV0LS1tZWRpdW0gLmVsLWlucHV0X19pbm5lcnsKICAgIHdpZHRoOiAxMDAlIWltcG9ydGFudDsKICB9CiAgLmRpYWxvZy1mb290ZXJ7CiAgICBmbG9hdDogcmlnaHQ7CiAgfQp9Cg=="},{"version":3,"sources":["patientSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"patientSelect.vue","sourceRoot":"src/views/patientManagement/unassignedrecord/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    :title=\"formConfig.title\"\r\n    v-model=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :height=\"formConfig.height\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    top=\"5vh\"\r\n    modal-append-to-body\r\n    append-to-body\r\n    :z-index='9999'\r\n  >\r\n  <div style=\"overflow-x:hidden;\">\r\n    <el-form ref=\"searchForm\" style=\"margin-top:10px;\" :model=\"searchForm\" label-width=\"90px\">\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n          <el-form-item field=\"Name\" label=\"姓名:\">\r\n            <el-input v-model=\"searchForm.Name\" clearable />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"10\">\r\n          <el-form-item field=\"CardNo\" label=\"证件号:\">\r\n            <el-input v-model=\"searchForm.CardNo\" clearable />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-button @click=\"queryBtn\" type=\"primary\" style='margin-left:10px'>查询</el-button>\r\n          <el-button @click=\"resetBtn\" plain>重置</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <vxe-table :data=\"tableData\" border @cell-dblclick='cellDbRow' ref=\"xTable1\" height=\"360\" :checkbox-config=\"{trigger:'row'}\">\r\n        <vxe-table-column type=\"checkbox\" width=\"55\" align=\"center\"></vxe-table-column>\r\n        <!-- <vxe-table-column field=\"UserId\" align=\"center\" title=\"编号\" width=\"50\"/> -->\r\n        <vxe-column field=\"Name\" title=\"姓名\" width=\"130\"></vxe-column>\r\n        <vxe-column field=\"SexName\" title=\"性别\" width=\"70\"></vxe-column>\r\n        <vxe-column field=\"Age\" title=\"年龄\" width=\"70\"></vxe-column>\r\n        <vxe-column field=\"CardNo\" title=\"证件号\" width=\"150\"></vxe-column>\r\n        \r\n        <vxe-column field=\"Phone\" title=\"联系电话\" width=\"120\"></vxe-column>\r\n        <vxe-column field=\"Address\" title=\"居住地址\" width=\"300\"></vxe-column>\r\n        <vxe-column field=\"AdminOrganizationName\" title=\"管理机构\" width=\"200\"></vxe-column>\r\n        <vxe-column field=\"UserAcc\" title=\"建档人员\" width=\"200\"></vxe-column>\r\n        <vxe-column field=\"FileDate\" title=\"建档日期\" width=\"200\"></vxe-column>\r\n    </vxe-table>\r\n    <!-- 分页 -->\r\n    <div class=\"app-pagination\" ref=\"appPagination\">\r\n      <div class=\"paging-total\">共{{ totalcount }}条</div>\r\n      <div>\r\n        <el-pagination\r\n          layout=\"prev, pager, next\"\r\n          :total=\"totalcount\"\r\n          :page-size=\"pageSize\"\r\n          ref=\"elPage\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page.sync=\"pagenum\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    <span Slots=\"footer\" class=\"dialog-footer mt10\">\r\n      <el-button class=\"cancelbtn\" @click=\"handleClose\">关 闭</el-button>\r\n      <el-button  class=\"savebtn\" type=\"primary\" @click=\"submit\">选 择</el-button>\r\n    </span>\r\n\r\n  </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t  managementist,\r\n\t} from '@/api/Person'\r\n   export default {\r\n    data() {\r\n    return {\r\n      // 表单配置\r\n      formConfig:{\r\n        title:'',\r\n        visible:false,\r\n        width:'60%',\r\n        opt:'',\r\n        height:'85%',\r\n        num:1\r\n      },\r\n      searchForm: {\r\n        CardNo:'',\r\n        Name: \"\",\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n\t\tSelectOnly:false,\r\n\t\tRegionCode:'',\r\n\t\tAdminOrganization:'',\r\n      },\r\n      totalcount: 0, //总条数\r\n      pageSize: 10, // 每页显示条数\r\n      pagenum: 1, // 当前页码\r\n      tableData:[],//表格数据\r\n      selectTableData:[],//选择的表格数据\r\n    };\r\n  },\r\n  created() {\r\n    \r\n  },\r\n  methods:{\r\n    //查询按钮\r\n    queryBtn() {\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //重置\r\n    resetBtn() {\r\n      this.searchForm.CardNo='',\r\n      this.searchForm.Name=\"\",\r\n      this.query()\r\n    },\r\n    //格式化时间显示\r\n    formatterDate(row, column, cellValue, index){\r\n      return row.row.birthday.slice(0,10)\r\n    },  \r\n    //每页显示条目个数改变时\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.pagenum = 1;\r\n      this.query();\r\n    },\r\n    //当前页改变时\r\n    handleCurrentChange(val) {\r\n      this.pagenum = val;\r\n      this.query();\r\n    },\r\n    cellDbRow({ row, rowIndex, $rowIndex, column, columnIndex, $columnIndex, $event }){\r\n      let selectData = this.$refs.xTable1.getCheckboxRecords();\r\n      selectData.push(row)\r\n      if(selectData.length > this.formConfig.num){\r\n        return this.$message.error(\"最多只能选择\" + this.formConfig.num + \"位患者\")\r\n      }\r\n      this.$emit(\"selectSubmit\",selectData);\r\n      this.handleClose()\r\n    },\r\n    // 获取医师列表信息列表\r\n    async query() {\r\n      this.tableLoading = true;\r\n      this.searchForm.PageSize = this.pageSize;\r\n      this.searchForm.PageNumber = this.pagenum;\r\n\t  this.searchForm.SelectOnly = false;\r\n\t  this.searchForm.RegionCode = this.$utilsFun.getUserInfo().authRegionCode;\r\n\t  this.searchForm.AdminOrganization = JSON.parse(localStorage.getItem('userInfo')).authOrgId;\r\n\t  const res = await managementist(this.searchForm)\r\n\t  this.tableLoading = false;\r\n\t  this.totalcount = res.Response.TotalCount; // 总条数\r\n\t  this.tableData = res.Response.items;\r\n      // this.$store\r\n      //   .dispatch(\"function/postApi\", {\r\n      //     reqData: searchParam,\r\n      //     url: this.$URL.urls.PatientBaseInfoQuery,\r\n      //   })\r\n      //   .then((res) => {\r\n      \r\n      //     if(res.code == '0'){\r\n      //       this.totalcount = res.result.meta.totalCount; // 总条数\r\n      //       this.tableData = res.result.data;\r\n      //     }\r\n      //   });\r\n    },\r\n    //选择的表格数据\r\n    submit(){\r\n      let selectData = this.$refs.xTable1.getCheckboxRecords();\r\n      if(selectData.length > this.formConfig.num){\r\n        return this.$message.error(\"最多只能选择\" + this.formConfig.num + \"位患者\")\r\n      }\r\n      this.$emit(\"selectSubmit\",selectData);\r\n      this.handleClose()\r\n    },\r\n    // 初始化弹框，获取详情\r\n    getDetail(param){\r\n      this.formConfig = Object.assign(this.formConfig,param);\r\n\t  this.query();\r\n    },\r\n    //关闭弹框\r\n    handleClose(){\r\n      this.$refs.xTable1.clearCheckboxRow();\r\n      this.formConfig.visible = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\n  .app-pagination {\r\n    font-size: 13px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #303133;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    padding-top: 20px;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n  }\r\n  \r\n  .app-pagination .paging-total {\r\n    font-size: 13px;\r\n    font-family: Microsoft YaHei;\r\n    font-weight: 400;\r\n    color: #606266;\r\n  }\r\n  .mt10{\r\n    margin-top: 10px;\r\n  }\r\n  ::v-deep{\r\n    .el-input--medium .el-input__inner{\r\n      width: 100%!important;\r\n    }\r\n    .dialog-footer{\r\n      float: right;\r\n    }\r\n  }\r\n</style>\r\n"]}]}