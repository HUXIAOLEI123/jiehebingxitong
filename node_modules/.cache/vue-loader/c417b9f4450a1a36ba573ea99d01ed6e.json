{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\layout\\components\\AppHeader.vue?vue&type=style&index=0&id=47c2589e&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\layout\\components\\AppHeader.vue","mtime":1678931188545},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\css-loader\\dist\\cjs.js","mtime":1678931311747},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1678931317953},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\postcss-loader\\src\\index.js","mtime":1678931314216},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1678931310798},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5oZWFkZXItciB7DQogIGZsb2F0OiByaWdodDsNCn0NCg=="},{"version":3,"sources":["AppHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA","file":"AppHeader.vue","sourceRoot":"src/layout/components","sourcesContent":["<template>\r\n  <div class=\"app-header\">\r\n    <div class=\"header-l\">\r\n      <img src=\"../../assets/index-logo2.png\" class=\"logo2\" />\r\n    </div>\r\n    <div class=\"title\">{{ bigTitle }}</div>\r\n    <div class=\"headerRigh\">\r\n      <div class=\"header-r\">\r\n        <div class=\"toUser\" @click=\"gotoMenHu\">\r\n          <i class=\"el-icon-s-home\"></i>\r\n          <span style=\"margin-left: 2px; cursor: pointer\">返回门户</span>\r\n        </div>\r\n        <!-- <div class=\"userinfo\" @click=\"gotoIndexControl\">\r\n          <i class=\"el-icon-pie-chart\" style=\"margin-right: 5px\"></i>\r\n          可视化平台\r\n        </div> -->\r\n        <img src=\"../../assets/userheader.svg\" alt=\" \" class=\"headportrait\" />\r\n        <div class=\"userinfo\" style=\"cursor: pointer\" @click=\"gotoInfo\">个人信息</div>\r\n        <div class=\"right-loginout pointer\" @click=\"logout\">\r\n          <i class=\"el-icon-switch-button\" style=\"width: 20px; height: 20px; margin-right: 30px\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getLoginInfo } from '@/utils/auth'\r\nimport { ssoLogout, ssoauthurl } from '@/api/Sso'\r\nimport { removeWatermark, setWaterMark } from \"@/utils/waterMark\";\r\nexport default {\r\n  name: 'AppHeader',\r\n  data () {\r\n    return {\r\n      bigTitle: this.$bigTitle,\r\n      userInfo: {},\r\n    }\r\n  },\r\n  created () {\r\n    this.userInfo = this.$utilsFun.getUserInfo();\r\n  },\r\n  methods: {\r\n    //个人信息查看\r\n    gotoInfo () {\r\n      this.$router.push(`/userInfo`)\r\n    },\r\n    //查看大屏\r\n    gotoIndexControl () {\r\n      let routeUrl = this.$router.resolve({\r\n        path: \"/indexControl\",\r\n        query: { id: 96 }\r\n      });\r\n      window.open(routeUrl.href, '_blank');\r\n    },\r\n    gotoMenHu () {\r\n      // http://zhjk.jxcdc.cn:8869/smartcdc\r\n      // http://182.106.129.104:8181/smartcdc\r\n      window.open('http://zhjk.jxcdc.cn:8869/smartcdc', '_blank');\r\n    },\r\n    logout () {\r\n      this.$confirm('确定退出系统吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let sessionId = this.$utilsFun.getUserInfo().sessionId;\r\n        if (sessionId) {\r\n          ssoLogout({ back: \"ssss\" }).then((res) => {\r\n            ssoauthurl({ clientLoginUrl: process.env.VUE_APP_REDIRECTURL + 'redirect' }).then((res) => {\r\n              window.open(res.Response, '_self');\r\n            })\r\n          })\r\n          removeWatermark();\r\n          this.$store.dispatch('user/logout')\r\n        } else {\r\n          this.$store.dispatch('user/logout')\r\n          this.$router.push(`/login?redirect=${this.$route.fullPath}`)\r\n          removeWatermark();\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.header-r {\r\n  float: right;\r\n}\r\n</style>\r\n"]}]}