{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManagement\\treatmentplantemplates\\components\\pageEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManagement\\treatmentplantemplates\\components\\pageEdit.vue","mtime":1678931188725},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdHViZXJjdWxvc2lzLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdHJlYXRtZW50cGxhbnRlbU1vZGlmeSwgdHJlYXRtZW50cGxhbnRlbXBsYXRlc0RldGFpbHMsIHRyZWF0bWVudHBsYW5yZWNvcmRFZGl0IH0gZnJvbSAiQC9hcGkvVHJlYXRtZW50UGxhblRlbXBsYXRlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDooajljZXphY3nva4KICAgICAgZm9ybUNvbmZpZzogewogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICB3aWR0aDogIjcwJSIsCiAgICAgICAgb3B0OiAiIiwKICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICByZWRlclZpZXc6IHRydWUKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIGZvcm1EYXRhOiB7fSwKICAgICAgZm9ybURhdGFDb3B5OiB7fSwKICAgICAgLy8g6aqM6K+B6KeE5YiZCiAgICAgIGZvcm1SdWxlczoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZXRmb3JtUnVsZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldGZvcm1SdWxlczogZnVuY3Rpb24gc2V0Zm9ybVJ1bGVzKCkgewogICAgICB2YXIgYXJyID0gW3sKICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgbWVzc2FnZTogIuayu+eWl+aWueahiOWQjeensCIsCiAgICAgICAga2V5OiAiVHJlYXRtZW50UGxhbk5hbWUiCiAgICAgIH0sIHsKICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgbWVzc2FnZTogIuW8uuWMluacnyIsCiAgICAgICAga2V5OiAiU3RyZW5ndGhlbmluZ1BlcmlvZE1vbnRoIgogICAgICB9LCB7CiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgIG1lc3NhZ2U6ICLlvLrljJbmnJ/mnI3oja/popHnjociLAogICAgICAgIGtleTogIlN0cmVuZ3RoZW5pbmdQZXJpb2RETVQiCiAgICAgIH0sIHsKICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgbWVzc2FnZTogIuW3qeWbuuacnyIsCiAgICAgICAga2V5OiAiQ29uc29saWRhdGlvblBlcmlvZE1vbnRoIgogICAgICB9LCB7CiAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgIG1lc3NhZ2U6ICLlt6nlm7rmnJ/mnI3oja/popHnjociLAogICAgICAgIGtleTogIkNvbnNvbGlkYXRpb25QZXJpb2RETVQiCiAgICAgIH1dOwoKICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYXJyID0gYXJyOyBfaSA8IF9hcnIubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBfYXJyW19pXTsKICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgdHJpZ2dlcjogaXRlbS50cmlnZ2VyLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9OwogICAgICAgIGlmIChpdGVtLnRyaWdnZXIgPT0gJ2JsdXInKSBvYmoubWVzc2FnZSA9IGl0ZW0ubWVzc2FnZSArICfkuI3og73kuLrnqbonOwogICAgICAgIGlmIChpdGVtLnRyaWdnZXIgPT0gJ2NoYW5nZScpIG9iai5tZXNzYWdlID0gJ+ivt+mAieaLqScgKyBpdGVtLm1lc3NhZ2U7CiAgICAgICAgdGhpcy5mb3JtUnVsZXNbaXRlbS5rZXldID0gb2JqOwogICAgICB9CiAgICB9LAogICAgLy/lhbPpl63lvLnmoYYKICAgIGhhbmRsZUNsb3NlOiBmdW5jdGlvbiBoYW5kbGVDbG9zZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kcmVmc1sncmVmRm9ybSddLnJlc2V0RmllbGRzKCk7CiAgICAgIH0pOwogICAgICB0aGlzLmZvcm1Db25maWcudmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaPkOS6pAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzLnJlZkZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHZhciBhcnI7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICghKHRoYXQuZm9ybUNvbmZpZy5vcHQgPT0gJ2FkZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gdHJlYXRtZW50cGxhbnRlbU1vZGlmeSh0aGF0LmZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCLmlrDlop7miJDlip8iKTsKCiAgICAgICAgICAgICAgICAgIHRoYXQuJGVtaXQoInN1Ym1pdCIpOwogICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZUNsb3NlKCk7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICBpZiAoISh0aGF0LmZvcm1Db25maWcub3B0ID09ICdlZGl0JykpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGFyciA9IHRoYXQuJHV0aWxzRnVuLmNvbXBhcmVPYmoodGhhdC5mb3JtRGF0YSwgdGhhdC5mb3JtRGF0YUNvcHkpOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cmVhdG1lbnRwbGFucmVjb3JkRWRpdCh7CiAgICAgICAgICAgICAgICAgICAgVHJlYXRtZW50UGxhbklkOiB0aGF0LmZvcm1EYXRhLlRyZWF0bWVudFBsYW5JZCwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBhcnIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoIue8lui+keaIkOWKnyIpOwoKICAgICAgICAgICAgICAgICAgdGhhdC4kZW1pdCgic3VibWl0Iik7CiAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlQ2xvc2UoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIC8vIOWIneWni+WMluW8ueahhu+8jOiOt+WPluivpuaDhQogICAgZ2V0RGV0YWlsOiBmdW5jdGlvbiBnZXREZXRhaWwocGFyYW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdGhhdCwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGF0ID0gX3RoaXMzOwoKICAgICAgICAgICAgICAgIGlmICghKHBhcmFtLm9wdCA9PSAiIiB8fCBwYXJhbS5vcHQgPT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCLmnKrnn6Xmk43kvZwiKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB0aGF0LmZvcm1EYXRhID0gX29iamVjdFNwcmVhZCh7fSwge30pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMzLmZvcm1Db25maWcgPSBPYmplY3QuYXNzaWduKF90aGlzMy5mb3JtQ29uZmlnLCBwYXJhbSk7IC8vIOe8lui+keS5i+WJjeWFiOWOu+afpeivouivpuaDhQoKICAgICAgICAgICAgICAgIGlmICghKHBhcmFtLm9wdCA9PT0gImVkaXQiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJlYXRtZW50cGxhbnRlbXBsYXRlc0RldGFpbHMocGFyYW0uVHJlYXRtZW50UGxhbklkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5mb3JtRGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHJlcy5SZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczMuZm9ybURhdGFDb3B5ID0gcmVzLlJlc3BvbnNlOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX3RoaXMzLmZvcm1Db25maWcubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;EACAA,IADA,kBACA;IACA;MACA;MACAC;QACAC,SADA;QAEAC,cAFA;QAGAC,YAHA;QAIAC,OAJA;QAKAC,cALA;QAMAC;MANA,CAFA;MAUA;MACAC,YAXA;MAYAC,gBAZA;MAaA;MACAC;IAdA;EAgBA,CAlBA;EAmBAC,OAnBA,qBAmBA;IACA;EACA,CArBA;EAsBAC;IACAC,YADA,0BACA;MACA,WACA;QAAAC;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAC;QAAAC;MAAA,CAFA,EAGA;QAAAF;QAAAC;QAAAC;MAAA,CAHA,EAIA;QAAAF;QAAAC;QAAAC;MAAA,CAJA,EAKA;QAAAF;QAAAC;QAAAC;MAAA,CALA;;MAOA;QAAA;QACA;UACAF,qBADA;UAEAG;QAFA;QAIA;QACA;QACA;MACA;IACA,CAlBA;IAmBA;IACAC,WApBA,yBAoBA;MAAA;;MACA;QACA;MACA,CAFA;MAGA;IACA,CAzBA;IA0BA;IACAC,MA3BA,oBA2BA;MAAA;;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAC,KADA;oBAAA;oBAAA;kBAAA;;kBAAA,MAEAC,4BAFA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAGAC,qCAHA;;gBAAA;kBAIA;;kBACAD;kBACAA;;gBANA;kBAAA,MAQAA,6BARA;oBAAA;oBAAA;kBAAA;;kBASAE,GATA,GASAF,2DATA;kBAAA;kBAAA,OAUAG;oBACAC,8CADA;oBAEAzB;kBAFA,EAVA;;gBAAA;kBAcA;;kBACAqB;kBACAA;;gBAhBA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IAoBA,CAjDA;IAkDA;IACAK,SAnDA,qBAmDAC,KAnDA,EAmDA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAN,IADA,GACA,MADA;;gBAAA,MAEAM,oCAFA;kBAAA;kBAAA;gBAAA;;gBAAA,kCAGA,6BAHA;;cAAA;gBAKA;kBACAN;gBACA,CAFA;;gBAGA,4DARA,CASA;;gBATA,MAUAM,oBAVA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAWAC,oDAXA;;cAAA;gBAWAC,GAXA;;gBAYA;kBACA,oCACAA,YADA;gBAGA,CAJA;;gBAKA;;cAjBA;gBAmBA;;cAnBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAoBA;EAvEA;AAtBA","names":["data","formConfig","title","visible","width","opt","loading","rederView","formData","formDataCopy","formRules","created","methods","setformRules","trigger","message","key","required","handleClose","submit","valid","that","treatmentplantemModify","arr","treatmentplanrecordEdit","TreatmentPlanId","getDetail","param","treatmentplantemplatesDetails","res"],"sourceRoot":"src/views/systemManagement/treatmentplantemplates/components","sources":["pageEdit.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"formConfig.title\"\r\n    :visible.sync=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    top=\"20vh\"\r\n  >\r\n    <div slot=\"title\" class=\"dialog-title\">\r\n      <div class=\"sectionstly\"></div>\r\n      <span class=\"title-text\">{{ formConfig.title }}</span>\r\n      <div class=\"button-right\">\r\n        <span class=\"title-close\" @click=\"handleClose\"></span>\r\n      </div>\r\n    </div>\r\n    <el-form :model=\"formData\" :rules=\"formRules\" v-loading=\"formConfig.loading\" ref=\"refForm\" label-width=\"130px\" class=\"form_row\">\r\n      <div class=\"el-dialog-div\" style=\"height: 50vh\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"治疗方案名称:\" prop=\"TreatmentPlanName\">\r\n              <el-input v-model=\"formData.TreatmentPlanName\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"强化期:\" prop=\"StrengtheningPeriodMonth\">\r\n              <el-input v-model=\"formData.StrengtheningPeriodMonth\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"强化期服药频率:\" prop=\"StrengtheningPeriodDMT\">\r\n              <el-input v-model=\"formData.StrengtheningPeriodDMT\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"巩固期:\" prop=\"ConsolidationPeriodMonth\">\r\n              <el-input v-model=\"formData.ConsolidationPeriodMonth\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"巩固期服药频率:\" prop=\"ConsolidationPeriodDMT\">\r\n              <el-input v-model=\"formData.ConsolidationPeriodDMT\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button class=\"cancelbtn\" @click=\"handleClose\">取 消</el-button>\r\n      <el-button class=\"savebtn\" type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { treatmentplantemModify, treatmentplantemplatesDetails, treatmentplanrecordEdit } from \"@/api/TreatmentPlanTemplate\";\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 表单配置\r\n      formConfig: {\r\n        title: \"\",\r\n        visible: false,\r\n        width: \"70%\",\r\n        opt: \"\",\r\n        loading: false,\r\n        rederView: true\r\n      },\r\n      // 表单数据\r\n      formData: {},\r\n      formDataCopy: {},\r\n      // 验证规则\r\n      formRules: {},\r\n    };\r\n  },\r\n  created () {\r\n    this.setformRules()\r\n  },\r\n  methods: {\r\n    setformRules () {\r\n      let arr = [\r\n        { trigger: 'blur', message: \"治疗方案名称\", key: \"TreatmentPlanName\" },\r\n        { trigger: 'blur', message: \"强化期\", key: \"StrengtheningPeriodMonth\" },\r\n        { trigger: 'blur', message: \"强化期服药频率\", key: \"StrengtheningPeriodDMT\" },\r\n        { trigger: 'blur', message: \"巩固期\", key: \"ConsolidationPeriodMonth\" },\r\n        { trigger: 'blur', message: \"巩固期服药频率\", key: \"ConsolidationPeriodDMT\" },\r\n      ]\r\n      for (let item of arr) {\r\n        let obj = {\r\n          trigger: item.trigger,\r\n          required: true,\r\n        }\r\n        if (item.trigger == 'blur') obj.message = item.message + '不能为空';\r\n        if (item.trigger == 'change') obj.message = '请选择' + item.message;\r\n        this.formRules[item.key] = obj\r\n      }\r\n    },\r\n    //关闭弹框\r\n    handleClose () {\r\n      this.$nextTick(() => {\r\n        this.$refs['refForm'].resetFields();\r\n      })\r\n      this.formConfig.visible = false;\r\n    },\r\n    // 提交\r\n    submit () {\r\n      let that = this;\r\n      this.$refs.refForm.validate(async (valid) => {\r\n        if (valid) {\r\n          if (that.formConfig.opt == 'add') {\r\n            await treatmentplantemModify(that.formData);\r\n            this.$message.success(\"新增成功\");\r\n            that.$emit(\"submit\")\r\n            that.handleClose()\r\n          }\r\n          if (that.formConfig.opt == 'edit') {\r\n            let arr = that.$utilsFun.compareObj(that.formData, that.formDataCopy)\r\n            await treatmentplanrecordEdit({\r\n              TreatmentPlanId: that.formData.TreatmentPlanId,\r\n              data: arr\r\n            })\r\n            this.$message.success(\"编辑成功\");\r\n            that.$emit(\"submit\")\r\n            that.handleClose()\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 初始化弹框，获取详情\r\n    async getDetail (param) {\r\n      let that = this;\r\n      if (param.opt == \"\" || param.opt == null) {\r\n        return this.$message.error(\"未知操作\");\r\n      }\r\n      this.$nextTick(() => {\r\n        that.formData = { ...{} }\r\n      })\r\n      this.formConfig = Object.assign(this.formConfig, param);\r\n      // 编辑之前先去查询详情\r\n      if (param.opt === \"edit\") {\r\n        let res = await treatmentplantemplatesDetails(param.TreatmentPlanId);\r\n        this.$nextTick(() => {\r\n          this.formData = {\r\n            ...res.Response\r\n          }\r\n        })\r\n        this.formDataCopy = res.Response\r\n      }\r\n      this.formConfig.loading = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}