{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\store\\modules\\permission.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\store\\modules\\permission.js","mtime":1678931188560},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\eslint-loader\\index.js","mtime":1678931311328}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNvbnN0YW50Um91dGVzIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgTGF5b3V0IGZyb20gJ0AvbGF5b3V0JzsKdmFyIHN0YXRlID0gewogIHJvdXRlczogW10sCiAgYWRkUm91dGVzOiBbXQp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUuYWRkUm91dGVzID0gcm91dGVzOwogICAgc3RhdGUucm91dGVzID0gY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgfQp9Owp2YXIgZnVuID0gewogIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQocGlkLCBhcnIsIHBuYW1lLCBpZG5hbWUpIHsKICAgIHZhciByZXN1bHRhcnIgPSBhcnIuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgIHJldHVybiBwW3BuYW1lXSA9PSBwaWQ7CiAgICB9KTsKCiAgICBpZiAocmVzdWx0YXJyLmxlbmd0aCA+IDApIHsKICAgICAgcmVzdWx0YXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoZnVuLmNvbnZlcnQoaXRlbVtpZG5hbWVdLCBhcnIsIHBuYW1lLCBpZG5hbWUpLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4gPSBbXTsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4gPSBmdW4uY29udmVydChpdGVtW2lkbmFtZV0sIGFyciwgcG5hbWUsIGlkbmFtZSk7CiAgICAgICAgICBpdGVtLmNoaWxkcmVuLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGEuT3JkZXJTb3J0ID4gYi5PcmRlclNvcnQgPyAxIDogLTE7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuLmxlbmd0aCA9PSAwKSBkZWxldGUgaXRlbS5jaGlsZHJlbjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiByZXN1bHRhcnI7CiAgfQp9OyAvLyDlvJXlhaXnmoTot6/nlLHoj5zljZUKCmltcG9ydCBGaWxlTWFuYWdlbWVudCBmcm9tICdAL3JvdXRlci9tb2R1bGVzL2ZpbGVNYW5hZ2VtZW50JzsKaW1wb3J0IFBhdGllbnRNYW5hZ2VtZW50IGZyb20gJ0Avcm91dGVyL21vZHVsZXMvcGF0aWVudE1hbmFnZW1lbnQnOwppbXBvcnQgU3VwZXJ2aXNvcnlXb3JrTWFuYWdlbWVudCBmcm9tICdAL3JvdXRlci9tb2R1bGVzL3N1cGVydmlzb3J5V29ya01hbmFnZW1lbnQnOwppbXBvcnQgU3lzdGVtTWFuYWdlbWVudCBmcm9tICdAL3JvdXRlci9tb2R1bGVzL3N5c3RlbU1hbmFnZW1lbnQnOwppbXBvcnQgZGFuZ2FuZ3VhbmxpIGZyb20gJ0AvYXNzZXRzL2ljb25mb250L2Rhbmdhbmd1YW5saS5zdmcnOwppbXBvcnQgZHVkYW8gZnJvbSAnQC9hc3NldHMvaWNvbmZvbnQvZHVkYW8uc3ZnJzsKaW1wb3J0IGh1YW56aGUgZnJvbSAnQC9hc3NldHMvaWNvbmZvbnQvaHVhbnpoZS5zdmcnOwppbXBvcnQgamlhbmd1YW4gZnJvbSAnQC9hc3NldHMvaWNvbmZvbnQvamlhbmd1YW4uc3ZnJzsKaW1wb3J0IHNob3V5ZSBmcm9tICdAL2Fzc2V0cy9pY29uZm9udC9zaG91eWUuc3ZnJzsKaW1wb3J0IHRvbmdqaSBmcm9tICdAL2Fzc2V0cy9pY29uZm9udC90b25namkuc3ZnJzsKaW1wb3J0IHhpdG9uZyBmcm9tICdAL2Fzc2V0cy9pY29uZm9udC94aXRvbmcuc3ZnJzsKdmFyIEljb25MaXN0ID0gewogIGRhbmdhbmd1YW5saTogZGFuZ2FuZ3VhbmxpLAogIGR1ZGFvOiBkdWRhbywKICBodWFuemhlOiBodWFuemhlLAogIGppYW5ndWFuOiBqaWFuZ3VhbiwKICBzaG91eWU6IHNob3V5ZSwKICB0b25namk6IHRvbmdqaSwKICB4aXRvbmc6IHhpdG9uZwp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZW5lcmF0ZVJvdXRlczogZnVuY3Rpb24gZ2VuZXJhdGVSb3V0ZXMoX3JlZiwgcm9sZXMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICB2YXIgYWNjZXNzZWRSb3V0ZXMgPSBbXTsKICAgICAgdmFyIG1lbnVMaXN0ID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJykpLm1lbnVzOwogICAgICBtZW51TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5jb21wb25lbnQgPSBpdGVtLlBhcmVudElkID09IG51bGwgPyBMYXlvdXQgOiBmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgcmV0dXJuIHJlcXVpcmUoWydAL3ZpZXdzJyArIGl0ZW0uQ29kZV0sIHJlc29sdmUpOwogICAgICAgIH07CiAgICAgICAgaXRlbS5wYXRoID0gaXRlbS5Db2RlOwogICAgICAgIGl0ZW0ubmFtZSA9IGl0ZW0uQ29kZTsKICAgICAgICBpdGVtLm1ldGEgPSB7CiAgICAgICAgICB0aXRsZTogaXRlbS5QZXJtaXNzaW9uTmFtZSwKICAgICAgICAgIGljb246IGl0ZW0uSWNvbgogICAgICAgIH07CgogICAgICAgIGlmIChpdGVtLkljb24pIHsKICAgICAgICAgIGl0ZW0ubWV0YS5pY29uID0gSWNvbkxpc3RbaXRlbS5JY29uXTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKG1lbnVMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICBtZW51TGlzdCA9IGZ1bi5jb252ZXJ0KG51bGwsIG1lbnVMaXN0LCAnUGFyZW50SWQnLCAnUGVybWlzc2lvbklkJyk7CiAgICAgIH0KCiAgICAgIG1lbnVMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYS5PcmRlclNvcnQgPiBiLk9yZGVyU29ydCA/IDEgOiAtMTsKICAgICAgfSk7CiAgICAgIGFjY2Vzc2VkUm91dGVzID0gYWNjZXNzZWRSb3V0ZXMuY29uY2F0KG1lbnVMaXN0KTsgLy8gY29tbWl0KCJTRVRfUk9VVEVTIiwgYWNjZXNzZWRSb3V0ZXMpOwogICAgICAvLyBsZXQgYWNjZXNzZWRSb3V0ZXMgPSBbXTsKICAgICAgLy8gYWNjZXNzZWRSb3V0ZXMgPSBhY2Nlc3NlZFJvdXRlcy5jb25jYXQoCiAgICAgIC8vICAgRmlsZU1hbmFnZW1lbnQsCiAgICAgIC8vICAgUGF0aWVudE1hbmFnZW1lbnQsCiAgICAgIC8vICAgU3VwZXJ2aXNvcnlXb3JrTWFuYWdlbWVudCwKICAgICAgLy8gICBTeXN0ZW1NYW5hZ2VtZW50CiAgICAgIC8vICk7CgogICAgICBjb21taXQoJ1NFVF9ST1VURVMnLCBhY2Nlc3NlZFJvdXRlcyk7CiAgICAgIHJlc29sdmUoYWNjZXNzZWRSb3V0ZXMpOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"names":["constantRoutes","Layout","state","routes","addRoutes","mutations","SET_ROUTES","concat","fun","convert","pid","arr","pname","idname","resultarr","filter","p","length","forEach","item","children","sort","a","b","OrderSort","FileManagement","PatientManagement","SupervisoryWorkManagement","SystemManagement","danganguanli","dudao","huanzhe","jianguan","shouye","tongji","xitong","IconList","actions","generateRoutes","roles","commit","Promise","resolve","accessedRoutes","menuList","JSON","parse","window","localStorage","getItem","menus","component","ParentId","require","Code","path","name","meta","title","PermissionName","icon","Icon","namespaced"],"sources":["C:/Users/Administrator/Desktop/tuberculosis-fe/src/store/modules/permission.js"],"sourcesContent":["import { constantRoutes } from '@/router';\r\nimport Layout from '@/layout';\r\nconst state = {\r\n  routes: [],\r\n  addRoutes: [],\r\n};\r\nconst mutations = {\r\n  SET_ROUTES: (state, routes) => {\r\n    state.addRoutes = routes;\r\n    state.routes = constantRoutes.concat(routes);\r\n  },\r\n};\r\nconst fun = {\r\n  convert: (pid, arr, pname, idname) => {\r\n    let resultarr = arr.filter(p => p[pname] == pid);\r\n    if (resultarr.length > 0) {\r\n      resultarr.forEach(item => {\r\n        if (fun.convert(item[idname], arr, pname, idname).length > 0) {\r\n          item.children = [];\r\n          item.children = fun.convert(item[idname], arr, pname, idname);\r\n          item.children.sort((a, b) => {\r\n            return a.OrderSort > b.OrderSort ? 1 : -1;\r\n          });\r\n          if (item.children.length == 0) delete item.children;\r\n        }\r\n      });\r\n    }\r\n    return resultarr;\r\n  },\r\n};\r\n// 引入的路由菜单\r\nimport FileManagement from '@/router/modules/fileManagement';\r\nimport PatientManagement from '@/router/modules/patientManagement';\r\nimport SupervisoryWorkManagement from '@/router/modules/supervisoryWorkManagement';\r\nimport SystemManagement from '@/router/modules/systemManagement';\r\n\r\n\r\nimport danganguanli from '@/assets/iconfont/danganguanli.svg'\r\nimport dudao from '@/assets/iconfont/dudao.svg'\r\nimport huanzhe from '@/assets/iconfont/huanzhe.svg'\r\nimport jianguan from '@/assets/iconfont/jianguan.svg'\r\nimport shouye from '@/assets/iconfont/shouye.svg'\r\nimport tongji from '@/assets/iconfont/tongji.svg'\r\nimport xitong from '@/assets/iconfont/xitong.svg'\r\nconst IconList = {\r\n  danganguanli:danganguanli,\r\n  dudao:dudao,\r\n  huanzhe:huanzhe,\r\n  jianguan:jianguan,\r\n  shouye:shouye,\r\n  tongji:tongji,\r\n  xitong:xitong,\r\n}\r\nconst actions = {\r\n  generateRoutes({ commit }, roles) {\r\n    return new Promise(resolve => {\r\n      let accessedRoutes = [];\r\n      let menuList = JSON.parse(window.localStorage.getItem('userInfo')).menus;\r\n      menuList.forEach(item => {\r\n        item.component = item.ParentId == null ? Layout : resolve => require(['@/views' + item.Code], resolve);\r\n        item.path = item.Code;\r\n        item.name = item.Code;\r\n        item.meta = {\r\n          title: item.PermissionName,\r\n          icon: item.Icon,\r\n        };\r\n        if (item.Icon) {\r\n          item.meta.icon = IconList[item.Icon];\r\n        }\r\n      });\r\n      if (menuList.length > 0) {\r\n        menuList = fun.convert(null, menuList, 'ParentId', 'PermissionId');\r\n      }\r\n      menuList.sort((a, b) => {\r\n        return a.OrderSort > b.OrderSort ? 1 : -1;\r\n      });\r\n      accessedRoutes = accessedRoutes.concat(menuList);\r\n      // commit(\"SET_ROUTES\", accessedRoutes);\r\n      // let accessedRoutes = [];\r\n      // accessedRoutes = accessedRoutes.concat(\r\n      //   FileManagement,\r\n      //   PatientManagement,\r\n      //   SupervisoryWorkManagement,\r\n      //   SystemManagement\r\n      // );\r\n      commit('SET_ROUTES', accessedRoutes);\r\n      resolve(accessedRoutes);\r\n    });\r\n  },\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions,\r\n};\r\n"],"mappings":";;;;;;AAAA,SAASA,cAAT,QAA+B,UAA/B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,IAAMC,KAAK,GAAG;EACZC,MAAM,EAAE,EADI;EAEZC,SAAS,EAAE;AAFC,CAAd;AAIA,IAAMC,SAAS,GAAG;EAChBC,UAAU,EAAE,oBAACJ,KAAD,EAAQC,MAAR,EAAmB;IAC7BD,KAAK,CAACE,SAAN,GAAkBD,MAAlB;IACAD,KAAK,CAACC,MAAN,GAAeH,cAAc,CAACO,MAAf,CAAsBJ,MAAtB,CAAf;EACD;AAJe,CAAlB;AAMA,IAAMK,GAAG,GAAG;EACVC,OAAO,EAAE,iBAACC,GAAD,EAAMC,GAAN,EAAWC,KAAX,EAAkBC,MAAlB,EAA6B;IACpC,IAAIC,SAAS,GAAGH,GAAG,CAACI,MAAJ,CAAW,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACJ,KAAD,CAAD,IAAYF,GAAhB;IAAA,CAAZ,CAAhB;;IACA,IAAII,SAAS,CAACG,MAAV,GAAmB,CAAvB,EAA0B;MACxBH,SAAS,CAACI,OAAV,CAAkB,UAAAC,IAAI,EAAI;QACxB,IAAIX,GAAG,CAACC,OAAJ,CAAYU,IAAI,CAACN,MAAD,CAAhB,EAA0BF,GAA1B,EAA+BC,KAA/B,EAAsCC,MAAtC,EAA8CI,MAA9C,GAAuD,CAA3D,EAA8D;UAC5DE,IAAI,CAACC,QAAL,GAAgB,EAAhB;UACAD,IAAI,CAACC,QAAL,GAAgBZ,GAAG,CAACC,OAAJ,CAAYU,IAAI,CAACN,MAAD,CAAhB,EAA0BF,GAA1B,EAA+BC,KAA/B,EAAsCC,MAAtC,CAAhB;UACAM,IAAI,CAACC,QAAL,CAAcC,IAAd,CAAmB,UAACC,CAAD,EAAIC,CAAJ,EAAU;YAC3B,OAAOD,CAAC,CAACE,SAAF,GAAcD,CAAC,CAACC,SAAhB,GAA4B,CAA5B,GAAgC,CAAC,CAAxC;UACD,CAFD;UAGA,IAAIL,IAAI,CAACC,QAAL,CAAcH,MAAd,IAAwB,CAA5B,EAA+B,OAAOE,IAAI,CAACC,QAAZ;QAChC;MACF,CATD;IAUD;;IACD,OAAON,SAAP;EACD;AAhBS,CAAZ,C,CAkBA;;AACA,OAAOW,cAAP,MAA2B,iCAA3B;AACA,OAAOC,iBAAP,MAA8B,oCAA9B;AACA,OAAOC,yBAAP,MAAsC,4CAAtC;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AAGA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,IAAMC,QAAQ,GAAG;EACfP,YAAY,EAACA,YADE;EAEfC,KAAK,EAACA,KAFS;EAGfC,OAAO,EAACA,OAHO;EAIfC,QAAQ,EAACA,QAJM;EAKfC,MAAM,EAACA,MALQ;EAMfC,MAAM,EAACA,MANQ;EAOfC,MAAM,EAACA;AAPQ,CAAjB;AASA,IAAME,OAAO,GAAG;EACdC,cADc,gCACaC,KADb,EACoB;IAAA,IAAjBC,MAAiB,QAAjBA,MAAiB;IAChC,OAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;MAC5B,IAAIC,cAAc,GAAG,EAArB;MACA,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAX,EAAoDC,KAAnE;MACAN,QAAQ,CAAC1B,OAAT,CAAiB,UAAAC,IAAI,EAAI;QACvBA,IAAI,CAACgC,SAAL,GAAiBhC,IAAI,CAACiC,QAAL,IAAiB,IAAjB,GAAwBnD,MAAxB,GAAiC,UAAAyC,OAAO;UAAA,OAAIW,OAAO,CAAC,CAAC,YAAYlC,IAAI,CAACmC,IAAlB,CAAD,EAA0BZ,OAA1B,CAAX;QAAA,CAAzD;QACAvB,IAAI,CAACoC,IAAL,GAAYpC,IAAI,CAACmC,IAAjB;QACAnC,IAAI,CAACqC,IAAL,GAAYrC,IAAI,CAACmC,IAAjB;QACAnC,IAAI,CAACsC,IAAL,GAAY;UACVC,KAAK,EAAEvC,IAAI,CAACwC,cADF;UAEVC,IAAI,EAAEzC,IAAI,CAAC0C;QAFD,CAAZ;;QAIA,IAAI1C,IAAI,CAAC0C,IAAT,EAAe;UACb1C,IAAI,CAACsC,IAAL,CAAUG,IAAV,GAAiBxB,QAAQ,CAACjB,IAAI,CAAC0C,IAAN,CAAzB;QACD;MACF,CAXD;;MAYA,IAAIjB,QAAQ,CAAC3B,MAAT,GAAkB,CAAtB,EAAyB;QACvB2B,QAAQ,GAAGpC,GAAG,CAACC,OAAJ,CAAY,IAAZ,EAAkBmC,QAAlB,EAA4B,UAA5B,EAAwC,cAAxC,CAAX;MACD;;MACDA,QAAQ,CAACvB,IAAT,CAAc,UAACC,CAAD,EAAIC,CAAJ,EAAU;QACtB,OAAOD,CAAC,CAACE,SAAF,GAAcD,CAAC,CAACC,SAAhB,GAA4B,CAA5B,GAAgC,CAAC,CAAxC;MACD,CAFD;MAGAmB,cAAc,GAAGA,cAAc,CAACpC,MAAf,CAAsBqC,QAAtB,CAAjB,CArB4B,CAsB5B;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACAJ,MAAM,CAAC,YAAD,EAAeG,cAAf,CAAN;MACAD,OAAO,CAACC,cAAD,CAAP;IACD,CAhCM,CAAP;EAiCD;AAnCa,CAAhB;AAsCA,eAAe;EACbmB,UAAU,EAAE,IADC;EAEb5D,KAAK,EAALA,KAFa;EAGbG,SAAS,EAATA,SAHa;EAIbgC,OAAO,EAAPA;AAJa,CAAf"}]}