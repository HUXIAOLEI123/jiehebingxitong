{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\CaseEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\CaseEdit.vue","mtime":1678931188648},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdHViZXJjdWxvc2lzLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHVzZWRpY3Rpb25hcnlkZXRhaWxzIH0gZnJvbSAnQC9hcGkvZGljdC5qcyc7CmltcG9ydCB7IHRyZWF0bWVudHBsYW50ZW1wbGF0ZXMgfSBmcm9tICdAL2FwaS9UcmVhdG1lbnRQbGFuVGVtcGxhdGUuanMnOwppbXBvcnQgeyBwdWxtb25hcnljbG9zZXN2aXNpdGFuZG1lZGljaW5lLCBhZGRhcHBseXNldHRsZW1lbnQsIHB1bG1vbmFyeWNsb3Nlc2xpc3QsIHVwZGF0YXR1YmVyY3Vsb3Npc01vZGlmeSB9IGZyb20gJ0AvYXBpL1B1bG1vbmFyeUNsb3NlLmpzJzsKaW1wb3J0IHsgdHViZXJjdWxvc2lzZGlhZ25vc2lzc21zZyB9IGZyb20gJ0AvYXBpL1R1YmVyY3Vsb3Npc0RpYWdub3Npcy5qcyc7CmltcG9ydCB7IHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MsIGFkZHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MsIGVkaXR0dWJlcmN1bG9zaXNkaWFnbm9zaXNzLCBkZWxldGV0dWJlcmN1bG9zaXNkaWFnbm9zaXNzLCB0dWJlcmN1bG9zaXNkaWFnbm9zaXNzZXhjZWwgfSBmcm9tICdAL2FwaS9UdWJlcmN1bG9zaXNEaWFnbm9zaXMuanMnOwppbXBvcnQgT3B0aW9uc0VkaXQgZnJvbSAnLi4vY29tcG9uZW50cy90YWJDb21wb25lbnRzL2VjaGVhdENvbXBvbmVudHMvb3B0aW9uc0VkaXQudnVlJzsgLy8uL2VjaGVhdENvbXBvbmVudHMvb3B0aW9uc0VkaXQudnVlCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVkaXQiLAogIGNvbXBvbmVudHM6IHsKICAgIE9wdGlvbnNFZGl0OiBPcHRpb25zRWRpdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5by556qX55qE5byA5YWzCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBmbGFnOiAiIiwKICAgICAgSXNmdWZhOiBmYWxzZSwKICAgICAgU3RyZW5ndGhlbmluZ1BlcmlvZE1vbnRoOiAnJywKICAgICAgU3RyZW5ndGhlbmluZ1BlcmlvZERNVDogJycsCiAgICAgIENvbnNvbGlkYXRpb25QZXJpb2RNb250aDogJycsCiAgICAgIENvbnNvbGlkYXRpb25QZXJpb2RETVQ6ICcnLAogICAgICBmb3JtOiB7CiAgICAgICAgU3RvcFRpbWU6ICcnLAogICAgICAgIFN0b3BSZXN1bHQ6ICcnLAogICAgICAgIElzUGhvbmU6IG51bGwsCiAgICAgICAgSXNEaWFnbm9zaXM6IG51bGwsCiAgICAgICAgSXNSZXN1bHQ6IG51bGwsCiAgICAgICAgUmVtYXJrczogJycsCiAgICAgICAgSXNTdGFuZGFyZDogbnVsbAogICAgICB9LAogICAgICBUcmVhdG1lbnRQbGFuSWQ6IFtdLAogICAgICBJRFM6IHt9LAogICAgICBjb3B5Zm9ybToge30sCiAgICAgIFBlcnNvbmZvcm06IHt9LAogICAgICAvL+asoeaVsAogICAgICBwdWJmb3JtOiB7fSwKICAgICAgLy8gIOihqOWNlemqjOivgQogICAgICBydWxlczogewogICAgICAgIEZpbGVOdW1iZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBDYXJkTm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgUGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgRXZhbHVhdGlvbkRhdGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBFdmFsdWF0aW9uRG9jdG9yOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0sCiAgICAgICAgU3RvcFRpbWU6IFt7CiAgICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIFN0b3BSZXN1bHQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBWaXNpdE51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBBY3R1YWxWaXNpdE51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBUYWtlTWVkaWNpbmVOdW1iZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgQWN0dWFsVGFrZU1lZGljaW5lTnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIE1lZGljYXRpb25SYXRlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIElzUGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBJc0RpYWdub3NpczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIElzUmVzdWx0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0sCiAgICAgICAgUmVtYXJrczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBkaWN0YXJyOiBbXSwKICAgICAgQTAwMDE6IFtdLAogICAgICBBMDAzMDogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZ1bnRyZWF0bWVudHBsYW50ZW1wbGF0ZXMoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZnVudXNlZGljdGlvbmFyeWRldGFpbHMoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZnVuZGljdGxpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZ1bnVzZWRpY3Rpb25hcnlkZXRhaWxzOiBmdW5jdGlvbiBmdW51c2VkaWN0aW9uYXJ5ZGV0YWlscyhwYXJhbXMpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzLCBTdGF0dXNDb2RlLCBNZXNzYWdlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlZGljdGlvbmFyeWRldGFpbHMoewogICAgICAgICAgICAgICAgICBDYXRlZ29yeUNvZGU6IFsnQTAwMDEnLCAnQTAwMzAnXSwKICAgICAgICAgICAgICAgICAgUGFnZU51bWJlcjogMSwKICAgICAgICAgICAgICAgICAgUGFnZVNpemU6IDkwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBTdGF0dXNDb2RlID0gcmVzLlN0YXR1c0NvZGUsIE1lc3NhZ2UgPSByZXMuTWVzc2FnZTsKCiAgICAgICAgICAgICAgICBpZiAoISghcmVzIHx8IFN0YXR1c0NvZGUgIT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX3RoaXMyLiRiYXNlTWVzc2FnZShNZXNzYWdlIHx8ICfmlbDmja7ojrflj5blpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMi5kaWN0YXJyID0gcmVzLlJlc3BvbnNlLml0ZW1zOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+iOt+WPluaCo+iAheS/oeaBrwogICAgdHViZXJjdWxvc2lzZGlhZ25vc2lzc21zZ2xpc3Q6IGZ1bmN0aW9uIHR1YmVyY3Vsb3Npc2RpYWdub3Npc3Ntc2dsaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0dWJlcmN1bG9zaXNkaWFnbm9zaXNzbXNnKF90aGlzMy5JRFMuRGlhZ25vc2lzSWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHJlcy5SZXNwb25zZS5SZWdpc3RlclRpbWUgPSByZXMuUmVzcG9uc2UuUmVnaXN0ZXJUaW1lLnNsaWNlKDAsIDEwKTsgLy8gdGhpcy5wdWJmb3JtID0gcmVzLlJlc3BvbnNlOwoKICAgICAgICAgICAgICAgIF90aGlzMy5QZXJzb25mb3JtID0gT2JqZWN0LmFzc2lnbihfdGhpczMuUGVyc29uZm9ybSwgcmVzLlJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/moLnmja7kuLvplK7ojrflj5blhajpg6jkv6Hmga8KICAgIHB1bG1vbmFyeWNsb3Nlc2xpc3Rtc2c6IGZ1bmN0aW9uIHB1bG1vbmFyeWNsb3Nlc2xpc3Rtc2coKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHB1bG1vbmFyeWNsb3Nlc2xpc3QoX3RoaXM0LklEUy5EaWFnbm9zaXNJZCwgX3RoaXM0LklEUy5jbG9zZUlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczQuZm9ybSA9IF9vYmplY3RTcHJlYWQoe30sIHJlcy5SZXNwb25zZSk7CiAgICAgICAgICAgICAgICBfdGhpczQuY29weWZvcm0gPSBfb2JqZWN0U3ByZWFkKHt9LCByZXMuUmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+iOt+WPluasoeaVsAogICAgcHVsbW9uYXJ5Y2xvc2VzdmlzaXRhbmRtZWRpY2luZWxpc3Q6IGZ1bmN0aW9uIHB1bG1vbmFyeWNsb3Nlc3Zpc2l0YW5kbWVkaWNpbmVsaXN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXMsIE1lZGljYXRpb25SYXRlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcHVsbW9uYXJ5Y2xvc2VzdmlzaXRhbmRtZWRpY2luZShfdGhpczUuSURTLkRpYWdub3Npc0lkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBNZWRpY2F0aW9uUmF0ZSA9IE51bWJlcihyZXMuUmVzcG9uc2UuQWN0dWFsVGFrZU1lZGljaW5lTnVtYmVyKSAvIE51bWJlcihyZXMuUmVzcG9uc2UuVGFrZU1lZGljaW5lTnVtYmVyKTsKICAgICAgICAgICAgICAgIF90aGlzNS5QZXJzb25mb3JtID0gcmVzLlJlc3BvbnNlOyAvLyB0aGlzLlBlcnNvbmZvcm0uTWVkaWNhdGlvblJhdGUgPSBNZWRpY2F0aW9uUmF0ZS50b0ZpeGVkKDIpICogMTAwOwoKICAgICAgICAgICAgICAgIGlmIChNZWRpY2F0aW9uUmF0ZS50b0ZpeGVkKDIpIDwgMSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZm9ybS5Jc1N0YW5kYXJkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuZm9ybS5Jc1N0YW5kYXJkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/mlrDlop7msrvnlpfmlrnmoYgKICAgIGhhbmRsZXJFZGl0OiBmdW5jdGlvbiBoYW5kbGVyRWRpdChmbGFnLCBkYXRhKSB7CiAgICAgIGRhdGEgPSB0aGlzLlRyZWF0bWVudFBsYW5JZDsKICAgICAgdGhpcy4kcmVmcy5vcHRpb25zZWRpdC5zaG93KGZsYWcsIGRhdGEpOwogICAgfSwKICAgIC8vIOWtl+WFuOaVsOaNruWkhOeQhgogICAgZnVuZGljdGxpc3Q6IGZ1bmN0aW9uIGZ1bmRpY3RsaXN0KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuZGljdGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uQ2F0ZWdvcnlDb2RlID09ICdBMDAwMScpIHsKICAgICAgICAgIF90aGlzNi5BMDAwMS5wdXNoKGl0ZW0pOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5DYXRlZ29yeUNvZGUgPT0gJ0EwMDMwJykgewogICAgICAgICAgX3RoaXM2LkEwMDMwLnB1c2goaXRlbSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmsrvnlpfmlrnmoYgKICAgIGZ1bnRyZWF0bWVudHBsYW50ZW1wbGF0ZXM6IGZ1bmN0aW9uIGZ1bnRyZWF0bWVudHBsYW50ZW1wbGF0ZXMocGFyYW1zKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRyZWF0bWVudHBsYW50ZW1wbGF0ZXMocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczcuVHJlYXRtZW50UGxhbklkID0gcmVzLlJlc3BvbnNlLml0ZW1zOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDnoa7orqTmlrDlop4KICAgIHNob3c6IGZ1bmN0aW9uIHNob3coZmxhZywgZGF0YSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBkYXRldGltZSwgeWVhciwgbW9udGgsIGRhdGU7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzOC5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzOC5mbGFnID0gZmxhZzsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczguZmxhZyA9PSAnY2FzZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzOC50aXRsZSA9ICLmt7vliqDnu5PmoYjkv6Hmga8iOwogICAgICAgICAgICAgICAgX3RoaXM4LklzZnVmYSA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXM4LklEUy5EaWFnbm9zaXNJZCA9IGRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczguZm9ybS5FdmFsdWF0aW9uRG9jdG9yTmFtZSA9IF90aGlzOC4kdXRpbHNGdW4uZ2V0VXNlckluZm8oKS5yZWFsX05hbWU7IC8v57uZ57uT5qGI5Lq65ZGY6buY6K6k5b2T5YmN5Lq6CgogICAgICAgICAgICAgICAgX3RoaXM4LmZvcm0uRXZhbHVhdGlvbkRvY3RvciA9IF90aGlzOC4kdXRpbHNGdW4uZ2V0VXNlckluZm8oKS5pZGVudGlmaWVyOwogICAgICAgICAgICAgICAgX3RoaXM4LmZvcm0uQWRtaW5Pcmdhbml6YXRpb25OYW1lID0gX3RoaXM4LiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLmF1dGhPcmdOYW1lOwogICAgICAgICAgICAgICAgX3RoaXM4LmZvcm0uQWRtaW5Pcmdhbml6YXRpb24gPSBfdGhpczguJHV0aWxzRnVuLmdldFVzZXJJbmZvKCkuYXV0aE9yZ0lkOwogICAgICAgICAgICAgICAgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgeWVhciA9IGRhdGV0aW1lLmdldEZ1bGxZZWFyKCk7IC8v6I635Y+W5a6M5pW055qE5bm05Lu9KDTkvY0s5aaCOjE5NzApCgogICAgICAgICAgICAgICAgbW9udGggPSBkYXRldGltZS5nZXRNb250aCgpICsgMTsgLy/ojrflj5bmnIjku70o6L+U5ZueMC0xMSww5Luj6KGoMeaciCznlKjnmoTml7blgJnorrDlvpfliqDkuIoxKQoKICAgICAgICAgICAgICAgIGRhdGUgPSBkYXRldGltZS5nZXREYXRlKCk7IC8v6I635Y+W5pelKOi/lOWbnjEtMzEpCiAgICAgICAgICAgICAgICAvL+WIpOaWreWwj+S6juetieS6jjnmnIjnmoTml7blgJnlnKjmnIjku73liY3liqDkuIDkuKoiMCIKCiAgICAgICAgICAgICAgICBpZiAobW9udGggPD0gOSkgewogICAgICAgICAgICAgICAgICBtb250aCA9ICIwIiArIG1vbnRoOwogICAgICAgICAgICAgICAgfSAvL+WIpOaWreWwj+S6juetieS6jjnlj7fnmoTml7blgJnlnKjlpKnmlbDliY3liqDkuIDkuKoiMCIKCgogICAgICAgICAgICAgICAgaWYgKGRhdGUgPD0gOSkgewogICAgICAgICAgICAgICAgICBkYXRlID0gIjAiICsgZGF0ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczguZm9ybS5FdmFsdWF0aW9uRGF0ZSA9IHllYXIgKyAiLSIgKyBtb250aCArICItIiArIGRhdGU7IC8v57uZ5bu65qGj5pe26Ze06buY6K6k5b2T5YmNCgogICAgICAgICAgICAgICAgX3RoaXM4LmZvcm0uU3RvcFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyB0aGlzLklEUy5UcmVhdG1lbnRQbGFuSWQgPSBkYXRhLlRyZWF0bWVudFBsYW5JZAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LnB1bG1vbmFyeWNsb3Nlc3Zpc2l0YW5kbWVkaWNpbmVsaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC50dWJlcmN1bG9zaXNkaWFnbm9zaXNzbXNnbGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM4LmZsYWcgPT0gJ2VkaXQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczgudGl0bGUgPSAi57yW6L6R57uT5qGI5L+h5oGvIjsKICAgICAgICAgICAgICAgIF90aGlzOC5Jc2Z1ZmEgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzOC5JRFMuRGlhZ25vc2lzSWQgPSBkYXRhLkRpYWdub3Npc0lkOwogICAgICAgICAgICAgICAgX3RoaXM4LklEUy5jbG9zZUlkID0gZGF0YS5DbG9zZUlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczgucHVsbW9uYXJ5Y2xvc2VzdmlzaXRhbmRtZWRpY2luZWxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LnR1YmVyY3Vsb3Npc2RpYWdub3Npc3Ntc2dsaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5wdWxtb25hcnljbG9zZXNsaXN0bXNnKCk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczguZmxhZyA9PSAncmVjdXJyZW5jZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzOC50aXRsZSA9ICLlpI3lj5Hnu5PmoYjkv6Hmga8iOwogICAgICAgICAgICAgICAgX3RoaXM4LklEUy5EaWFnbm9zaXNJZCA9IGRhdGEuRGlhZ25vc2lzSWQ7CiAgICAgICAgICAgICAgICBfdGhpczguSURTLmNsb3NlSWQgPSBkYXRhLkNsb3NlSWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5wdWxtb25hcnljbG9zZXN2aXNpdGFuZG1lZGljaW5lbGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0NTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczgudHViZXJjdWxvc2lzZGlhZ25vc2lzc21zZ2xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA0NToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LnB1bG1vbmFyeWNsb3Nlc2xpc3Rtc2coKTsKCiAgICAgICAgICAgICAgY2FzZSA0NzoKICAgICAgICAgICAgICAgIF90aGlzOC5mb3JtLlJlbWFya3MgPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzOC5Jc2Z1ZmEgPSB0cnVlOyAvL+WkjeWPkemAieaLqeayu+eWl+aWueahiAoKICAgICAgICAgICAgICBjYXNlIDQ5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g56Gu5a6aCiAgICBoYW5kbGVyU2F2ZTogZnVuY3Rpb24gaGFuZGxlclNhdmUoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICBfdGhpczkuaGFzaW5mbyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gX3RoaXM5LmZvcm0pIHsKICAgICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgICBpZiAoX3RoaXM5LmZvcm1ba2V5XSAhPT0gX3RoaXM5LmNvcHlmb3JtW2tleV0pIHsKICAgICAgICAgICAgb2JqLm9wID0gJ3JlcGxhY2UnLCBvYmoudmFsdWUgPSBfdGhpczkuZm9ybVtrZXldOwogICAgICAgICAgICBvYmoucGF0aCA9IGtleTsKCiAgICAgICAgICAgIF90aGlzOS5oYXNpbmZvLnB1c2gob2JqKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF90aGlzOS4kYmFzZUNvbmZpcm0oIlx1Nzg2RVx1OEJBNFx1ODk4MSIuY29uY2F0KF90aGlzOS50aXRsZSwgIlx1NkI2NFx1OTg3OVx1NzZFRVx1NTQxN1x1RkYxRiIpLCBudWxsLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICAgIHZhciByZXMsIF9yZXMsIFN0YXR1c0NvZGUsIE1lc3NhZ2UsIF9yZXMyOwoKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzOS5mbGFnID09ICdjYXNlJykpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZGFwcGx5c2V0dGxlbWVudChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzOS5QZXJzb25mb3JtKSwgX3RoaXM5LmZvcm0pKTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0OC5zZW50OwoKICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kZW1pdCgiY2FzZUVkaXQiLCB0aGlzLmZsYWcsIHRoaXMuSURTLCB0aGlzLmZvcm0pOwogICAgICAgICAgICAgICAgICBfdGhpczkuJGJhc2VNZXNzYWdlKCfmt7vliqDmiJDlip8nLCAic3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LiRlbWl0KCdzdW1pdGUnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS5jbG9zZSgpOwoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAzMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczkuZmxhZyA9PSAnZWRpdCcpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0YXR1YmVyY3Vsb3Npc01vZGlmeShfdGhpczkuSURTLmNsb3NlSWQsIF90aGlzOS5oYXNpbmZvKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgICBfcmVzID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICAgIFN0YXR1c0NvZGUgPSBfcmVzLlN0YXR1c0NvZGUsIE1lc3NhZ2UgPSBfcmVzLk1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICBpZiAoIShTdGF0dXNDb2RlICE9IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgX3RoaXM5LiRiYXNlTWVzc2FnZShNZXNzYWdlIHx8ICfkv67mlLnlpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgICAgX3RoaXM5LiRiYXNlTWVzc2FnZSgn5L+u5pS55oiQ5YqfJywgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS4kZW1pdCgic3VtaXRlIik7CgogICAgICAgICAgICAgICAgICBfdGhpczkuY2xvc2UoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczkuZmxhZyA9PSAncmVjdXJyZW5jZScpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAzMTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczkuUGVyc29uZm9ybSksIF90aGlzOS5mb3JtKSk7CgogICAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgICAgX3JlczIgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS4kZW1pdCgnc3VtaXRlJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczkuJGJhc2VNZXNzYWdlKCflpI3lj5Hmk43kvZzmiJDlip8nLCAic3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LmNsb3NlKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczkuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUGF0aWVudE1hbmFnZW1lbnQnCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgICB9KSkpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WPlua2iAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtID0gdGhpcy4kb3B0aW9ucy5kYXRhKCkuZm9ybTsKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnJlc2V0RmllbGRzKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJ2Zvcm0uVHJlYXRtZW50UGxhbklkJzogZnVuY3Rpb24gZm9ybVRyZWF0bWVudFBsYW5JZCh2YWwpIHsKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLlRyZWF0bWVudFBsYW5JZCkgewogICAgICAgIGlmICh0aGlzLlRyZWF0bWVudFBsYW5JZFtpXS5UcmVhdG1lbnRQbGFuSWQgPT0gdGhpcy5mb3JtLlRyZWF0bWVudFBsYW5JZCkgewogICAgICAgICAgdGhpcy5TdHJlbmd0aGVuaW5nUGVyaW9kRE1UID0gdGhpcy5UcmVhdG1lbnRQbGFuSWRbaV0uU3RyZW5ndGhlbmluZ1BlcmlvZERNVDsKICAgICAgICAgIHRoaXMuQ29uc29saWRhdGlvblBlcmlvZE1vbnRoID0gdGhpcy5UcmVhdG1lbnRQbGFuSWRbaV0uQ29uc29saWRhdGlvblBlcmlvZE1vbnRoOwogICAgICAgICAgdGhpcy5Db25zb2xpZGF0aW9uUGVyaW9kRE1UID0gdGhpcy5UcmVhdG1lbnRQbGFuSWRbaV0uQ29uc29saWRhdGlvblBlcmlvZERNVDsKICAgICAgICAgIHRoaXMuU3RyZW5ndGhlbmluZ1BlcmlvZE1vbnRoID0gdGhpcy5UcmVhdG1lbnRQbGFuSWRbaV0uU3RyZW5ndGhlbmluZ1BlcmlvZE1vbnRoOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["usedictionarydetails","treatmentplantemplates","pulmonaryclosesvisitandmedicine","addapplysettlement","pulmonarycloseslist","updatatuberculosisModify","tuberculosisdiagnosissmsg","tuberculosisdiagnosiss","addtuberculosisdiagnosiss","edittuberculosisdiagnosiss","deletetuberculosisdiagnosiss","tuberculosisdiagnosissexcel","name","components","OptionsEdit","data","title","dialogVisible","flag","Isfufa","StrengtheningPeriodMonth","StrengtheningPeriodDMT","ConsolidationPeriodMonth","ConsolidationPeriodDMT","form","StopTime","StopResult","IsPhone","IsDiagnosis","IsResult","Remarks","IsStandard","TreatmentPlanId","IDS","copyform","Personform","pubform","rules","FileNumber","required","message","trigger","Name","CardNo","Phone","EvaluationDate","EvaluationDoctor","type","VisitNumber","ActualVisitNumber","TakeMedicineNumber","ActualTakeMedicineNumber","MedicationRate","dictarr","A0001","A0030","created","methods","funusedictionarydetails","params","CategoryCode","PageNumber","PageSize","res","StatusCode","Message","tuberculosisdiagnosissmsglist","pulmonarycloseslistmsg","pulmonaryclosesvisitandmedicinelist","Number","handlerEdit","fundictlist","funtreatmentplantemplates","show","datetime","year","month","date","handlerSave","obj","close","watch"],"sourceRoot":"src/views/patientManagement/patientManagement/components","sources":["CaseEdit.vue"],"sourcesContent":["<template>\r\n\t<el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" top=\"0vh\" :close-on-click-modal=\"false\" width=\"50%\"\r\n\t\t@close=\"close\">\r\n\t\t<div slot=\"title\" class=\"dialog-title\">\r\n\t\t\t<div class=\"sectionstly\"></div>\r\n\t\t\t<span class=\"title-text\">{{ title }}</span>\r\n\t\t\t<div class=\"button-right\">\r\n\t\t\t\t<span class=\"title-close\" @click=\"close\"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- <div class=\"heaer\"></div> -->\r\n\t\t<div class=\"contentbox\">\r\n\t\t\t<el-form class=\"form_row\" ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\r\n\t\t\t\t<div class=\"detailstitlo\">\r\n\t\t\t\t\t<p class=\"xqtitolstyle\">档案信息</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"姓名\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.Name\" disabled placeholder=\"\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"证件号\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.CardNo\" disabled placeholder=\"\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"机构名称\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.DiagnosisOrganizationName\" disabled placeholder=\"\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"登记日期\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.RegisterTime\" disabled placeholder=\"\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<div class=\"detailstitlo\">\r\n\t\t\t\t\t<p class=\"xqtitolstyle\">结案信息</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"结案人员\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.EvaluationDoctorName\" disabled placeholder=\"请输入内容\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"建档日期\">\r\n\t\t\t\t\t\t\t<el-date-picker v-model=\"form.EvaluationDate\" align=\"center\" type=\"date\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"选择日期时间\"></el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"停止治疗时间\">\r\n\t\t\t\t\t\t\t<el-date-picker v-model=\"form.StopTime\" align=\"center\" type=\"datetime\" placeholder=\"选择日期\">\r\n\t\t\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"停止治疗原因\" prop=\"StopResult\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.StopResult\" placeholder=\"请输入内容\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in A0030\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\"\r\n\t\t\t\t\t\t\t\t\t:value=\"item.DetailsCode\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"应访视次数\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.VisitNumber\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"实际访视次数\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.ActualVisitNumber\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"应服药次数\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.TakeMedicineNumber\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"实际服药次数\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.ActualTakeMedicineNumber\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"服药率\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"Personform.MedicationRate + '%'\" placeholder=\"请输入内容\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"是否规范\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.IsStandard?'是':'否'\" placeholder=\"请输入内容\" disabled></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<!--  -->\r\n\t\t\t\t\t<!-- <el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"是否电话随访\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.IsPhone\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value='true'></el-option>\r\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value='false'></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col> -->\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<!-- <el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"是否就诊\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.IsDiagnosis\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value='true'></el-option>\r\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value='false'></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col> -->\r\n\t\t\t\t\t<!--  -->\r\n\r\n\t\t\t\t\t<!-- <el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"是否确认结果\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.IsResult\" placeholder=\"请选择活动区域\">\r\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value='true'></el-option>\r\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value='false'></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col> -->\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row v-if=\"Isfufa\">\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"治疗方案\" prop=\"TreatmentPlanId\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"form.TreatmentPlanId\" placeholder=\"请输入内容\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in TreatmentPlanId\" :key=\"item.TreatmentPlanId\"\r\n\t\t\t\t\t\t\t\t\t:label=\"item.TreatmentPlanName\" :value=\"item.TreatmentPlanId\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t<el-button style=\"margin-left: 30px\" type=\"primary\" round @click=\"handlerEdit\">新增治疗方案\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row v-if=\"Isfufa\">\r\n\t\t\t\t\t<el-col :span=\"4\" class=\"el-colname\">\r\n\t\t\t\t\t\t<label>强化期(月):</label>\r\n\t\t\t\t\t\t<span>{{ StrengtheningPeriodMonth }}</span>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<label>强化期服药频率(次/天):</label>\r\n\t\t\t\t\t\t<span>{{ StrengtheningPeriodDMT }}</span>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<label>巩固期(月):</label>\r\n\t\t\t\t\t\t<span>{{ ConsolidationPeriodMonth }}</span>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\t\t\t\t\t\t<label>巩固期服药频率(次/天):</label>\r\n\t\t\t\t\t\t<span>{{ ConsolidationPeriodDMT }}</span>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<el-row>\r\n\t\t\t\t   \r\n\t\t\t\t\t<el-col :span=\"24\"> \r\n\t\t\t\t\t\t<el-form-item label=\"备注\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.Remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n                     \r\n\t\t\t\t\t<!-- <el-col :span=\"10\">\r\n\t\t          <el-form-item label=\"治疗方案\" >\r\n\t\t            <el-select v-model=\"form.TreatmentPlanId\" placeholder=\"请输入内容\">\r\n\t\t              <el-option v-for=\"item in TreatmentPlanId\" :key=\"item.TreatmentPlanName\" :label=\"item.TreatmentPlanName\"\r\n\t\t                :value=\"item.TreatmentPlanName\">\r\n\t\t              </el-option>\r\n\t\t            </el-select>\r\n\t\t          </el-form-item>\r\n\t\t        </el-col> -->\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t\t<OptionsEdit ref=\"optionsedit\" @sumiteprogramme=\"funtreatmentplantemplates\"></OptionsEdit>\r\n\t\t<div slot=\"footer\">\r\n\t\t\t<el-button class=\"cancelbtn\" @click=\"close\">取 消</el-button>\r\n\t\t\t<el-button class=\"savebtn\" type=\"primary\" @click=\"handlerSave\">提 交</el-button>\r\n\t\t</div>\r\n\t</el-dialog>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tusedictionarydetails\r\n\t} from '@/api/dict.js'\r\n\timport {\r\n\t\ttreatmentplantemplates\r\n\t} from '@/api/TreatmentPlanTemplate.js'\r\n\timport {\r\n\t\tpulmonaryclosesvisitandmedicine,\r\n\t\taddapplysettlement,\r\n\t\tpulmonarycloseslist,\r\n\t\tupdatatuberculosisModify\r\n\t} from '@/api/PulmonaryClose.js'\r\n\timport {\r\n\t\ttuberculosisdiagnosissmsg\r\n\t} from '@/api/TuberculosisDiagnosis.js'\r\n\timport {\r\n\t\ttuberculosisdiagnosiss,\r\n\t\taddtuberculosisdiagnosiss,\r\n\t\tedittuberculosisdiagnosiss,\r\n\t\tdeletetuberculosisdiagnosiss,\r\n\t\ttuberculosisdiagnosissexcel\r\n\t} from '@/api/TuberculosisDiagnosis.js'\r\n\timport OptionsEdit from '../components/tabComponents/echeatComponents/optionsEdit.vue' //./echeatComponents/optionsEdit.vue\r\n\texport default {\r\n\t\tname: \"Edit\",\r\n\t\tcomponents: {\r\n\t\t\tOptionsEdit\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\t// 弹窗的开关\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\tflag: \"\",\r\n\t\t\t\tIsfufa: false,\r\n\t\t\t\tStrengtheningPeriodMonth: '',\r\n\t\t\t\tStrengtheningPeriodDMT: '',\r\n\t\t\t\tConsolidationPeriodMonth: '',\r\n\t\t\t\tConsolidationPeriodDMT: '',\r\n\t\t\t\tform: {\r\n\t\t\t\t\tStopTime: '',\r\n\t\t\t\t\tStopResult: '',\r\n\t\t\t\t\tIsPhone: null,\r\n\t\t\t\t\tIsDiagnosis: null,\r\n\t\t\t\t\tIsResult: null,\r\n\t\t\t\t\tRemarks: '',\r\n\t\t\t\t\tIsStandard: null,\r\n\t\t\t\t},\r\n\t\t\t\tTreatmentPlanId: [],\r\n\t\t\t\tIDS: {},\r\n\t\t\t\tcopyform: {},\r\n\t\t\t\tPersonform: {}, //次数\r\n\t\t\t\tpubform: {},\r\n\t\t\t\t//  表单验证\r\n\t\t\t\trules: {\r\n\r\n\r\n\t\t\t\t\tFileNumber: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tName: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tCardNo: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tPhone: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tEvaluationDate: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tEvaluationDoctor: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tStopTime: [{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tStopResult: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tVisitNumber: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tActualVisitNumber: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tTakeMedicineNumber: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tActualTakeMedicineNumber: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tMedicationRate: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tIsPhone: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tIsDiagnosis: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tIsResult: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"change\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t\tRemarks: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"请输入\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t},\r\n\r\n\r\n\t\t\t\tdictarr: [],\r\n\t\t\t\tA0001: [],\r\n\t\t\t\tA0030: [],\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tasync created() {\r\n\t\t\tawait this.funtreatmentplantemplates()\r\n\t\t\tawait this.funusedictionarydetails()\r\n\t\t\tawait this.fundictlist()\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync funusedictionarydetails(params) {\r\n\t\t\t\tconst res = await usedictionarydetails({\r\n\t\t\t\t\tCategoryCode: ['A0001', 'A0030'],\r\n\t\t\t\t\tPageNumber: 1,\r\n\t\t\t\t\tPageSize: 90\r\n\t\t\t\t})\r\n\t\t\t\tlet {\r\n\t\t\t\t\tStatusCode,\r\n\t\t\t\t\tMessage\r\n\t\t\t\t} = res\r\n\t\t\t\tif (!res || StatusCode !== 200) {\r\n\t\t\t\t\treturn this.$baseMessage(Message || '数据获取失败', 'error')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dictarr = res.Response.items\r\n\r\n\t\t\t},\r\n\t\t\t//获取患者信息\r\n\t\t\tasync tuberculosisdiagnosissmsglist() {\r\n\t\t\t\tconst res = await tuberculosisdiagnosissmsg(this.IDS.DiagnosisId)\r\n\t\t\t\tres.Response.RegisterTime = res.Response.RegisterTime.slice(0, 10);\r\n\t\t\t\t// this.pubform = res.Response;\r\n\t\t\t\tthis.Personform = Object.assign(this.Personform, res.Response);\r\n\r\n\t\t\t},\r\n\t\t\t//根据主键获取全部信息\r\n\t\t\tasync pulmonarycloseslistmsg() {\r\n\t\t\t\tconst res = await pulmonarycloseslist(this.IDS.DiagnosisId, this.IDS.closeId)\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\t...res.Response\r\n\t\t\t\t}\r\n\t\t\t\tthis.copyform = {\r\n\t\t\t\t\t...res.Response\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取次数\r\n\t\t\tasync pulmonaryclosesvisitandmedicinelist() {\r\n\t\t\t\tconst res = await pulmonaryclosesvisitandmedicine(this.IDS.DiagnosisId)\r\n\t\t\t\tlet MedicationRate = Number(res.Response.ActualTakeMedicineNumber) / Number(res.Response\r\n\t\t\t\t\t.TakeMedicineNumber)\r\n\t\t\t\tthis.Personform = res.Response;\r\n\t\t\t\t// this.Personform.MedicationRate = MedicationRate.toFixed(2) * 100;\r\n\t\t\t\tif (MedicationRate.toFixed(2) < 1) {\r\n\t\t\t\t\tthis.form.IsStandard = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.form.IsStandard = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//新增治疗方案\r\n\t\t\thandlerEdit(flag, data) {\r\n\t\t\t\tdata = this.TreatmentPlanId;\r\n\t\t\t\tthis.$refs.optionsedit.show(flag, data)\r\n\t\t\t},\r\n\t\t\t// 字典数据处理\r\n\t\t\tfundictlist() {\r\n\t\t\t\tthis.dictarr.forEach(item => {\r\n\t\t\t\t\tif (item.CategoryCode == 'A0001') {\r\n\t\t\t\t\t\tthis.A0001.push(item)\r\n\r\n\t\t\t\t\t} else if (item.CategoryCode == 'A0030') {\r\n\t\t\t\t\t\tthis.A0030.push(item)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 治疗方案\r\n\t\t\tasync funtreatmentplantemplates(params) {\r\n\t\t\t\tconst res = await treatmentplantemplates(params)\r\n\t\t\t\tthis.TreatmentPlanId = res.Response.items\r\n\t\t\t},\r\n\r\n\t\t\t// 确认新增\r\n\t\t\tasync show(flag, data) {\r\n\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t\tthis.flag = flag;\r\n\t\t\t\tif (this.flag == 'case') {\r\n\t\t\t\t\tthis.title = \"添加结案信息\";\r\n\t\t\t\t\tthis.Isfufa = false;\r\n\t\t\t\t\tthis.IDS.DiagnosisId = data\r\n\t\t\t\t\tthis.form.EvaluationDoctorName = this.$utilsFun.getUserInfo().real_Name; //给结案人员默认当前人\r\n\t\t\t\t\tthis.form.EvaluationDoctor = this.$utilsFun.getUserInfo().identifier;\r\n\t\t\t\t\tthis.form.AdminOrganizationName = this.$utilsFun.getUserInfo().authOrgName;\r\n\t\t\t\t\tthis.form.AdminOrganization = this.$utilsFun.getUserInfo().authOrgId\r\n\t\t\t\t\tvar datetime = new Date();\r\n\t\t\t\t\tvar year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n\t\t\t\t\tvar month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n\t\t\t\t\tvar date = datetime.getDate(); //获取日(返回1-31)\r\n\t\t\t\t\t//判断小于等于9月的时候在月份前加一个\"0\"\r\n\t\t\t\t\tif (month <= 9) {\r\n\t\t\t\t\t\tmonth = \"0\" + month;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//判断小于等于9号的时候在天数前加一个\"0\"\r\n\t\t\t\t\tif (date <= 9) {\r\n\t\t\t\t\t\tdate = \"0\" + date;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form.EvaluationDate = year + \"-\" + month + \"-\" + date; //给建档时间默认当前\r\n\t\t\t\t\tthis.form.StopTime = new Date();\r\n\t\t\t\t\t// this.IDS.TreatmentPlanId = data.TreatmentPlanId\r\n\t\t\t\t\tawait this.pulmonaryclosesvisitandmedicinelist();\r\n\t\t\t\t\tawait this.tuberculosisdiagnosissmsglist();\r\n\r\n\t\t\t\t} else if (this.flag == 'edit') {\r\n\t\t\t\t\tthis.title = \"编辑结案信息\";\r\n\t\t\t\t\tthis.Isfufa = false;\r\n\t\t\t\t\tthis.IDS.DiagnosisId = data.DiagnosisId\r\n\t\t\t\t\tthis.IDS.closeId = data.CloseId\r\n\t\t\t\t\tawait this.pulmonaryclosesvisitandmedicinelist();\r\n\t\t\t\t\tawait this.tuberculosisdiagnosissmsglist();\r\n\t\t\t\t\tawait this.pulmonarycloseslistmsg();\r\n\t\t\t\t} else if (this.flag == 'recurrence') {\r\n\t\t\t\t\tthis.title = \"复发结案信息\";\r\n\t\t\t\t\tthis.IDS.DiagnosisId = data.DiagnosisId\r\n\t\t\t\t\tthis.IDS.closeId = data.CloseId\r\n\t\t\t\t\tawait this.pulmonaryclosesvisitandmedicinelist();\r\n\t\t\t\t\tawait this.tuberculosisdiagnosissmsglist();\r\n\t\t\t\t\tawait this.pulmonarycloseslistmsg();\r\n\t\t\t\t\tthis.form.Remarks = '';\r\n\t\t\t\t\tthis.Isfufa = true; //复发选择治疗方案\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 确定\r\n\t\t\thandlerSave() {\r\n\t\t\t\tthis.$refs[\"form\"].validate((valid) => {\r\n\t\t\t\t\tif (!valid) return;\r\n\t\t\t\t\tthis.hasinfo = [];\r\n\t\t\t\t\tfor (let key in this.form) {\r\n\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\tif (this.form[key] !== this.copyform[key]) {\r\n\t\t\t\t\t\t\tobj.op = 'replace',\r\n\t\t\t\t\t\t\t\tobj.value = this.form[key];\r\n\t\t\t\t\t\t\tobj.path = key;\r\n\t\t\t\t\t\t\tthis.hasinfo.push(obj)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$baseConfirm(`确认要${this.title}此项目吗？`, null, async () => {\r\n\t\t\t\t\t\t// let subData = Object.assign({}, this.form)\r\n\t\t\t\t\t\tif (this.flag == 'case') {\r\n\t\t\t\t\t\t\tconst res = await addapplysettlement({\r\n\t\t\t\t\t\t\t\t...this.Personform,\r\n\t\t\t\t\t\t\t\t...this.form,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// this.$emit(\"caseEdit\", this.flag, this.IDS, this.form);\r\n\t\t\t\t\t\t\tthis.$baseMessage('添加成功', \"success\")\r\n\t\t\t\t\t\t\tthis.$emit('sumite');\r\n\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t} else if (this.flag == 'edit') {\r\n\t\t\t\t\t\t\tconst res = await updatatuberculosisModify(this.IDS.closeId, this.hasinfo)\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tStatusCode,\r\n\t\t\t\t\t\t\t\tMessage\r\n\t\t\t\t\t\t\t} = res;\r\n\t\t\t\t\t\t\tif (StatusCode != 200) {\r\n\t\t\t\t\t\t\t\treturn this.$baseMessage(\r\n\t\t\t\t\t\t\t\t\tMessage || '修改失败', 'error'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$baseMessage('修改成功', \"success\")\r\n\t\t\t\t\t\t\t\tthis.$emit(\"sumite\")\r\n\t\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (this.flag == 'recurrence') {\r\n\t\t\t\t\t\t\t// const res = await addapplysettlement({\r\n\t\t\t\t\t\t\t// \t...this.Personform,\r\n\t\t\t\t\t\t\t// \t...this.form,\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\tconst res = await addtuberculosisdiagnosiss({\r\n\t\t\t\t\t\t\t\t...this.Personform,\r\n\t\t\t\t\t\t\t\t...this.form,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.$emit('sumite');\r\n\t\t\t\t\t\t\tthis.$baseMessage('复发操作成功', \"success\")\r\n\t\t\t\t\t\t\tthis.close();\r\n\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tname: 'PatientManagement',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\r\n\r\n\t\t\t//取消\r\n\t\t\tclose() {\r\n\t\t\t\tthis.dialogVisible = false;\r\n\t\t\t\tthis.form = this.$options.data().form;\r\n\t\t\t\tthis.$refs[\"form\"].resetFields();\r\n\t\t\t},\r\n\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t'form.TreatmentPlanId': function(val) {\r\n\t\t\t\tfor (let i in this.TreatmentPlanId) {\r\n\t\t\t\t\tif (this.TreatmentPlanId[i].TreatmentPlanId == this.form.TreatmentPlanId) {\r\n\t\t\t\t\t\tthis.StrengtheningPeriodDMT = this.TreatmentPlanId[i].StrengtheningPeriodDMT;\r\n\t\t\t\t\t\tthis.ConsolidationPeriodMonth = this.TreatmentPlanId[i].ConsolidationPeriodMonth;\r\n\t\t\t\t\t\tthis.ConsolidationPeriodDMT = this.TreatmentPlanId[i].ConsolidationPeriodDMT;\r\n\t\t\t\t\t\tthis.StrengtheningPeriodMonth = this.TreatmentPlanId[i].StrengtheningPeriodMonth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=scss scoped>\r\n\t.contentbox {\r\n\t\theight: 620px;\r\n\t}\r\n\r\n\t.el-colname {\r\n\t\tmargin-left: 60px;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n</style>\r\n"]}]}