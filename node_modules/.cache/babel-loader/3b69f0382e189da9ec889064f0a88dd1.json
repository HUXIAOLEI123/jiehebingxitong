{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\element-ui\\packages\\image\\src\\image-viewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\element-ui\\packages\\image\\src\\image-viewer.vue","mtime":1678931323504},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG9uLCBvZmYgfSBmcm9tICdlbGVtZW50LXVpL3NyYy91dGlscy9kb20nOwppbXBvcnQgeyByYWZUaHJvdHRsZSwgaXNGaXJlZm94IH0gZnJvbSAnZWxlbWVudC11aS9zcmMvdXRpbHMvdXRpbCc7CmltcG9ydCB7IFBvcHVwTWFuYWdlciB9IGZyb20gJ2VsZW1lbnQtdWkvc3JjL3V0aWxzL3BvcHVwJzsKdmFyIE1vZGUgPSB7CiAgQ09OVEFJTjogewogICAgbmFtZTogJ2NvbnRhaW4nLAogICAgaWNvbjogJ2VsLWljb24tZnVsbC1zY3JlZW4nCiAgfSwKICBPUklHSU5BTDogewogICAgbmFtZTogJ29yaWdpbmFsJywKICAgIGljb246ICdlbC1pY29uLWMtc2NhbGUtdG8tb3JpZ2luYWwnCiAgfQp9Owp2YXIgbW91c2V3aGVlbEV2ZW50TmFtZSA9IGlzRmlyZWZveCgpID8gJ0RPTU1vdXNlU2Nyb2xsJyA6ICdtb3VzZXdoZWVsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdlbEltYWdlVmlld2VyJywKICBwcm9wczogewogICAgdXJsTGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgekluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAwMAogICAgfSwKICAgIG9uU3dpdGNoOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHt9CiAgICB9LAogICAgb25DbG9zZTogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIGluaXRpYWxJbmRleDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBhcHBlbmRUb0JvZHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIG1hc2tDbG9zYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5kZXg6IHRoaXMuaW5pdGlhbEluZGV4LAogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBpbmZpbml0ZTogdHJ1ZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG1vZGU6IE1vZGUuQ09OVEFJTiwKICAgICAgdHJhbnNmb3JtOiB7CiAgICAgICAgc2NhbGU6IDEsCiAgICAgICAgZGVnOiAwLAogICAgICAgIG9mZnNldFg6IDAsCiAgICAgICAgb2Zmc2V0WTogMCwKICAgICAgICBlbmFibGVUcmFuc2l0aW9uOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzU2luZ2xlOiBmdW5jdGlvbiBpc1NpbmdsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudXJsTGlzdC5sZW5ndGggPD0gMTsKICAgIH0sCiAgICBpc0ZpcnN0OiBmdW5jdGlvbiBpc0ZpcnN0KCkgewogICAgICByZXR1cm4gdGhpcy5pbmRleCA9PT0gMDsKICAgIH0sCiAgICBpc0xhc3Q6IGZ1bmN0aW9uIGlzTGFzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPT09IHRoaXMudXJsTGlzdC5sZW5ndGggLSAxOwogICAgfSwKICAgIGN1cnJlbnRJbWc6IGZ1bmN0aW9uIGN1cnJlbnRJbWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnVybExpc3RbdGhpcy5pbmRleF07CiAgICB9LAogICAgaW1nU3R5bGU6IGZ1bmN0aW9uIGltZ1N0eWxlKCkgewogICAgICB2YXIgX3RoaXMkdHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0sCiAgICAgICAgICBzY2FsZSA9IF90aGlzJHRyYW5zZm9ybS5zY2FsZSwKICAgICAgICAgIGRlZyA9IF90aGlzJHRyYW5zZm9ybS5kZWcsCiAgICAgICAgICBvZmZzZXRYID0gX3RoaXMkdHJhbnNmb3JtLm9mZnNldFgsCiAgICAgICAgICBvZmZzZXRZID0gX3RoaXMkdHJhbnNmb3JtLm9mZnNldFksCiAgICAgICAgICBlbmFibGVUcmFuc2l0aW9uID0gX3RoaXMkdHJhbnNmb3JtLmVuYWJsZVRyYW5zaXRpb247CiAgICAgIHZhciBzdHlsZSA9IHsKICAgICAgICB0cmFuc2Zvcm06ICJzY2FsZSgiLmNvbmNhdChzY2FsZSwgIikgcm90YXRlKCIpLmNvbmNhdChkZWcsICJkZWcpIiksCiAgICAgICAgdHJhbnNpdGlvbjogZW5hYmxlVHJhbnNpdGlvbiA/ICd0cmFuc2Zvcm0gLjNzJyA6ICcnLAogICAgICAgICdtYXJnaW4tbGVmdCc6ICIiLmNvbmNhdChvZmZzZXRYLCAicHgiKSwKICAgICAgICAnbWFyZ2luLXRvcCc6ICIiLmNvbmNhdChvZmZzZXRZLCAicHgiKQogICAgICB9OwoKICAgICAgaWYgKHRoaXMubW9kZSA9PT0gTW9kZS5DT05UQUlOKSB7CiAgICAgICAgc3R5bGUubWF4V2lkdGggPSBzdHlsZS5tYXhIZWlnaHQgPSAnMTAwJSc7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdHlsZTsKICAgIH0sCiAgICB2aWV3ZXJaSW5kZXg6IGZ1bmN0aW9uIHZpZXdlclpJbmRleCgpIHsKICAgICAgdmFyIG5leHRaSW5kZXggPSBQb3B1cE1hbmFnZXIubmV4dFpJbmRleCgpOwogICAgICByZXR1cm4gdGhpcy56SW5kZXggPiBuZXh0WkluZGV4ID8gdGhpcy56SW5kZXggOiBuZXh0WkluZGV4OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGluZGV4OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgIHRoaXMub25Td2l0Y2godmFsKTsKICAgICAgfQogICAgfSwKICAgIGN1cnJlbnRJbWc6IGZ1bmN0aW9uIGN1cnJlbnRJbWcodmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoXykgewogICAgICAgIHZhciAkaW1nID0gX3RoaXMuJHJlZnMuaW1nWzBdOwoKICAgICAgICBpZiAoISRpbWcuY29tcGxldGUpIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICB0aGlzLmRldmljZVN1cHBvcnRVbmluc3RhbGwoKTsKICAgICAgdGhpcy5vbkNsb3NlKCk7CiAgICB9LAogICAgZGV2aWNlU3VwcG9ydEluc3RhbGw6IGZ1bmN0aW9uIGRldmljZVN1cHBvcnRJbnN0YWxsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuX2tleURvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlOwoKICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHsKICAgICAgICAgIC8vIEVTQwogICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgX3RoaXMyLmhpZGUoKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgLy8gU1BBQ0UKCiAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICBfdGhpczIudG9nZ2xlTW9kZSgpOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvLyBMRUZUX0FSUk9XCgogICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgX3RoaXMyLnByZXYoKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgLy8gVVBfQVJST1cKCiAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICBfdGhpczIuaGFuZGxlQWN0aW9ucygnem9vbUluJyk7CgogICAgICAgICAgICBicmVhazsKICAgICAgICAgIC8vIFJJR0hUX0FSUk9XCgogICAgICAgICAgY2FzZSAzOToKICAgICAgICAgICAgX3RoaXMyLm5leHQoKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgLy8gRE9XTl9BUlJPVwoKICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgIF90aGlzMi5oYW5kbGVBY3Rpb25zKCd6b29tT3V0Jyk7CgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLl9tb3VzZVdoZWVsSGFuZGxlciA9IHJhZlRocm90dGxlKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGRlbHRhID0gZS53aGVlbERlbHRhID8gZS53aGVlbERlbHRhIDogLWUuZGV0YWlsOwoKICAgICAgICBpZiAoZGVsdGEgPiAwKSB7CiAgICAgICAgICBfdGhpczIuaGFuZGxlQWN0aW9ucygnem9vbUluJywgewogICAgICAgICAgICB6b29tUmF0ZTogMC4wMTUsCiAgICAgICAgICAgIGVuYWJsZVRyYW5zaXRpb246IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLmhhbmRsZUFjdGlvbnMoJ3pvb21PdXQnLCB7CiAgICAgICAgICAgIHpvb21SYXRlOiAwLjAxNSwKICAgICAgICAgICAgZW5hYmxlVHJhbnNpdGlvbjogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG9uKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2tleURvd25IYW5kbGVyKTsKICAgICAgb24oZG9jdW1lbnQsIG1vdXNld2hlZWxFdmVudE5hbWUsIHRoaXMuX21vdXNlV2hlZWxIYW5kbGVyKTsKICAgIH0sCiAgICBkZXZpY2VTdXBwb3J0VW5pbnN0YWxsOiBmdW5jdGlvbiBkZXZpY2VTdXBwb3J0VW5pbnN0YWxsKCkgewogICAgICBvZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fa2V5RG93bkhhbmRsZXIpOwogICAgICBvZmYoZG9jdW1lbnQsIG1vdXNld2hlZWxFdmVudE5hbWUsIHRoaXMuX21vdXNlV2hlZWxIYW5kbGVyKTsKICAgICAgdGhpcy5fa2V5RG93bkhhbmRsZXIgPSBudWxsOwogICAgICB0aGlzLl9tb3VzZVdoZWVsSGFuZGxlciA9IG51bGw7CiAgICB9LAogICAgaGFuZGxlSW1nTG9hZDogZnVuY3Rpb24gaGFuZGxlSW1nTG9hZChlKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUltZ0Vycm9yOiBmdW5jdGlvbiBoYW5kbGVJbWdFcnJvcihlKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICBlLnRhcmdldC5hbHQgPSAn5Yqg6L295aSx6LSlJzsKICAgIH0sCiAgICBoYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubG9hZGluZyB8fCBlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuOwogICAgICB2YXIgX3RoaXMkdHJhbnNmb3JtMiA9IHRoaXMudHJhbnNmb3JtLAogICAgICAgICAgb2Zmc2V0WCA9IF90aGlzJHRyYW5zZm9ybTIub2Zmc2V0WCwKICAgICAgICAgIG9mZnNldFkgPSBfdGhpcyR0cmFuc2Zvcm0yLm9mZnNldFk7CiAgICAgIHZhciBzdGFydFggPSBlLnBhZ2VYOwogICAgICB2YXIgc3RhcnRZID0gZS5wYWdlWTsKICAgICAgdGhpcy5fZHJhZ0hhbmRsZXIgPSByYWZUaHJvdHRsZShmdW5jdGlvbiAoZXYpIHsKICAgICAgICBfdGhpczMudHJhbnNmb3JtLm9mZnNldFggPSBvZmZzZXRYICsgZXYucGFnZVggLSBzdGFydFg7CiAgICAgICAgX3RoaXMzLnRyYW5zZm9ybS5vZmZzZXRZID0gb2Zmc2V0WSArIGV2LnBhZ2VZIC0gc3RhcnRZOwogICAgICB9KTsKICAgICAgb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9kcmFnSGFuZGxlcik7CiAgICAgIG9uKGRvY3VtZW50LCAnbW91c2V1cCcsIGZ1bmN0aW9uIChldikgewogICAgICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIF90aGlzMy5fZHJhZ0hhbmRsZXIpOwogICAgICB9KTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIGhhbmRsZU1hc2tDbGljazogZnVuY3Rpb24gaGFuZGxlTWFza0NsaWNrKCkgewogICAgICBpZiAodGhpcy5tYXNrQ2xvc2FibGUpIHsKICAgICAgICB0aGlzLmhpZGUoKTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy50cmFuc2Zvcm0gPSB7CiAgICAgICAgc2NhbGU6IDEsCiAgICAgICAgZGVnOiAwLAogICAgICAgIG9mZnNldFg6IDAsCiAgICAgICAgb2Zmc2V0WTogMCwKICAgICAgICBlbmFibGVUcmFuc2l0aW9uOiBmYWxzZQogICAgICB9OwogICAgfSwKICAgIHRvZ2dsZU1vZGU6IGZ1bmN0aW9uIHRvZ2dsZU1vZGUoKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHJldHVybjsKICAgICAgdmFyIG1vZGVOYW1lcyA9IE9iamVjdC5rZXlzKE1vZGUpOwogICAgICB2YXIgbW9kZVZhbHVlcyA9IE9iamVjdC52YWx1ZXMoTW9kZSk7CiAgICAgIHZhciBpbmRleCA9IG1vZGVWYWx1ZXMuaW5kZXhPZih0aGlzLm1vZGUpOwogICAgICB2YXIgbmV4dEluZGV4ID0gKGluZGV4ICsgMSkgJSBtb2RlTmFtZXMubGVuZ3RoOwogICAgICB0aGlzLm1vZGUgPSBNb2RlW21vZGVOYW1lc1tuZXh0SW5kZXhdXTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoKSB7CiAgICAgIGlmICh0aGlzLmlzRmlyc3QgJiYgIXRoaXMuaW5maW5pdGUpIHJldHVybjsKICAgICAgdmFyIGxlbiA9IHRoaXMudXJsTGlzdC5sZW5ndGg7CiAgICAgIHRoaXMuaW5kZXggPSAodGhpcy5pbmRleCAtIDEgKyBsZW4pICUgbGVuOwogICAgfSwKICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIGlmICh0aGlzLmlzTGFzdCAmJiAhdGhpcy5pbmZpbml0ZSkgcmV0dXJuOwogICAgICB2YXIgbGVuID0gdGhpcy51cmxMaXN0Lmxlbmd0aDsKICAgICAgdGhpcy5pbmRleCA9ICh0aGlzLmluZGV4ICsgMSkgJSBsZW47CiAgICB9LAogICAgaGFuZGxlQWN0aW9uczogZnVuY3Rpb24gaGFuZGxlQWN0aW9ucyhhY3Rpb24pIHsKICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICBpZiAodGhpcy5sb2FkaW5nKSByZXR1cm47CgogICAgICB2YXIgX3pvb21SYXRlJHJvdGF0ZURlZyRlID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgem9vbVJhdGU6IDAuMiwKICAgICAgICByb3RhdGVEZWc6IDkwLAogICAgICAgIGVuYWJsZVRyYW5zaXRpb246IHRydWUKICAgICAgfSwgb3B0aW9ucyksCiAgICAgICAgICB6b29tUmF0ZSA9IF96b29tUmF0ZSRyb3RhdGVEZWckZS56b29tUmF0ZSwKICAgICAgICAgIHJvdGF0ZURlZyA9IF96b29tUmF0ZSRyb3RhdGVEZWckZS5yb3RhdGVEZWcsCiAgICAgICAgICBlbmFibGVUcmFuc2l0aW9uID0gX3pvb21SYXRlJHJvdGF0ZURlZyRlLmVuYWJsZVRyYW5zaXRpb247CgogICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm07CgogICAgICBzd2l0Y2ggKGFjdGlvbikgewogICAgICAgIGNhc2UgJ3pvb21PdXQnOgogICAgICAgICAgaWYgKHRyYW5zZm9ybS5zY2FsZSA+IDAuMikgewogICAgICAgICAgICB0cmFuc2Zvcm0uc2NhbGUgPSBwYXJzZUZsb2F0KCh0cmFuc2Zvcm0uc2NhbGUgLSB6b29tUmF0ZSkudG9GaXhlZCgzKSk7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ3pvb21Jbic6CiAgICAgICAgICB0cmFuc2Zvcm0uc2NhbGUgPSBwYXJzZUZsb2F0KCh0cmFuc2Zvcm0uc2NhbGUgKyB6b29tUmF0ZSkudG9GaXhlZCgzKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnY2xvY2VsaXNlJzoKICAgICAgICAgIHRyYW5zZm9ybS5kZWcgKz0gcm90YXRlRGVnOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2FudGljbG9jZWxpc2UnOgogICAgICAgICAgdHJhbnNmb3JtLmRlZyAtPSByb3RhdGVEZWc7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdHJhbnNmb3JtLmVuYWJsZVRyYW5zaXRpb24gPSBlbmFibGVUcmFuc2l0aW9uOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZGV2aWNlU3VwcG9ydEluc3RhbGwoKTsKCiAgICBpZiAodGhpcy5hcHBlbmRUb0JvZHkpIHsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLiRlbCk7CiAgICB9IC8vIGFkZCB0YWJpbmRleCB0aGVuIHdyYXBwZXIgY2FuIGJlIGZvY3VzYWJsZSB2aWEgSmF2YXNjcmlwdAogICAgLy8gZm9jdXMgd3JhcHBlciBzbyBhcnJvdyBrZXkgY2FuJ3QgY2F1c2UgaW5uZXIgc2Nyb2xsIGJlaGF2aW9yIHVuZGVybmVhdGgKCgogICAgdGhpcy4kcmVmc1snZWwtaW1hZ2Utdmlld2VyX193cmFwcGVyJ10uZm9jdXMoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgLy8gaWYgYXBwZW5kVG9Cb2R5IGlzIHRydWUsIHJlbW92ZSBET00gbm9kZSBhZnRlciBkZXN0cm95CiAgICBpZiAodGhpcy5hcHBlbmRUb0JvZHkgJiYgdGhpcy4kZWwgJiYgdGhpcy4kZWwucGFyZW50Tm9kZSkgewogICAgICB0aGlzLiRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJGVsKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AAEA;EACAA;IACAC,eADA;IAEAC;EAFA,CADA;EAKAC;IACAF,gBADA;IAEAC;EAFA;AALA;AAWA;AAEA;EACAD,qBADA;EAGAG;IACAC;MACAC,WADA;MAEAC;QAAA;MAAA;IAFA,CADA;IAKAC;MACAF,YADA;MAEAC;IAFA,CALA;IASAE;MACAH,cADA;MAEAC;IAFA,CATA;IAaAG;MACAJ,cADA;MAEAC;IAFA,CAbA;IAiBAI;MACAL,YADA;MAEAC;IAFA,CAjBA;IAqBAK;MACAN,aADA;MAEAC;IAFA,CArBA;IAyBAM;MACAP,aADA;MAEAC;IAFA;EAzBA,CAHA;EAkCAO,IAlCA,kBAkCA;IACA;MACAC,wBADA;MAEAC,aAFA;MAGAC,cAHA;MAIAC,cAJA;MAKAC,kBALA;MAMAC;QACAC,QADA;QAEAC,MAFA;QAGAC,UAHA;QAIAC,UAJA;QAKAC;MALA;IANA;EAcA,CAjDA;EAkDAC;IACAC,QADA,sBACA;MACA;IACA,CAHA;IAIAC,OAJA,qBAIA;MACA;IACA,CANA;IAOAC,MAPA,oBAOA;MACA;IACA,CATA;IAUAC,UAVA,wBAUA;MACA;IACA,CAZA;IAaAC,QAbA,sBAaA;MACA;MAAA;MAAA;MAAA;MAAA;MAAA;MACA;QACAX,kEADA;QAEAY,mDAFA;QAGA,uCAHA;QAIA;MAJA;;MAMA;QACAC;MACA;;MACA;IACA,CAzBA;IA0BAC,YA1BA,0BA0BA;MACA;MACA;IACA;EA7BA,CAlDA;EAiFAC;IACApB;MACAqB;QACA;QACA;MACA;IAJA,CADA;IAOAN,UAPA,sBAOAO,GAPA,EAOA;MAAA;;MACA;QACA;;QACA;UACA;QACA;MACA,CALA;IAMA;EAdA,CAjFA;EAiGAC;IACAC,IADA,kBACA;MACA;MACA;IACA,CAJA;IAKAC,oBALA,kCAKA;MAAA;;MACA;QACAC;QACA;;QACA;UACA;UACA;YACA;;YACA;UACA;;UACA;YACA;;YACA;UACA;;UACA;YACA;;YACA;UACA;;UACA;YACA;;YACA;UACA;;UACA;YACA;;YACA;UACA;;UACA;YACA;;YACA;QAxBA;MA0BA,CA7BA;;MA8BA;QACA;;QACA;UACA;YACAC,eADA;YAEAjB;UAFA;QAIA,CALA,MAKA;UACA;YACAiB,eADA;YAEAjB;UAFA;QAIA;MACA,CAbA;MAcAkB;MACAA;IACA,CApDA;IAqDAC,sBArDA,oCAqDA;MACAC;MACAA;MACA;MACA;IACA,CA1DA;IA2DAC,aA3DA,yBA2DAL,CA3DA,EA2DA;MACA;IACA,CA7DA;IA8DAM,cA9DA,0BA8DAN,CA9DA,EA8DA;MACA;MACAA;IACA,CAjEA;IAkEAO,eAlEA,2BAkEAP,CAlEA,EAkEA;MAAA;;MACA;MAEA;MAAA;MAAA;MACA;MACA;MACA;QACA;QACA;MACA,CAHA;MAIAE;MACAA;QACAE;MACA,CAFA;MAIAJ;IACA,CAlFA;IAmFAQ,eAnFA,6BAmFA;MACA;QACA;MACA;IACA,CAvFA;IAwFAC,KAxFA,mBAwFA;MACA;QACA7B,QADA;QAEAC,MAFA;QAGAC,UAHA;QAIAC,UAJA;QAKAC;MALA;IAOA,CAhGA;IAiGA0B,UAjGA,wBAiGA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;IACA,CA1GA;IA2GAC,IA3GA,kBA2GA;MACA;MACA;MACA;IACA,CA/GA;IAgHAC,IAhHA,kBAgHA;MACA;MACA;MACA;IACA,CApHA;IAqHAC,aArHA,yBAqHAC,MArHA,EAqHA;MAAA;MACA;;MACA;QACAb,aADA;QAEAc,aAFA;QAGA/B;MAHA,GAIAgC,OAJA;MAAA;MAAA;MAAA;;MAMA;;MACA;QACA;UACA;YACArC;UACA;;UACA;;QACA;UACAA;UACA;;QACA;UACAA;UACA;;QACA;UACAA;UACA;MAdA;;MAgBAA;IACA;EA/IA,CAjGA;EAkPAsC,OAlPA,qBAkPA;IACA;;IACA;MACAC;IACA,CAJA,CAKA;IACA;;;IACA;EACA,CA1PA;EA2PAC,SA3PA,uBA2PA;IACA;IACA;MACA;IACA;EACA;AAhQA","names":["CONTAIN","name","icon","ORIGINAL","props","urlList","type","default","zIndex","onSwitch","onClose","initialIndex","appendToBody","maskClosable","data","index","isShow","infinite","loading","mode","transform","scale","deg","offsetX","offsetY","enableTransition","computed","isSingle","isFirst","isLast","currentImg","imgStyle","transition","style","viewerZIndex","watch","handler","val","methods","hide","deviceSupportInstall","e","zoomRate","on","deviceSupportUninstall","off","handleImgLoad","handleImgError","handleMouseDown","handleMaskClick","reset","toggleMode","prev","next","handleActions","action","rotateDeg","options","mounted","document","destroyed"],"sourceRoot":"node_modules/element-ui/packages/image/src","sources":["image-viewer.vue"],"sourcesContent":["<template>\n  <transition name=\"viewer-fade\">\n    <div tabindex=\"-1\" ref=\"el-image-viewer__wrapper\" class=\"el-image-viewer__wrapper\" :style=\"{ 'z-index': viewerZIndex }\">\n      <div class=\"el-image-viewer__mask\" @click.self=\"handleMaskClick\"></div>\n      <!-- CLOSE -->\n      <span class=\"el-image-viewer__btn el-image-viewer__close\" @click=\"hide\">\n        <i class=\"el-icon-close\"></i>\n      </span>\n      <!-- ARROW -->\n      <template v-if=\"!isSingle\">\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__prev\"\n          :class=\"{ 'is-disabled': !infinite && isFirst }\"\n          @click=\"prev\">\n          <i class=\"el-icon-arrow-left\"/>\n        </span>\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__next\"\n          :class=\"{ 'is-disabled': !infinite && isLast }\"\n          @click=\"next\">\n          <i class=\"el-icon-arrow-right\"/>\n        </span>\n      </template>\n      <!-- ACTIONS -->\n      <div class=\"el-image-viewer__btn el-image-viewer__actions\">\n        <div class=\"el-image-viewer__actions__inner\">\n          <i class=\"el-icon-zoom-out\" @click=\"handleActions('zoomOut')\"></i>\n          <i class=\"el-icon-zoom-in\" @click=\"handleActions('zoomIn')\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i :class=\"mode.icon\" @click=\"toggleMode\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i class=\"el-icon-refresh-left\" @click=\"handleActions('anticlocelise')\"></i>\n          <i class=\"el-icon-refresh-right\" @click=\"handleActions('clocelise')\"></i>\n        </div>\n      </div>\n      <!-- CANVAS -->\n      <div class=\"el-image-viewer__canvas\">\n        <img\n          v-for=\"(url, i) in urlList\"\n          v-if=\"i === index\"\n          ref=\"img\"\n          class=\"el-image-viewer__img\"\n          :key=\"url\"\n          :src=\"currentImg\"\n          :style=\"imgStyle\"\n          @load=\"handleImgLoad\"\n          @error=\"handleImgError\"\n          @mousedown=\"handleMouseDown\">\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { on, off } from 'element-ui/src/utils/dom';\nimport { rafThrottle, isFirefox } from 'element-ui/src/utils/util';\nimport { PopupManager } from 'element-ui/src/utils/popup';\n\nconst Mode = {\n  CONTAIN: {\n    name: 'contain',\n    icon: 'el-icon-full-screen'\n  },\n  ORIGINAL: {\n    name: 'original',\n    icon: 'el-icon-c-scale-to-original'\n  }\n};\n\nconst mousewheelEventName = isFirefox() ? 'DOMMouseScroll' : 'mousewheel';\n\nexport default {\n  name: 'elImageViewer',\n\n  props: {\n    urlList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2000\n    },\n    onSwitch: {\n      type: Function,\n      default: () => {}\n    },\n    onClose: {\n      type: Function,\n      default: () => {}\n    },\n    initialIndex: {\n      type: Number,\n      default: 0\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    maskClosable: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      index: this.initialIndex,\n      isShow: false,\n      infinite: true,\n      loading: false,\n      mode: Mode.CONTAIN,\n      transform: {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      }\n    };\n  },\n  computed: {\n    isSingle() {\n      return this.urlList.length <= 1;\n    },\n    isFirst() {\n      return this.index === 0;\n    },\n    isLast() {\n      return this.index === this.urlList.length - 1;\n    },\n    currentImg() {\n      return this.urlList[this.index];\n    },\n    imgStyle() {\n      const { scale, deg, offsetX, offsetY, enableTransition } = this.transform;\n      const style = {\n        transform: `scale(${scale}) rotate(${deg}deg)`,\n        transition: enableTransition ? 'transform .3s' : '',\n        'margin-left': `${offsetX}px`,\n        'margin-top': `${offsetY}px`\n      };\n      if (this.mode === Mode.CONTAIN) {\n        style.maxWidth = style.maxHeight = '100%';\n      }\n      return style;\n    },\n    viewerZIndex() {\n      const nextZIndex = PopupManager.nextZIndex();\n      return this.zIndex > nextZIndex ? this.zIndex : nextZIndex;\n    }\n  },\n  watch: {\n    index: {\n      handler: function(val) {\n        this.reset();\n        this.onSwitch(val);\n      }\n    },\n    currentImg(val) {\n      this.$nextTick(_ => {\n        const $img = this.$refs.img[0];\n        if (!$img.complete) {\n          this.loading = true;\n        }\n      });\n    }\n  },\n  methods: {\n    hide() {\n      this.deviceSupportUninstall();\n      this.onClose();\n    },\n    deviceSupportInstall() {\n      this._keyDownHandler = e => {\n        e.stopPropagation();\n        const keyCode = e.keyCode;\n        switch (keyCode) {\n          // ESC\n          case 27:\n            this.hide();\n            break;\n          // SPACE\n          case 32:\n            this.toggleMode();\n            break;\n          // LEFT_ARROW\n          case 37:\n            this.prev();\n            break;\n          // UP_ARROW\n          case 38:\n            this.handleActions('zoomIn');\n            break;\n          // RIGHT_ARROW\n          case 39:\n            this.next();\n            break;\n          // DOWN_ARROW\n          case 40:\n            this.handleActions('zoomOut');\n            break;\n        }\n      };\n      this._mouseWheelHandler = rafThrottle(e => {\n        const delta = e.wheelDelta ? e.wheelDelta : -e.detail;\n        if (delta > 0) {\n          this.handleActions('zoomIn', {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        } else {\n          this.handleActions('zoomOut', {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        }\n      });\n      on(document, 'keydown', this._keyDownHandler);\n      on(document, mousewheelEventName, this._mouseWheelHandler);\n    },\n    deviceSupportUninstall() {\n      off(document, 'keydown', this._keyDownHandler);\n      off(document, mousewheelEventName, this._mouseWheelHandler);\n      this._keyDownHandler = null;\n      this._mouseWheelHandler = null;\n    },\n    handleImgLoad(e) {\n      this.loading = false;\n    },\n    handleImgError(e) {\n      this.loading = false;\n      e.target.alt = '加载失败';\n    },\n    handleMouseDown(e) {\n      if (this.loading || e.button !== 0) return;\n\n      const { offsetX, offsetY } = this.transform;\n      const startX = e.pageX;\n      const startY = e.pageY;\n      this._dragHandler = rafThrottle(ev => {\n        this.transform.offsetX = offsetX + ev.pageX - startX;\n        this.transform.offsetY = offsetY + ev.pageY - startY;\n      });\n      on(document, 'mousemove', this._dragHandler);\n      on(document, 'mouseup', ev => {\n        off(document, 'mousemove', this._dragHandler);\n      });\n\n      e.preventDefault();\n    },\n    handleMaskClick() {\n      if (this.maskClosable) {\n        this.hide();\n      }\n    },\n    reset() {\n      this.transform = {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      };\n    },\n    toggleMode() {\n      if (this.loading) return;\n\n      const modeNames = Object.keys(Mode);\n      const modeValues = Object.values(Mode);\n      const index = modeValues.indexOf(this.mode);\n      const nextIndex = (index + 1) % modeNames.length;\n      this.mode = Mode[modeNames[nextIndex]];\n      this.reset();\n    },\n    prev() {\n      if (this.isFirst && !this.infinite) return;\n      const len = this.urlList.length;\n      this.index = (this.index - 1 + len) % len;\n    },\n    next() {\n      if (this.isLast && !this.infinite) return;\n      const len = this.urlList.length;\n      this.index = (this.index + 1) % len;\n    },\n    handleActions(action, options = {}) {\n      if (this.loading) return;\n      const { zoomRate, rotateDeg, enableTransition } = {\n        zoomRate: 0.2,\n        rotateDeg: 90,\n        enableTransition: true,\n        ...options\n      };\n      const { transform } = this;\n      switch (action) {\n        case 'zoomOut':\n          if (transform.scale > 0.2) {\n            transform.scale = parseFloat((transform.scale - zoomRate).toFixed(3));\n          }\n          break;\n        case 'zoomIn':\n          transform.scale = parseFloat((transform.scale + zoomRate).toFixed(3));\n          break;\n        case 'clocelise':\n          transform.deg += rotateDeg;\n          break;\n        case 'anticlocelise':\n          transform.deg -= rotateDeg;\n          break;\n      }\n      transform.enableTransition = enableTransition;\n    }\n  },\n  mounted() {\n    this.deviceSupportInstall();\n    if (this.appendToBody) {\n      document.body.appendChild(this.$el);\n    }\n    // add tabindex then wrapper can be focusable via Javascript\n    // focus wrapper so arrow key can't cause inner scroll behavior underneath\n    this.$refs['el-image-viewer__wrapper'].focus();\n  },\n  destroyed() {\n    // if appendToBody is true, remove DOM node after destroy\n    if (this.appendToBody && this.$el && this.$el.parentNode) {\n      this.$el.parentNode.removeChild(this.$el);\n    }\n  }\n};\n</script>\n"]}]}