{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\store\\modules\\user.js","mtime":1678931188561},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\eslint-loader\\index.js","mtime":1678931311328}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IHsgZ2V0QXBpIH0gZnJvbSAnQC9hcGkvZnVuY3Rpb24nOwppbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlQm94LCBOb3RpZmljYXRpb24sIExvYWRpbmcgfSBmcm9tICdlbGVtZW50LXVpJzsgLy8g6I635Y+WIOiuvue9riDliKDpmaQgdG9rZW7lkoznlKjmiLfkv6Hmga8KCmltcG9ydCB7IGdldFRva2VuLCBzZXRUb2tlbiwgcmVtb3ZlVG9rZW4sIGdldExvZ2luSW5mbywgc2V0TG9naW5JbmZvLCByZW1vdmVMb2dpbkluZm8gfSBmcm9tICdAL3V0aWxzL2F1dGgnOyAvLyDot6/nlLHmqKHlnZfkuK3ph43liLbot6/nlLHnmoTmlrnms5UKCmltcG9ydCB7IGFueVJvdXRlcywgcmVzZXRSb3V0ZXIsIGFzeW5jUm91dGVzLCBjb25zdGFudFJvdXRlcyB9IGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CnZhciBzdGF0ZSA9IHsKICAvL+iOt+WPlnRva2VuCiAgdG9rZW46IGdldFRva2VuKCksCiAgLy/lrZjlgqjnlKjmiLflkI0KICBuYW1lOiAnJywKICAvL+WtmOWCqOeUqOaIt+WktOWDjwogIGF2YXRhcjogJycsCiAgLy/mnI3liqHlmajov5Tlm57nmoToj5zljZXkv6Hmga/jgJDmoLnmja7kuI3lkIznmoTop5LoibLvvJrov5Tlm57nmoTmoIforrDkv6Hmga/vvIzmlbDnu4Tph4zpnaLnmoTlhYPntKDmmK/lrZfnrKbkuLLjgJEKICByb3V0ZXM6IFtdLAogIC8v6KeS6Imy5L+h5oGvCiAgcm9sZXM6IFtdLAogIC8v5oyJ6ZKu5p2D6ZmQ55qE5L+h5oGvCiAgYnV0dG9uczogW10sCiAgLy/lr7nmr5TkuYvlkI7jgJDpobnnm67kuK3lt7LmnInnmoTlvILmraXot6/nlLHvvIzkuI7mnI3liqHlmajov5Tlm57nmoTmoIforrDkv6Hmga/ov5vooYzlr7nmr5TmnIDnu4jpnIDopoHlsZXnpLrnmoTnkIbnlLHjgJEKICByZXN1bHRBc3luY1JvdXRlczogW10sCiAgLy/nlKjmiLfmnIDnu4jpnIDopoHlsZXnpLrlhajpg6jot6/nlLEKICByZXN1bHRBbGxScHV0ZXM6IFtdCn07IC8vIOWUr+S4gOS/ruaUuXN0YXRl55qE5Zyw5pa5Cgp2YXIgbXV0YXRpb25zID0gewogIC8vIOWtmOWCqHRva2VuCiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogIH0sCiAgU0VUX0lOVFJPRFVDVElPTjogZnVuY3Rpb24gU0VUX0lOVFJPRFVDVElPTihzdGF0ZSwgaW50cm9kdWN0aW9uKSB7CiAgICBzdGF0ZS5pbnRyb2R1Y3Rpb24gPSBpbnRyb2R1Y3Rpb247CiAgfSwKICBTRVRfTkFNRTogZnVuY3Rpb24gU0VUX05BTUUoc3RhdGUsIG5hbWUpIHsKICAgIHN0YXRlLm5hbWUgPSBuYW1lOwogIH0sCiAgU0VUX0FWQVRBUjogZnVuY3Rpb24gU0VUX0FWQVRBUihzdGF0ZSwgYXZhdGFyKSB7CiAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgfSwKICBTRVRfUk9MRVM6IGZ1bmN0aW9uIFNFVF9ST0xFUyhzdGF0ZSwgcm9sZXMpIHsKICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvL+eZu+W9lQogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBmb3JtRGF0YSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgdmFyIHVzZXJJbmZvID0gZm9ybURhdGEudXNlckluZm8sCiAgICAgICAgdXJsID0gZm9ybURhdGEudXJsOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgZ2V0QXBpKHVzZXJJbmZvLCAndG9rZW5zL0pXVFRva2VuMy4wJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1RPS0VOJywgcmVzLlJlc3BvbnNlLnRva2VuKTsKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJbmZvJywgSlNPTi5zdHJpbmdpZnkocmVzLlJlc3BvbnNlKSk7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCByZXMuUmVzcG9uc2UudG9rZW4pOwogICAgICAgIHNldFRva2VuKHJlcy5SZXNwb25zZS50b2tlbik7CiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIE1lc3NhZ2UoJ+eZu+W9leWksei0pScpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy/nmbvlvZUKICByZWRpcmVjdExvZ2luOiBmdW5jdGlvbiByZWRpcmVjdExvZ2luKF9yZWYyLCByZXMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnVE9LRU4nLCByZXMuUmVzcG9uc2UudG9rZW4pOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJbmZvJywgSlNPTi5zdHJpbmdpZnkocmVzLlJlc3BvbnNlKSk7CiAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzLlJlc3BvbnNlLnRva2VuKTsKICAgICAgc2V0VG9rZW4ocmVzLlJlc3BvbnNlLnRva2VuKTsKICAgICAgcmVzb2x2ZShyZXMpOwogICAgfSk7CiAgfSwKICAvL+ivt+axguWIt+aWsFRva2Vu77yI5Lul5pen5o2i5paw77yJCiAgcmVmcmVzaFRva2VuOiBmdW5jdGlvbiByZWZyZXNoVG9rZW4oX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBnZXRBcGkoewogICAgICAgIHRva2VuOiBnZXRUb2tlbigpCiAgICAgIH0sICcvbG9naW4vdG9rZW5zL1JlZnJlc2hUb2tlbicpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwb25zZS50b2tlbjsKICAgICAgICAgIHZhciByZXNVc2VySW5mbyA9IGdldExvZ2luSW5mbygpOyAvL+WcqOW9k+WJjeaXtumXtGN1clRpbWXkuIrliqDkuIrov4fmnJ/ml7bpl7Qo5Y2V5L2N77ya56eSKQoKICAgICAgICAgIHZhciBlZmZUaW1lID0gNCAqIDYwOyAvL3Rva2Vu5pyJ5pWI5pe26Ze0NOWIhumSn++8jOi9rOaNouaIkOenkgoKICAgICAgICAgIHZhciBjdXJUaW1lID0gbmV3IERhdGUoKTsKICAgICAgICAgIHZhciBleHBpcmVkVGltZSA9IG5ldyBEYXRlKGN1clRpbWUuc2V0U2Vjb25kcyhjdXJUaW1lLmdldFNlY29uZHMoKSArIGVmZlRpbWUpKTsKICAgICAgICAgIHJlc1VzZXJJbmZvLmV4cGlyZWRUaW1lID0gZXhwaXJlZFRpbWUuZ2V0VGltZSgpOwogICAgICAgICAgc2V0TG9naW5JbmZvKHJlc1VzZXJJbmZvKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgdG9rZW4pOwogICAgICAgICAgc2V0VG9rZW4odG9rZW4pOwogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICBnZXRJbmZvOiBmdW5jdGlvbiBnZXRJbmZvKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICByb2xlczogWydhZG1pbiddLAogICAgICAgIGludHJvZHVjdGlvbjogJycsCiAgICAgICAgYXZhdGFyOiAnJywKICAgICAgICBuYW1lOiAnJwogICAgICB9OwogICAgICB2YXIgcm9sZXMgPSBkYXRhLnJvbGVzLAogICAgICAgICAgbmFtZSA9IGRhdGEubmFtZSwKICAgICAgICAgIGF2YXRhciA9IGRhdGEuYXZhdGFyLAogICAgICAgICAgaW50cm9kdWN0aW9uID0gZGF0YS5pbnRyb2R1Y3Rpb247CiAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgcm9sZXMpOwogICAgICBjb21taXQoJ1NFVF9OQU1FJywgbmFtZSk7CiAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsIGF2YXRhcik7CiAgICAgIGNvbW1pdCgnU0VUX0lOVFJPRFVDVElPTicsIGludHJvZHVjdGlvbik7CiAgICAgIHJlc29sdmUoZGF0YSk7CiAgICB9KTsKICB9LAogIC8v6I635Y+W55So5oi35L+h5oGvCiAgLy8gZ2V0SW5mbyh7IGNvbW1pdCwgc3RhdGUgfSkgewogIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAvLyAgICAgZ2V0SW5mbyhzdGF0ZS50b2tlbikudGhlbihyZXNwb25zZSA9PiB7CiAgLy8gICAgICAgLy/ojrflj5bnlKjmiLfkv6Hmga866L+U5Zue5pWw5o2u5YyF5ZCr77ya55So5oi35ZCNbmFtZeOAgeeUqOaIt+WktOWDj2F2YXRhcuOAgXJvdXRlc1vov5Tlm57nmoTmoIflv5c65LiN5ZCM55qE55So5oi35bqU6K+l5bGV56S65ZOq5Lqb6I+c5Y2V55qE5qCH6K6wXeOAgXJvbGVz77yI55So5oi36KeS6Imy5L+h5oGv77yJ44CBYnV0dG9uc+OAkOaMiemSrueahOS/oeaBr++8muaMiemSruadg+mZkOeUqOeahOagh+iusOOAkQogIC8vICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7CiAgLy8gICAgICAgLy92dWV45a2Y5YKo55So5oi35YWo6YOo55qE5L+h5oGvCiAgLy8gICAgICAgY29tbWl0KCdTRVRfVVNFUklORk8nLGRhdGEpOwogIC8vICAgICAgIGNvbW1pdCgnU0VUX1JFU1VMVEFTWU5DUk9VVEVTJyxjb21wdXRlZEFzeW5jUm91dGVzKGNsb25lRGVlcChhc3luY1JvdXRlcyksZGF0YS5yb3V0ZXMpKTsKICAvLyAgICAgICByZXNvbHZlKGRhdGEpCiAgLy8gICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAvLyAgICAgICByZWplY3QoZXJyb3IpCiAgLy8gICAgIH0pCiAgLy8gICB9KQogIC8vIH0sCiAgLy8g55m75Ye6CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwKICAgICAgICBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJyk7CiAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgW10pOwogICAgICByZW1vdmVUb2tlbigpOwogICAgICB2YXIgaW5mbyA9IGdldExvZ2luSW5mbygpOwoKICAgICAgaWYgKCFpbmZvIHx8ICFpbmZvLnJlbWVtYmVyKSB7CiAgICAgICAgcmVtb3ZlTG9naW5JbmZvKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlc1VzZXJJbmZvID0gewogICAgICAgICAgdXNlck5hbWU6IGluZm8udXNlck5hbWUsCiAgICAgICAgICBwYXNzd29yZDogaW5mby5wYXNzd29yZCwKICAgICAgICAgIHJlbWVtYmVyOiBpbmZvLnJlbWVtYmVyCiAgICAgICAgfTsKICAgICAgICBzZXRMb2dpbkluZm8ocmVzVXNlckluZm8pOwogICAgICB9CgogICAgICByZXNldFJvdXRlcigpOyAvLyDph43nva7orr/pl67nmoTop4blm77lkoznvJPlrZjnmoTop4blm74KCiAgICAgIGRpc3BhdGNoKCd0YWdzVmlldy9kZWxBbGxWaWV3cycsIG51bGwsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIC8vIHJlbW92ZSB0b2tlbgogIHJlc2V0VG9rZW46IGZ1bmN0aW9uIHJlc2V0VG9rZW4oX3JlZjYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJyk7CiAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgW10pOwogICAgICByZW1vdmVUb2tlbigpOwogICAgICB2YXIgaW5mbyA9IGdldExvZ2luSW5mbygpOwoKICAgICAgaWYgKCFpbmZvIHx8ICFpbmZvLnJlbWVtYmVyKSB7CiAgICAgICAgcmVtb3ZlTG9naW5JbmZvKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlc1VzZXJJbmZvID0gewogICAgICAgICAgdXNlck5hbWU6IGluZm8udXNlck5hbWUsCiAgICAgICAgICBwYXNzd29yZDogaW5mby5wYXNzd29yZCwKICAgICAgICAgIHJlbWVtYmVyOiBpbmZvLnJlbWVtYmVyCiAgICAgICAgfTsKICAgICAgICBzZXRMb2dpbkluZm8ocmVzVXNlckluZm8pOwogICAgICB9CgogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9LAogIC8vIGR5bmFtaWNhbGx5IG1vZGlmeSBwZXJtaXNzaW9ucwogIGNoYW5nZVJvbGVzOiBmdW5jdGlvbiBjaGFuZ2VSb2xlcyhfcmVmNywgcm9sZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHRva2VuLCBfeWllbGQkZGlzcGF0Y2gsIHJvbGVzLCBhY2Nlc3NSb3V0ZXM7CgogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjcuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY3LmRpc3BhdGNoOwogICAgICAgICAgICAgIHRva2VuID0gcm9sZSArICctdG9rZW4nOwogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgdG9rZW4pOwogICAgICAgICAgICAgIHNldFRva2VuKHRva2VuKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldEluZm8nKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfeWllbGQkZGlzcGF0Y2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHJvbGVzID0gX3lpZWxkJGRpc3BhdGNoLnJvbGVzOwogICAgICAgICAgICAgIHJlc2V0Um91dGVyKCk7IC8vIGdlbmVyYXRlIGFjY2Vzc2libGUgcm91dGVzIG1hcCBiYXNlZCBvbiByb2xlcwoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdwZXJtaXNzaW9uL2dlbmVyYXRlUm91dGVzJywgcm9sZXMsIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgYWNjZXNzUm91dGVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAvLyBkeW5hbWljYWxseSBhZGQgYWNjZXNzaWJsZSByb3V0ZXMKICAgICAgICAgICAgICByb3V0ZXIuYWRkUm91dGVzKGFjY2Vzc1JvdXRlcyk7IC8vIHJlc2V0IHZpc2l0ZWQgdmlld3MgYW5kIGNhY2hlZCB2aWV3cwoKICAgICAgICAgICAgICBkaXNwYXRjaCgndGFnc1ZpZXcvZGVsQWxsVmlld3MnLCBudWxsLCB7CiAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"names":["getApi","Message","MessageBox","Notification","Loading","getToken","setToken","removeToken","getLoginInfo","setLoginInfo","removeLoginInfo","anyRoutes","resetRouter","asyncRoutes","constantRoutes","router","state","token","name","avatar","routes","roles","buttons","resultAsyncRoutes","resultAllRputes","mutations","SET_TOKEN","SET_INTRODUCTION","introduction","SET_NAME","SET_AVATAR","SET_ROLES","actions","login","formData","commit","userInfo","url","Promise","resolve","reject","then","res","localStorage","setItem","Response","window","JSON","stringify","catch","error","redirectLogin","refreshToken","response","resUserInfo","effTime","curTime","Date","expiredTime","setSeconds","getSeconds","getTime","getInfo","data","logout","dispatch","info","remember","userName","password","root","resetToken","changeRoles","role","accessRoutes","addRoutes","namespaced"],"sources":["C:/Users/Administrator/Desktop/tuberculosis-fe/src/store/modules/user.js"],"sourcesContent":["import { getApi } from '@/api/function';\r\nimport { Message, MessageBox, Notification, Loading } from 'element-ui';\r\n// 获取 设置 删除 token和用户信息\r\nimport { getToken, setToken, removeToken, getLoginInfo, setLoginInfo, removeLoginInfo } from '@/utils/auth';\r\n// 路由模块中重制路由的方法\r\nimport { anyRoutes, resetRouter, asyncRoutes, constantRoutes } from '@/router';\r\nimport router from '@/router';\r\n\r\nconst state = {\r\n  //获取token\r\n  token: getToken(),\r\n  //存储用户名\r\n  name: '',\r\n  //存储用户头像\r\n  avatar: '',\r\n  //服务器返回的菜单信息【根据不同的角色：返回的标记信息，数组里面的元素是字符串】\r\n  routes: [],\r\n  //角色信息\r\n  roles: [],\r\n  //按钮权限的信息\r\n  buttons: [],\r\n  //对比之后【项目中已有的异步路由，与服务器返回的标记信息进行对比最终需要展示的理由】\r\n  resultAsyncRoutes: [],\r\n  //用户最终需要展示全部路由\r\n  resultAllRputes: [],\r\n};\r\n// 唯一修改state的地方\r\nconst mutations = {\r\n  // 存储token\r\n  SET_TOKEN: (state, token) => {\r\n    state.token = token;\r\n  },\r\n  SET_INTRODUCTION: (state, introduction) => {\r\n    state.introduction = introduction;\r\n  },\r\n  SET_NAME: (state, name) => {\r\n    state.name = name;\r\n  },\r\n  SET_AVATAR: (state, avatar) => {\r\n    state.avatar = avatar;\r\n  },\r\n  SET_ROLES: (state, roles) => {\r\n    state.roles = roles;\r\n  },\r\n};\r\nconst actions = {\r\n  //登录\r\n  login({ commit }, formData) {\r\n    const { userInfo, url } = formData;\r\n    return new Promise((resolve, reject) => {\r\n      getApi(userInfo, 'tokens/JWTToken3.0')\r\n        .then(res => {\r\n          localStorage.setItem('TOKEN', res.Response.token);\r\n          window.localStorage.setItem('userInfo', JSON.stringify(res.Response));\r\n          commit('SET_TOKEN', res.Response.token);\r\n          setToken(res.Response.token);\r\n          resolve(res);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n          Message('登录失败');\r\n        });\r\n    });\r\n  },\r\n  //登录\r\n  redirectLogin({ commit }, res) {\r\n    return new Promise((resolve, reject) => {\r\n      localStorage.setItem('TOKEN', res.Response.token);\r\n      window.localStorage.setItem('userInfo', JSON.stringify(res.Response));\r\n      commit('SET_TOKEN', res.Response.token);\r\n      setToken(res.Response.token);\r\n      resolve(res);\r\n    });\r\n  },\r\n  //请求刷新Token（以旧换新）\r\n  refreshToken({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      getApi({ token: getToken() }, '/login/tokens/RefreshToken')\r\n        .then(response => {\r\n          if (response) {\r\n            const { token } = response;\r\n            let resUserInfo = getLoginInfo();\r\n            //在当前时间curTime上加上过期时间(单位：秒)\r\n            let effTime = 4 * 60; //token有效时间4分钟，转换成秒\r\n            var curTime = new Date();\r\n            var expiredTime = new Date(curTime.setSeconds(curTime.getSeconds() + effTime));\r\n            resUserInfo.expiredTime = expiredTime.getTime();\r\n            setLoginInfo(resUserInfo);\r\n            commit('SET_TOKEN', token);\r\n            setToken(token);\r\n          }\r\n          resolve(response);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  // 获取用户信息\r\n  getInfo({ commit, state }) {\r\n    return new Promise((resolve, reject) => {\r\n      let data = {\r\n        roles: ['admin'],\r\n        introduction: '',\r\n        avatar: '',\r\n        name: '',\r\n      };\r\n      const { roles, name, avatar, introduction } = data;\r\n      commit('SET_ROLES', roles);\r\n      commit('SET_NAME', name);\r\n      commit('SET_AVATAR', avatar);\r\n      commit('SET_INTRODUCTION', introduction);\r\n      resolve(data);\r\n    });\r\n  },\r\n  //获取用户信息\r\n  // getInfo({ commit, state }) {\r\n  //   return new Promise((resolve, reject) => {\r\n  //     getInfo(state.token).then(response => {\r\n  //       //获取用户信息:返回数据包含：用户名name、用户头像avatar、routes[返回的标志:不同的用户应该展示哪些菜单的标记]、roles（用户角色信息）、buttons【按钮的信息：按钮权限用的标记】\r\n  //       const { data } = response;\r\n  //       //vuex存储用户全部的信息\r\n  //       commit('SET_USERINFO',data);\r\n  //       commit('SET_RESULTASYNCROUTES',computedAsyncRoutes(cloneDeep(asyncRoutes),data.routes));\r\n  //       resolve(data)\r\n  //     }).catch(error => {\r\n  //       reject(error)\r\n  //     })\r\n  //   })\r\n  // },\r\n\r\n  // 登出\r\n  logout({ commit, state, dispatch }) {\r\n    return new Promise((resolve, reject) => {\r\n      commit('SET_TOKEN', '');\r\n      commit('SET_ROLES', []);\r\n      removeToken();\r\n      let info = getLoginInfo();\r\n      if (!info || !info.remember) {\r\n        removeLoginInfo();\r\n      } else {\r\n        let resUserInfo = {\r\n          userName: info.userName,\r\n          password: info.password,\r\n          remember: info.remember,\r\n        };\r\n        setLoginInfo(resUserInfo);\r\n      }\r\n      resetRouter();\r\n      // 重置访问的视图和缓存的视图\r\n      dispatch('tagsView/delAllViews', null, { root: true });\r\n      resolve();\r\n    });\r\n  },\r\n\r\n  // remove token\r\n  resetToken({ commit }) {\r\n    return new Promise(resolve => {\r\n      commit('SET_TOKEN', '');\r\n      commit('SET_ROLES', []);\r\n      removeToken();\r\n      let info = getLoginInfo();\r\n      if (!info || !info.remember) {\r\n        removeLoginInfo();\r\n      } else {\r\n        let resUserInfo = {\r\n          userName: info.userName,\r\n          password: info.password,\r\n          remember: info.remember,\r\n        };\r\n        setLoginInfo(resUserInfo);\r\n      }\r\n      resolve();\r\n    });\r\n  },\r\n\r\n  // dynamically modify permissions\r\n  async changeRoles({ commit, dispatch }, role) {\r\n    const token = role + '-token';\r\n    commit('SET_TOKEN', token);\r\n    setToken(token);\r\n    const { roles } = await dispatch('getInfo');\r\n    resetRouter();\r\n    // generate accessible routes map based on roles\r\n    const accessRoutes = await dispatch('permission/generateRoutes', roles, { root: true });\r\n    // dynamically add accessible routes\r\n    router.addRoutes(accessRoutes);\r\n\r\n    // reset visited views and cached views\r\n    dispatch('tagsView/delAllViews', null, { root: true });\r\n  },\r\n};\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions,\r\n};\r\n"],"mappings":"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"}]}