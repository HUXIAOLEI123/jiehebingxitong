{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\unassignedrecord\\components\\tabComponents\\follow-uptab10.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\unassignedrecord\\components\\tabComponents\\follow-uptab10.vue","mtime":1678931188690},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdHViZXJjdWxvc2lzLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIOmaj+iuv+W8ueeqlwppbXBvcnQgRm9sbG93dXBFZGl0IGZyb20gJy4vZWNoZWF0Q29tcG9uZW50cy9mb2xsb3ctdXBFZGl0LnZ1ZSc7IC8vIOWQjue7remaj+iuvwoKaW1wb3J0IEZvbGxvd3VwRWRpdDIgZnJvbSAnLi9lY2hlYXRDb21wb25lbnRzL2ZvbGxvdy11cEVkaXQyLnZ1ZSc7IC8vIOivpuaDhQoKaW1wb3J0IFhxZm9sbG93RWRpdCBmcm9tICcuL0VkaXRDb21wb25lbnRzL3hxZm9sbG93RWRpdC52dWUnOwppbXBvcnQgWHFmb2xsb3dFZGl0MiBmcm9tICcuL0VkaXRDb21wb25lbnRzL3hxZm9sbG93RWRpdDIudnVlJzsKaW1wb3J0IHsgcHVsbW9uYXJ5YmFkcmVhY3Rpb25zbGlzdCwgcHVsbW9uYXJ5YmFkcmVhY3Rpb25zdXBkYXRlLCBwdWxtb25hcnliYWRyZWFjdGlvbnNkZWxldGUsIHB1bG1vbmFyeWJhZHJlYWN0aW9uc2RldGFpbHMgfSBmcm9tICdAL2FwaS9QdWxtb25hcnlGaXJzdFZpc2l0LmpzJzsKaW1wb3J0IHsgUHVsbW9uYXJ5UGF0aWVudFZpc2l0bGlzdCwgUHVsbW9uYXJ5UGF0aWVudFZpc2l0ZGV0YWlscywgUHVsbW9uYXJ5UGF0aWVudFZpc2l0dXBkYXRlLCBQdWxtb25hcnlQYXRpZW50VmlzaXRkZWxldGUgfSBmcm9tICJAL2FwaS9QdWxtb25hcnlQYXRpZW50VmlzaXQiOwppbXBvcnQgeyBQdWxtb25hcnlWaXNpdGxpc3QgfSBmcm9tICdAL2FwaS9QdWxtb25hcnlWaXNpdC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBGb2xsb3d1cEVkaXQ6IEZvbGxvd3VwRWRpdCwKICAgIEZvbGxvd3VwRWRpdDI6IEZvbGxvd3VwRWRpdDIsCiAgICBYcWZvbGxvd0VkaXQ6IFhxZm9sbG93RWRpdCwKICAgIFhxZm9sbG93RWRpdDI6IFhxZm9sbG93RWRpdDIKICB9LAogIHByb3BzOiBbJ2lucHV0RGF0YSddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7fSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgY29weURhdGE6IFt7fV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMuY29weURhdGFbMF0gPSBfdGhpcy5pbnB1dERhdGE7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZ1blB1bG1vbmFyeVZpc2l0bGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5qyh6ZqP6K6/CiAgICBoYW5kbGVyRWRpdDogZnVuY3Rpb24gaGFuZGxlckVkaXQoZmxhZywgZGF0YSwgZm9ybWRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgbGVuZ3RocywgcmVzLCBTdGF0dXNDb2RlLCBNZXNzYWdlLCBfcmVzLCBfU3RhdHVzQ29kZSwgX01lc3NhZ2U7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShmbGFnID09ICdhZGRmb2xsb3cnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxlbmd0aHMgPSBfdGhpczIudGFibGVEYXRhLmxlbmd0aDsKCiAgICAgICAgICAgICAgICBpZiAobGVuZ3RocyA9PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcmVmcy5mb2xsb3d1cEVkaXQuc2hvdyhmbGFnLCBfdGhpczIuaW5wdXREYXRhKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYmFzZU1lc3NhZ2UoJ+W3suWtmOWcqOWIneasoemihOe6pumaj+iuvycsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgaWYgKCEoZmxhZyA9PSAnZGV0YWlscycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBwdWxtb25hcnliYWRyZWFjdGlvbnNkZXRhaWxzKHsKICAgICAgICAgICAgICAgICAgZmlyc3RWaXNpdElkOiBkYXRhLlZpc2l0SWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIFN0YXR1c0NvZGUgPSByZXMuU3RhdHVzQ29kZSwgTWVzc2FnZSA9IHJlcy5NZXNzYWdlOwoKICAgICAgICAgICAgICAgIGlmICghKFN0YXR1c0NvZGUgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX3RoaXMyLiRiYXNlTWVzc2FnZShNZXNzYWdlIHx8ICfmlbDmja7ojrflj5blpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBmb3JtZGF0YSA9IHJlcy5SZXNwb25zZTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJlZnMueHFmb2xsb3dFZGl0LnNob3coZmxhZywgZGF0YSwgZm9ybWRhdGEpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ01vZGlmeScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gcHVsbW9uYXJ5YmFkcmVhY3Rpb25zZGV0YWlscyh7CiAgICAgICAgICAgICAgICAgIGZpcnN0VmlzaXRJZDogZGF0YS5WaXNpdElkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9yZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9TdGF0dXNDb2RlID0gX3Jlcy5TdGF0dXNDb2RlLCBfTWVzc2FnZSA9IF9yZXMuTWVzc2FnZTsKCiAgICAgICAgICAgICAgICBpZiAoIShfU3RhdHVzQ29kZSAhPSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfdGhpczIuJGJhc2VNZXNzYWdlKF9NZXNzYWdlIHx8ICfmlbDmja7ojrflj5blpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBmb3JtZGF0YSA9IF9yZXMuUmVzcG9uc2U7CiAgICAgICAgICAgICAgICBmb3JtZGF0YS5TeW1wdG9tID0gZm9ybWRhdGEuU3ltcHRvbS5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgZm9ybWRhdGEuRHJ1Z3NUeXBlID0gZm9ybWRhdGEuRHJ1Z3NUeXBlLnNwbGl0KCcsJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzLmZvbGxvd3VwRWRpdC5zaG93KGZsYWcsIGRhdGEsIGZvcm1kYXRhKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PSAnZGVsZXRlJykgewogICAgICAgICAgICAgICAgICAvLyDliKDpmaQKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRiYXNlQ29uZmlybSgi56Gu5a6a6KaB5Yig6Zmk5omA6YCJ6aG55ZCX77yfIiwgJ+WIoOmZpCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdFZpc2l0SWQsIHJlcywgU3RhdHVzQ29kZSwgTWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RWaXNpdElkID0gZGF0YS5WaXNpdElkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHB1bG1vbmFyeWJhZHJlYWN0aW9uc2RlbGV0ZShbZmlyc3RWaXNpdElkXSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZSA9IHJlcy5TdGF0dXNDb2RlLCBNZXNzYWdlID0gcmVzLk1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoU3RhdHVzQ29kZSAhPSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kYmFzZU1lc3NhZ2UoTWVzc2FnZSB8fCAn5Yig6Zmk5aSx6LSlJywgJ2Vycm9yJykpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJGJhc2VNZXNzYWdlKCfliKDpmaTmiJDlip8nLCAic3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5mdW5QdWxtb25hcnlWaXNpdGxpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpLCBudWxsLCAiZXJyb3IiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5mdW5QdWxtb25hcnlWaXNpdGxpc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5ZCO5q2k6ZqP6K6/CiAgICBmb2xsb3d1cEVkaXQ6IGZ1bmN0aW9uIGZvbGxvd3VwRWRpdChmbGFnLCBmaXJzdFZpc2l0SWQsIGZvcm0sIGhhc2luZm8pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcGVyc29uSWQsIGRpYWdub3Npc0lkLCB0cmVhdG1lbnRQbGFuLCByZXMsIFN0YXR1c0NvZGUsIE1lc3NhZ2UsIF9yZXMyLCBfU3RhdHVzQ29kZTIsIF9NZXNzYWdlMjsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ2FkZGZvbGxvdycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBlcnNvbklkID0gX3RoaXMzLmNvcHlEYXRhWzBdLlBlcnNvbklkOwogICAgICAgICAgICAgICAgZGlhZ25vc2lzSWQgPSBfdGhpczMuY29weURhdGFbMF0uRGlhZ25vc2lzSWQ7CiAgICAgICAgICAgICAgICB0cmVhdG1lbnRQbGFuID0gX3RoaXMzLmNvcHlEYXRhWzBdLlRyZWF0bWVudFBsYW5OYW1lOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHB1bG1vbmFyeWJhZHJlYWN0aW9uc2xpc3QoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmb3JtKSwge30sIHsKICAgICAgICAgICAgICAgICAgUGVyc29uSWQ6IHBlcnNvbklkLAogICAgICAgICAgICAgICAgICBEaWFnbm9zaXNJZDogZGlhZ25vc2lzSWQsCiAgICAgICAgICAgICAgICAgIFRyZWF0bWVudFBsYW46IHRyZWF0bWVudFBsYW4KICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBTdGF0dXNDb2RlID0gcmVzLlN0YXR1c0NvZGUsIE1lc3NhZ2UgPSByZXMuTWVzc2FnZTsKCiAgICAgICAgICAgICAgICBpZiAoIShTdGF0dXNDb2RlICE9IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kYmFzZU1lc3NhZ2UoTWVzc2FnZSB8fCAn6aKE57qm5aSx6LSlJywgJ2Vycm9yJykpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX3RoaXMzLiRiYXNlTWVzc2FnZSgn6aKE57qm5oiQ5YqfJywgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuZnVuUHVsbW9uYXJ5VmlzaXRsaXN0KCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKCEoZmxhZyA9PSAnTW9kaWZ5JykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBwdWxtb25hcnliYWRyZWFjdGlvbnN1cGRhdGUoewogICAgICAgICAgICAgICAgICBmaXJzdFZpc2l0SWQ6IGZpcnN0VmlzaXRJZAogICAgICAgICAgICAgICAgfSwgaGFzaW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfcmVzMiA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX1N0YXR1c0NvZGUyID0gX3JlczIuU3RhdHVzQ29kZSwgX01lc3NhZ2UyID0gX3JlczIuTWVzc2FnZTsKCiAgICAgICAgICAgICAgICBpZiAoIShfU3RhdHVzQ29kZTIgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMzLiRiYXNlTWVzc2FnZShfTWVzc2FnZTIgfHwgJ+S/ruaUueWksei0pScsICdlcnJvcicpKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF90aGlzMy4kYmFzZU1lc3NhZ2UoJ+S/ruaUueaIkOWKnycsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgX3RoaXMzLmZ1blB1bG1vbmFyeVZpc2l0bGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgX3RoaXMzLmZ1blB1bG1vbmFyeVZpc2l0bGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6I635Y+W5YiX6KGoCiAgICBmdW5QdWxtb25hcnlWaXNpdGxpc3Q6IGZ1bmN0aW9uIGZ1blB1bG1vbmFyeVZpc2l0bGlzdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgZGlhZ25vc2lzSWQsIHJlcywgU3RhdHVzQ29kZSwgTWVzc2FnZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlhZ25vc2lzSWQgPSBfdGhpczQuY29weURhdGFbMF0uRGlhZ25vc2lzSWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gUHVsbW9uYXJ5VmlzaXRsaXN0KHsKICAgICAgICAgICAgICAgICAgRGlhZ25vc2lzSWQ6IGRpYWdub3Npc0lkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBTdGF0dXNDb2RlID0gcmVzLlN0YXR1c0NvZGUsIE1lc3NhZ2UgPSByZXMuTWVzc2FnZTsKCiAgICAgICAgICAgICAgICBpZiAoIShTdGF0dXNDb2RlICE9IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX3RoaXM0LiRiYXNlTWVzc2FnZShNZXNzYWdlIHx8ICfliqDovb3lpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzNC50YWJsZURhdGEgPSByZXMuUmVzcG9uc2UuaXRlbXM7CgogICAgICAgICAgICAgICAgX3RoaXM0LnRhYmxlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uRGlhZ25vc2lzVGltZSA9IF90aGlzNC5jb3B5RGF0YVswXS5EaWFnbm9zaXNUaW1lOwogICAgICAgICAgICAgICAgICBpdGVtLlJlc3BvbnNpYmlsaXR5TmFtZSA9IF90aGlzNC5jb3B5RGF0YVswXS5SZXNwb25zaWJpbGl0eU5hbWU7CiAgICAgICAgICAgICAgICAgIGl0ZW0uQWRtaW5Pcmdhbml6YXRpb25OYW1lID0gX3RoaXM0LmNvcHlEYXRhWzBdLkFkbWluT3JnYW5pemF0aW9uTmFtZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyAy5qyh6ZqP6K6/CiAgICBoYW5kbGVyRWRpdDI6IGZ1bmN0aW9uIGhhbmRsZXJFZGl0MihmbGFnLCBkYXRhLCBmb3JtZGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciByZXMsIFN0YXR1c0NvZGUsIE1lc3NhZ2UsIF9yZXMzLCBfU3RhdHVzQ29kZTMsIF9NZXNzYWdlMzsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ2FkZGZvbGxvdycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LiRyZWZzLmZvbGxvd3VwRWRpdDIuc2hvdyhmbGFnLCBfdGhpczUuaW5wdXREYXRhKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ2RldGFpbHMnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gUHVsbW9uYXJ5UGF0aWVudFZpc2l0ZGV0YWlscyh7CiAgICAgICAgICAgICAgICAgIHBhdGllbnRWaXNpdElkOiBkYXRhLlZpc2l0SWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIFN0YXR1c0NvZGUgPSByZXMuU3RhdHVzQ29kZSwgTWVzc2FnZSA9IHJlcy5NZXNzYWdlOwoKICAgICAgICAgICAgICAgIGlmICghKFN0YXR1c0NvZGUgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgX3RoaXM1LiRiYXNlTWVzc2FnZShNZXNzYWdlIHx8ICfmlbDmja7ojrflj5blpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBmb3JtZGF0YSA9IHJlcy5SZXNwb25zZTsKCiAgICAgICAgICAgICAgICBfdGhpczUuJHJlZnMueHFmb2xsb3dFZGl0Mi5zaG93KGZsYWcsIGRhdGEsIGZvcm1kYXRhKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBpZiAoIShmbGFnID09ICdNb2RpZnknKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIFB1bG1vbmFyeVBhdGllbnRWaXNpdGRldGFpbHMoewogICAgICAgICAgICAgICAgICBwYXRpZW50VmlzaXRJZDogZGF0YS5WaXNpdElkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9yZXMzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBfU3RhdHVzQ29kZTMgPSBfcmVzMy5TdGF0dXNDb2RlLCBfTWVzc2FnZTMgPSBfcmVzMy5NZXNzYWdlOwoKICAgICAgICAgICAgICAgIGlmICghKF9TdGF0dXNDb2RlMyAhPSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJGJhc2VNZXNzYWdlKF9NZXNzYWdlMyB8fCAn5pWw5o2u6I635Y+W5aSx6LSlJywgJ2Vycm9yJykpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgZm9ybWRhdGEgPSBfcmVzMy5SZXNwb25zZTsKICAgICAgICAgICAgICAgIGZvcm1kYXRhLlN5bXB0b20gPSBmb3JtZGF0YS5TeW1wdG9tLnNwbGl0KCcsJyk7CiAgICAgICAgICAgICAgICBmb3JtZGF0YS5EcnVnc1R5cGUgPSBmb3JtZGF0YS5EcnVnc1R5cGUuc3BsaXQoJywnKTsKCiAgICAgICAgICAgICAgICBfdGhpczUuJHJlZnMuZm9sbG93dXBFZGl0Mi5zaG93KGZsYWcsIGRhdGEsIGZvcm1kYXRhKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PSAnZGVsZXRlJykgewogICAgICAgICAgICAgICAgICAvLyDliKDpmaQKICAgICAgICAgICAgICAgICAgX3RoaXM1LiRiYXNlQ29uZmlybSgi56Gu5a6a6KaB5Yig6Zmk5omA6YCJ6aG55ZCX77yfIiwgJ+WIoOmZpCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgICAgICAgICAgICAgIHZhciBwYXRpZW50VmlzaXRJZCwgcmVzLCBTdGF0dXNDb2RlLCBNZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRpZW50VmlzaXRJZCA9IGRhdGEuVmlzaXRJZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQdWxtb25hcnlQYXRpZW50VmlzaXRkZWxldGUoW3BhdGllbnRWaXNpdElkXSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZSA9IHJlcy5TdGF0dXNDb2RlLCBNZXNzYWdlID0gcmVzLk1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoU3RhdHVzQ29kZSAhPSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIF90aGlzNS4kYmFzZU1lc3NhZ2UoTWVzc2FnZSB8fCAn5Yig6Zmk5aSx6LSlJywgJ2Vycm9yJykpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuJGJhc2VNZXNzYWdlKCfliKDpmaTmiJDlip8nLCAic3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5mdW5QdWxtb25hcnlWaXNpdGxpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgICAgfSkpLCBudWxsLCAiZXJyb3IiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5mdW5QdWxtb25hcnlWaXNpdGxpc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvbGxvd3VwRWRpdDI6IGZ1bmN0aW9uIGZvbGxvd3VwRWRpdDIoZmxhZywgcGF0aWVudFZpc2l0SWQsIGZvcm0sIGhhc2luZm8pIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgcGVyc29uSWQsIGRpYWdub3Npc0lkLCByZXMsIFN0YXR1c0NvZGUsIE1lc3NhZ2UsIF9yZXM0LCBfU3RhdHVzQ29kZTQsIF9NZXNzYWdlNDsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ2FkZGZvbGxvdycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBlcnNvbklkID0gX3RoaXM2LmNvcHlEYXRhWzBdLlBlcnNvbklkOwogICAgICAgICAgICAgICAgZGlhZ25vc2lzSWQgPSBfdGhpczYuY29weURhdGFbMF0uRGlhZ25vc2lzSWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gUHVsbW9uYXJ5UGF0aWVudFZpc2l0bGlzdChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGZvcm0pLCB7fSwgewogICAgICAgICAgICAgICAgICBQZXJzb25JZDogcGVyc29uSWQsCiAgICAgICAgICAgICAgICAgIERpYWdub3Npc0lkOiBkaWFnbm9zaXNJZAogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIFN0YXR1c0NvZGUgPSByZXMuU3RhdHVzQ29kZSwgTWVzc2FnZSA9IHJlcy5NZXNzYWdlOwoKICAgICAgICAgICAgICAgIGlmICghKFN0YXR1c0NvZGUgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBfdGhpczYuJGJhc2VNZXNzYWdlKE1lc3NhZ2UgfHwgJ+mihOe6puWksei0pScsICdlcnJvcicpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXM2LiRiYXNlTWVzc2FnZSgn6aKE57qm5oiQ5YqfJywgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICBfdGhpczYuZnVuUHVsbW9uYXJ5VmlzaXRsaXN0KCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgaWYgKCEoZmxhZyA9PSAnTW9kaWZ5JykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBQdWxtb25hcnlQYXRpZW50VmlzaXR1cGRhdGUoewogICAgICAgICAgICAgICAgICBwYXRpZW50VmlzaXRJZDogcGF0aWVudFZpc2l0SWQKICAgICAgICAgICAgICAgIH0sIGhhc2luZm8pOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX3JlczQgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIF9TdGF0dXNDb2RlNCA9IF9yZXM0LlN0YXR1c0NvZGUsIF9NZXNzYWdlNCA9IF9yZXM0Lk1lc3NhZ2U7CgogICAgICAgICAgICAgICAgaWYgKCEoX1N0YXR1c0NvZGU0ICE9IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIF90aGlzNi4kYmFzZU1lc3NhZ2UoX01lc3NhZ2U0IHx8ICfkv67mlLnlpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfdGhpczYuJGJhc2VNZXNzYWdlKCfkv67mlLnmiJDlip8nLCAic3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgIF90aGlzNi5mdW5QdWxtb25hcnlWaXNpdGxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF90aGlzNi5mdW5QdWxtb25hcnlWaXNpdGxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["pulmonarybadreactionslist","pulmonarybadreactionsupdate","pulmonarybadreactionsdelete","pulmonarybadreactionsdetails","PulmonaryPatientVisitlist","PulmonaryPatientVisitdetails","PulmonaryPatientVisitupdate","PulmonaryPatientVisitdelete","components","FollowupEdit","FollowupEdit2","XqfollowEdit","XqfollowEdit2","props","data","form","tableData","copyData","created","methods","handlerEdit","flag","formdata","lengths","firstVisitId","res","StatusCode","Message","followupEdit","hasinfo","personId","diagnosisId","treatmentPlan","PersonId","DiagnosisId","TreatmentPlan","funPulmonaryVisitlist","PulmonaryVisitlist","item","handlerEdit2","patientVisitId","followupEdit2"],"sourceRoot":"src/views/patientManagement/unassignedrecord/components/tabComponents","sources":["follow-uptab10.vue"],"sourcesContent":["<template>\r\n  <div class=\"room2\">\r\n    <el-button :disabled=\"inputData.IsClosed ? true : false\" type=\"primary\" v-if=\"tableData.length== 0\" round @click.native=\"handlerEdit('addfollow')\">新增随访\r\n    </el-button>\r\n    <el-button :disabled=\"inputData.IsClosed ? true : false\" type=\"primary\" v-if=\"tableData.length!== 0\" round @click.native=\"handlerEdit2('addfollow')\">后续随访\r\n    </el-button>\r\n    <!-- 表格 -->\r\n    <div class=\"tablebox\">\r\n      <vxe-table auto-resize border height=\"500\" align=\"center\" show-header-overflow show-overflow :row-config=\"{ isHover: true }\"\r\n        :data=\"tableData\">\r\n        <!-- <vxe-column field=\"DiagnosisTime\" title=\"确诊时间\"></vxe-column> -->\r\n        <!-- <vxe-column field=\"ResponsibilityName\" title=\"责任医生\"></vxe-column> -->\r\n        <!-- <vxe-column field=\"AdminOrganizationName\" title=\"管理机构\"></vxe-column> -->\r\n        <vxe-column field=\"VisitDoctorName\" title=\"随访医生\"></vxe-column>\r\n        <vxe-column field=\"VisitOrganizationName\" title=\"随访机构\"></vxe-column>\r\n\r\n        <vxe-column field=\"VisitType\" title=\"随访类型\">\r\n          <template #default=\"{ row }\">\r\n            <el-link :underline=\"false\"  v-if=\"row.VisitType == 1\">初次随访 \r\n            </el-link>\r\n            <el-link :underline=\"false\"  v-if=\"row.VisitType == 2\">后续随访\r\n            </el-link>\r\n          </template>\r\n        </vxe-column>\r\n        <vxe-column field=\"VisitDate\" title=\"随访日期\">\r\n          <template slot-scope=\"{ row }\">\r\n            <span>\r\n              {{ row.VisitDate | parseTime(\"{y}-{m}-{d}\") }}\r\n            </span>\r\n          </template>\r\n\r\n        </vxe-column>\r\n        <vxe-column field=\"NextVisitDate\" title=\"下次随访日期\">\r\n          <template slot-scope=\"{ row }\">\r\n            <span>\r\n              {{ row.NextVisitDate | parseTime(\"{y}-{m}-{d}\") }}\r\n            </span>\r\n          </template>\r\n        </vxe-column>\r\n\r\n        <vxe-column field=\"SymptomDesc\" title=\"症状\"></vxe-column>\r\n        <vxe-column title=\"操作\" width=\"180\">\r\n          <template #default=\"{ row }\">\r\n            <div class=\"flex_center \">\r\n              <!-- <el-link type=\"primary\" @click=\"handlerEdit2('addfollow', row)\">新增后续随访</el-link> -->\r\n              <el-link type=\"primary\" v-if=\"row.VisitType == 1\" @click=\"handlerEdit('details', row)\">详情</el-link>\r\n              <div class=\"Divider\" v-if=\"row.VisitType == 1\"></div>\r\n              <el-link type=\"warning\" :disabled=\"inputData.IsClosed ? true : false\" v-if=\"row.VisitType == 1\" @click=\"handlerEdit('Modify', row)\">修改</el-link>\r\n              <div class=\"Divider\" v-if=\"row.VisitType == 1\"></div>\r\n              <el-link type=\"danger\" v-if=\"row.VisitType == 1\" @click=\"handlerEdit('delete', row)\">删除</el-link>\r\n              <!-- 2次随访 -->\r\n              <el-link type=\"primary\" v-if=\"row.VisitType == 2\" @click=\"handlerEdit2('details', row)\">详情</el-link>\r\n              <div class=\"Divider\" v-if=\"row.VisitType == 2\"></div>\r\n              <el-link type=\"warning\" :disabled=\"inputData.IsClosed ? true : false\" v-if=\"row.VisitType == 2\" @click=\"handlerEdit2('Modify', row)\">修改</el-link>\r\n              <div class=\"Divider\" v-if=\"row.VisitType == 2\"></div>\r\n              <el-link type=\"danger\" v-if=\"row.VisitType == 2\" @click=\"handlerEdit2('delete', row)\">删除</el-link>\r\n            </div>\r\n          </template>\r\n        </vxe-column>\r\n      </vxe-table>\r\n    </div>\r\n    <FollowupEdit ref=\"followupEdit\" @submit=\"funPulmonaryVisitlist\"></FollowupEdit>\r\n    <FollowupEdit2 ref=\"followupEdit2\" @submit=\"funPulmonaryVisitlist\"></FollowupEdit2>\r\n    <XqfollowEdit ref=\"xqfollowEdit\"></XqfollowEdit>\r\n    <XqfollowEdit2 ref=\"xqfollowEdit2\"></XqfollowEdit2>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\n// 随访弹窗\r\nimport FollowupEdit from './echeatComponents/follow-upEdit.vue'\r\n// 后续随访\r\nimport FollowupEdit2 from './echeatComponents/follow-upEdit2.vue'\r\n// 详情\r\nimport XqfollowEdit from './EditComponents/xqfollowEdit.vue'\r\nimport XqfollowEdit2 from './EditComponents/xqfollowEdit2.vue'\r\nimport {\r\n  pulmonarybadreactionslist,\r\n  pulmonarybadreactionsupdate,\r\n  pulmonarybadreactionsdelete,\r\n  pulmonarybadreactionsdetails\r\n} from '@/api/PulmonaryFirstVisit.js'\r\n\r\nimport {\r\n  PulmonaryPatientVisitlist,\r\n  PulmonaryPatientVisitdetails,\r\n  PulmonaryPatientVisitupdate,\r\n  PulmonaryPatientVisitdelete\r\n} from \"@/api/PulmonaryPatientVisit\";\r\n\r\nimport { PulmonaryVisitlist } from '@/api/PulmonaryVisit.js'\r\nexport default {\r\n  components: { FollowupEdit, FollowupEdit2, XqfollowEdit, XqfollowEdit2 },\r\n  props: ['inputData'],\r\n  data() {\r\n    return {\r\n      form: {},\r\n      tableData: [],\r\n      copyData: [{}]\r\n    }\r\n\r\n  },\r\n  async created() {\r\n    this.copyData[0] = this.inputData,\r\n      await this.funPulmonaryVisitlist()\r\n  },\r\n\r\n  methods: {\r\n    // 初次随访\r\n    async handlerEdit(flag, data, formdata) {\r\n      if (flag == 'addfollow') {\r\n        let lengths = this.tableData.length\r\n        if (lengths == 0) {\r\n          this.$refs.followupEdit.show(flag,this.inputData)\r\n        } else {\r\n          this.$baseMessage('已存在初次预约随访', \"error\")\r\n        }\r\n      } else if (flag == 'details') {\r\n        // 详情\r\n        const res = await pulmonarybadreactionsdetails({ firstVisitId: data.VisitId })\r\n        let { StatusCode, Message } = res;\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '数据获取失败', 'error'\r\n          )\r\n        }\r\n        formdata = res.Response\r\n        this.$refs.xqfollowEdit.show(flag, data, formdata)\r\n      } else if (flag == 'Modify') {\r\n        // 修改（先获取详情）\r\n        const res = await pulmonarybadreactionsdetails({ firstVisitId: data.VisitId })\r\n        let { StatusCode, Message } = res;\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '数据获取失败', 'error'\r\n          )\r\n        }\r\n        formdata = res.Response\r\n        formdata.Symptom = formdata.Symptom.split(',')\r\n        formdata.DrugsType = formdata.DrugsType.split(',')\r\n        this.$refs.followupEdit.show(flag, data, formdata)\r\n      } else if (flag == 'delete') {\r\n        // 删除\r\n        this.$baseConfirm(\"确定要删除所选项吗？\", '删除', async () => {\r\n          const firstVisitId = data.VisitId\r\n          const res = await pulmonarybadreactionsdelete([firstVisitId])\r\n          let { StatusCode, Message } = res;\r\n          if (StatusCode != 200) {\r\n            return this.$baseMessage(\r\n              Message || '删除失败', 'error'\r\n            )\r\n          }\r\n          this.$baseMessage('删除成功', \"success\")\r\n          this.funPulmonaryVisitlist()\r\n\r\n        },null,\"error\",)\r\n\r\n        this.funPulmonaryVisitlist()\r\n\r\n      }\r\n    },\r\n\r\n    //后此随访\r\n    async followupEdit(flag, firstVisitId, form, hasinfo) {\r\n      if (flag == 'addfollow') {\r\n        let personId = this.copyData[0].PersonId\r\n        let diagnosisId = this.copyData[0].DiagnosisId\r\n        let treatmentPlan = this.copyData[0].TreatmentPlanName\r\n        const res = await pulmonarybadreactionslist({\r\n          ...form,\r\n          PersonId: personId,\r\n          DiagnosisId: diagnosisId,\r\n          TreatmentPlan: treatmentPlan,\r\n        })\r\n        let { StatusCode, Message } = res;\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '预约失败', 'error'\r\n          )\r\n        }\r\n        this.$baseMessage('预约成功', \"success\")\r\n        this.funPulmonaryVisitlist()\r\n      } else if (flag == 'Modify') {\r\n\r\n        const res = await pulmonarybadreactionsupdate({ firstVisitId }, hasinfo)\r\n        let { StatusCode, Message } = res;\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '修改失败', 'error'\r\n          )\r\n        }\r\n        this.$baseMessage('修改成功', \"success\")\r\n        this.funPulmonaryVisitlist()\r\n      }\r\n      this.funPulmonaryVisitlist()\r\n    },\r\n    // 获取列表\r\n    async funPulmonaryVisitlist() {\r\n      let diagnosisId = this.copyData[0].DiagnosisId\r\n      const res = await PulmonaryVisitlist({ DiagnosisId: diagnosisId })\r\n      let { StatusCode, Message } = res;\r\n      if (StatusCode != 200) {\r\n        return this.$baseMessage(\r\n          Message || '加载失败', 'error'\r\n        )\r\n      }\r\n      this.tableData = res.Response.items\r\n      this.tableData.forEach(item => {\r\n        item.DiagnosisTime = this.copyData[0].DiagnosisTime\r\n        item.ResponsibilityName = this.copyData[0].ResponsibilityName\r\n        item.AdminOrganizationName = this.copyData[0].AdminOrganizationName\r\n      })\r\n    },\r\n    // 2次随访\r\n    async handlerEdit2(flag, data, formdata) {\r\n      //新增\r\n      if (flag == 'addfollow') {\r\n        this.$refs.followupEdit2.show(flag, this.inputData)\r\n      } else if (flag == 'details') {\r\n        // 详情\r\n        const res = await PulmonaryPatientVisitdetails({ patientVisitId: data.VisitId })\r\n        let { StatusCode, Message } = res;\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '数据获取失败', 'error'\r\n          )\r\n        }\r\n        formdata = res.Response\r\n        this.$refs.xqfollowEdit2.show(flag, data, formdata)\r\n      } else if (flag == 'Modify') {\r\n        // 修改（先获取详情）\r\n        const res = await PulmonaryPatientVisitdetails({ patientVisitId: data.VisitId })\r\n        let { StatusCode, Message } = res;\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '数据获取失败', 'error'\r\n          )\r\n        }\r\n        formdata = res.Response\r\n\t\tformdata.Symptom = formdata.Symptom.split(',')\r\n\t\tformdata.DrugsType = formdata.DrugsType.split(',')\r\n        this.$refs.followupEdit2.show(flag, data, formdata)\r\n      } else if (flag == 'delete') {\r\n        // 删除\r\n        this.$baseConfirm(\"确定要删除所选项吗？\", '删除', async () => {\r\n          const patientVisitId = data.VisitId\r\n          const res = await PulmonaryPatientVisitdelete([patientVisitId])\r\n          let { StatusCode, Message } = res;\r\n          if (StatusCode != 200) {\r\n            return this.$baseMessage(\r\n              Message || '删除失败', 'error'\r\n            )\r\n          }\r\n          this.$baseMessage('删除成功', \"success\")\r\n          this.funPulmonaryVisitlist()\r\n        },null,\"error\",)\r\n\r\n        this.funPulmonaryVisitlist()\r\n\r\n\r\n      }\r\n\r\n    },\r\n\r\n    async followupEdit2(flag, patientVisitId, form, hasinfo) {\r\n      // 新增\r\n      if (flag == 'addfollow') {\r\n        let personId = this.copyData[0].PersonId\r\n        let diagnosisId = this.copyData[0].DiagnosisId\r\n        const res = await PulmonaryPatientVisitlist({\r\n          ...form, PersonId: personId, DiagnosisId: diagnosisId\r\n        })\r\n        let { StatusCode, Message } = res;\r\n\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '预约失败', 'error'\r\n          )\r\n        }\r\n        this.$baseMessage('预约成功', \"success\")\r\n        this.funPulmonaryVisitlist()\r\n      } else if (flag == 'Modify') {\r\n\r\n        const res = await PulmonaryPatientVisitupdate({ patientVisitId }, hasinfo)\r\n        let { StatusCode, Message } = res;\r\n        if (StatusCode != 200) {\r\n          return this.$baseMessage(\r\n            Message || '修改失败', 'error'\r\n          )\r\n        }\r\n        this.$baseMessage('修改成功', \"success\")\r\n        this.funPulmonaryVisitlist()\r\n      }\r\n      this.funPulmonaryVisitlist()\r\n\r\n\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.room2 {\r\n  width: 100%;\r\n  height: 100%;\r\n  // overflow: hidden;\r\n\r\n}\r\n\r\n.heard {\r\n  width: 100%;\r\n  // background:red;\r\n  height: 350px;\r\n  display: flex;\r\n}\r\n\r\n.echartRoom {\r\n  width: 40%;\r\n  height: 100%;\r\n  // float: left;\r\n\r\n}\r\n\r\n.echartRoom>p {\r\n  color: black;\r\n  font-size: 25PX;\r\n  font-weight: 600;\r\n  margin: 15px 0 0 20px;\r\n}\r\n\r\n.calendar {\r\n  width: 60%;\r\n  height: 100%;\r\n  background: rgb(219, 228, 173);\r\n  // float: left;\r\n\r\n}\r\n\r\n.tablebox {\r\n  width: 100%;\r\n  height: 75%;\r\n  float: left;\r\n  margin-top: 10px;\r\n}\r\n\r\n.el-button--medium.is-round {\r\n  margin-top: 30px;\r\n  margin-left: 90%;\r\n}\r\n\r\n.flex_center {\r\n  display: flex;\r\n  margin: 0 auto;\r\n}\r\n</style>"]}]}