{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationroles\\components\\pageEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\systemManage\\organizationroles\\components\\pageEdit.vue","mtime":1678931188714},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdHViZXJjdWxvc2lzLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldExpc3QgfSBmcm9tICJAL2FwaS9zeXN0ZW1NYW5hZ2UvT3JnYW5pemF0aW9uUGVybWlzc2lvbiI7CmltcG9ydCB7IG9yZ2FuaXphdGlvbnJvbGVzRGV0YWlsLCBhZGRvcmdhbml6YXRpb25yb2xlcywgRWRpdG9yZ2FuaXphdGlvbnJvbGVzIH0gZnJvbSAiQC9hcGkvc3lzdGVtTWFuYWdlL09yZ2FuaXphdGlvblJvbGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOihqOWNlemFjee9rgogICAgICBmb3JtQ29uZmlnOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHdpZHRoOiAiNzAlIiwKICAgICAgICBvcHQ6ICIiLAogICAgICAgIGhlaWdodDogIjcwJSIsCiAgICAgICAgbW9kdWxlSWQ6ICIiLAogICAgICAgIHRlbmFudGlkOiAiIiwKICAgICAgICByZW5kZXJWaWV3OiB0cnVlCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIC8vIOihqOWNleaVsOaNrgogICAgICBmb3JtRGF0YTogewogICAgICAgIFBlcm1pc3Npb25JZHM6IFtdCiAgICAgIH0sCiAgICAgIC8vIOmqjOivgeinhOWImQogICAgICBmb3JtUnVsZXM6IHsKICAgICAgICBSb2xlTmFtZTogewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6KeS6Imy5ZCN56ew5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0gLy8gT3JkZXJTb3J0OiB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5o6S5bqP5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0sCgogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+ihqOagvOmAieaLqeS6i+S7tgogICAgc2VsZWN0Q2hhbmdlRXZlbnQ6IGZ1bmN0aW9uIHNlbGVjdENoYW5nZUV2ZW50KF9yZWYpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciByZWNvcmRzID0gX3JlZi5yZWNvcmRzOwogICAgICB0aGlzLmZvcm1EYXRhLlBlcm1pc3Npb25JZHMgPSBbXTsKICAgICAgcmVjb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX3RoaXMuZm9ybURhdGEuUGVybWlzc2lvbklkcy5wdXNoKGl0ZW0uUGVybWlzc2lvbklkKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W6I+c5Y2V5L+h5oGv5YiX6KGoCiAgICBnZXRUYWJsZURhdGE6IGZ1bmN0aW9uIGdldFRhYmxlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TGlzdCh7CiAgICAgICAgICAgICAgICAgIFBhZ2VOdW1iZXI6IDEsCiAgICAgICAgICAgICAgICAgIFBhZ2VTaXplOiA5OTk5CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi50YWJsZURhdGEgPSBfdGhpczIuY29udmVydChudWxsLCByZXMuUmVzcG9uc2UuaXRlbXMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/pgJLlvZIKICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQocGlkLCBhcnIpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcmVzdWx0YXJyID0gYXJyLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiBwLlBhcmVudElkID09IHBpZDsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0YXJyLmxlbmd0aCA+IDApIHsKICAgICAgICByZXN1bHRhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5jaGlsZHJlbiA9IFtdOwogICAgICAgICAgaXRlbS5jaGlsZHJlbiA9IF90aGlzMy5jb252ZXJ0KGl0ZW0uUGVybWlzc2lvbklkLCBhcnIpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0YXJyOwogICAgfSwKICAgIC8v5YWz6Zet5by55qGGCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnMucmVmRm9ybS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLiRyZWZzWyd0YWJsZSddLmNsZWFyQ2hlY2tib3hSb3coKTsKICAgICAgdGhpcy5mb3JtRGF0YS5QZXJtaXNzaW9uSWRzID0gW107CiAgICAgIHRoaXMuZm9ybUNvbmZpZy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy/mlbDnu4Tljrvph40KICAgIGZpbHRlckRhdGE6IGZ1bmN0aW9uIGZpbHRlckRhdGEoYXJyKSB7CiAgICAgIHZhciBuZXdBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldChhcnIpKTsgLy/liKnnlKjkuoZTZXTnu5PmnoTkuI3og73mjqXmlLbph43lpI3mlbDmja7nmoTnibnngrkKCgogICAgICByZXR1cm4gbmV3QXJyOwogICAgfSwKICAgIC8vIOaPkOS6pAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzLnJlZkZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMih2YWxpZCkgewogICAgICAgICAgdmFyIGFycjsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczQuZm9ybUNvbmZpZy5vcHQgPT0gJ2FkZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRvcmdhbml6YXRpb25yb2xlcyh0aGF0LmZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uuc3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgIHRoYXQuJGVtaXQoInN1Ym1pdCIpOwogICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZUNsb3NlKCk7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICBpZiAoISh0aGF0LmZvcm1Db25maWcub3B0ID09ICdlZGl0JykpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBhcnIgPSB0aGF0LiR1dGlsc0Z1bi5jb21wYXJlT2JqKHRoYXQuZm9ybURhdGEsIHRoYXQuZm9ybURhdGFDb3B5LCBbJ1Blcm1pc3Npb25JZHMnXSk7CiAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBvcDogJ1JlcGxhY2UnLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICdQZXJtaXNzaW9uSWRzJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3RoaXM0LmZvcm1EYXRhLlBlcm1pc3Npb25JZHMKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JnYW5pemF0aW9ucm9sZXMoewogICAgICAgICAgICAgICAgICAgIFJvbGVJZDogdGhhdC5mb3JtRGF0YS5Sb2xlSWQsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogYXJyCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCLnvJbovpHmiJDlip8iKTsKCiAgICAgICAgICAgICAgICAgIHRoYXQuJGVtaXQoInN1Ym1pdCIpOwogICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZUNsb3NlKCk7CgogICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJblvLnmoYbvvIzojrflj5bor6bmg4UKICAgIGdldERldGFpbDogZnVuY3Rpb24gZ2V0RGV0YWlsKHBhcmFtKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEocGFyYW0ub3B0ID09ICIiIHx8IHBhcmFtLm9wdCA9PSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoIuacquefpeaTjeS9nCIpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXM1LmZvcm1Db25maWcgPSBPYmplY3QuYXNzaWduKF90aGlzNS5mb3JtQ29uZmlnLCBwYXJhbSk7CgogICAgICAgICAgICAgICAgX3RoaXM1LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5mb3JtRGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHsKICAgICAgICAgICAgICAgICAgICBFbmFibGVkOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7IC8vIOe8lui+keS5i+WJjeWFiOWOu+afpeivouivpuaDhQoKCiAgICAgICAgICAgICAgICBpZiAoIShwYXJhbS5vcHQgPT09ICJlZGl0IikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIG9yZ2FuaXphdGlvbnJvbGVzRGV0YWlsKHBhcmFtLlJvbGVJZCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM1LmZvcm1Db25maWcucmVuZGVyVmlldyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzNS4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXMuUmVzcG9uc2UuUGVybWlzc2lvbklkcyA9IHJlcy5SZXNwb25zZS5QZXJtaXNzaW9uSWRzOwogICAgICAgICAgICAgICAgICBfdGhpczUuZm9ybURhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCByZXMuUmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICBfdGhpczUuZm9ybUNvbmZpZy5yZW5kZXJWaWV3ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzNS5mb3JtRGF0YUNvcHkgPSByZXMuUmVzcG9uc2U7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfdGhpczUuZm9ybUNvbmZpZy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;EACAA,IADA,kBACA;IACA;MACA;MACAC;QACAC,SADA;QAEAC,cAFA;QAGAC,YAHA;QAIAC,OAJA;QAKAC,aALA;QAMAC,YANA;QAOAC,YAPA;QAQAC;MARA,CAFA;MAYAC,aAZA;MAaA;MACAC;QACAC;MADA,CAdA;MAiBA;MACAC;QACAC;UACAC,cADA;UAEAC,mBAFA;UAGAC;QAHA,CADA,CAMA;;MANA;IAlBA;EA2BA,CA7BA;EA8BAC,OA9BA,qBA8BA;IACA;EACA,CAhCA;EAiCAC;IACA;IACAC,iBAFA,mCAEA;MAAA;;MAAA;MACA;MACAC;QACA;MACA,CAFA;IAGA,CAPA;IAQA;IACAC,YATA,0BASA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;kBACAC,aADA;kBAEAC;gBAFA,EADA;;cAAA;gBACAC,GADA;gBAKA;;cALA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAMA,CAfA;IAgBA;IACAC,OAjBA,mBAiBAC,GAjBA,EAiBAC,GAjBA,EAiBA;MAAA;;MACA;QAAA;MAAA;;MACA;QACAC;UACAC;UACAA;QACA,CAHA;MAIA;;MACA;IACA,CA1BA;IA2BA;IACAC,WA5BA,yBA4BA;MACA;MACA;MACA;MACA;IACA,CAjCA;IAkCA;IACAC,UAnCA,sBAmCAJ,GAnCA,EAmCA;MACA,8CADA,CACA;;;MACA;IACA,CAtCA;IAuCA;IACAK,MAxCA,oBAwCA;MAAA;;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAC,KADA;oBAAA;oBAAA;kBAAA;;kBAAA,MAEA,8BAFA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAGAC,mCAHA;;gBAAA;kBAIAC;kBACAA;kBACAA;;gBANA;kBAAA,MAQAA,6BARA;oBAAA;oBAAA;kBAAA;;kBASAR,GATA,GASAQ,8EATA;kBAUAR;oBACAS,aADA;oBAEAC,qBAFA;oBAGAC;kBAHA;kBAVA;kBAAA,OAeAC;oBACAC,4BADA;oBAEA1C;kBAFA,EAfA;;gBAAA;kBAmBA;;kBACAqC;kBACAA;;gBArBA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IAyBA,CAnEA;IAoEA;IACAM,SArEA,qBAqEAC,KArEA,EAqEA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACAA,oCADA;kBAAA;kBAAA;gBAAA;;gBAAA,kCAEA,6BAFA;;cAAA;gBAIA;;gBACA;kBACA;oBAAAC;kBAAA;gBACA,CAFA,EALA,CAQA;;;gBARA,MASAD,oBATA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAUAE,qCAVA;;cAAA;gBAUApB,GAVA;gBAWA;;gBACA;kBACAA;kBACA;kBACA;gBACA,CAJA;;gBAKA;;cAjBA;gBAmBA;;cAnBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAoBA;EAzFA;AAjCA","names":["data","formConfig","title","visible","width","opt","height","moduleId","tenantid","renderView","tableData","formData","PermissionIds","formRules","RoleName","required","message","trigger","created","methods","selectChangeEvent","records","getTableData","getList","PageNumber","PageSize","res","convert","pid","arr","resultarr","item","handleClose","filterData","submit","valid","addorganizationroles","that","op","path","value","Editorganizationroles","RoleId","getDetail","param","Enabled","organizationrolesDetail"],"sourceRoot":"src/views/systemManage/organizationroles/components","sources":["pageEdit.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"formConfig.title\"\r\n    :visible=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :height=\"formConfig.height\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    top=\"10vh\"\r\n  >\r\n  <div slot=\"title\" class=\"dialog-title\">\r\n  \t<div class=\"sectionstly\"></div>\r\n  \t<span class=\"title-text\">{{formConfig.title}}</span>\r\n  \t<div class=\"button-right\">\r\n  \t\t<span class=\"title-close\" @click=\"handleClose\"></span>\r\n  \t</div>\r\n  </div>\r\n    <el-form :model=\"formData\" :rules=\"formRules\" ref=\"refForm\" class=\"form_row\" label-width=\"100px\">\r\n      <div class=\"el-dialog-div-30\" style=\"height: 60vh\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"角色名称:\" prop=\"RoleName\">\r\n              <el-input v-model=\"formData.RoleName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"权限范围:\" prop=\"AuthorityScope\">\r\n              <el-select v-model=\"formData.AuthorityScope\" placeholder=\"请选择权限范围\" clearable>\r\n                <el-option label=\"无任何权限\" value=\"-1\"></el-option>\r\n                <el-option label=\"自定义权限\" value=\"1\"></el-option>\r\n                <el-option label=\"本部门\" value=\"2\"></el-option>\r\n                <el-option label=\"本部门及以下\" value=\"3\"></el-option>\r\n                <el-option label=\"仅自己\" value=\"4\"></el-option>\r\n                <el-option label=\"全部\" value=\"9\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"排序:\" prop=\"OrderSort\">\r\n              <el-input v-model=\"formData.OrderSort\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <el-form-item label=\"激活状态:\" prop=\"Enabled\">\r\n              <el-checkbox v-model=\"formData.Enabled\"></el-checkbox>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"菜单权限:\" prop=\"PermissionIds\">\r\n              <vxe-table\r\n                resizable\r\n                :data=\"tableData\"\r\n                height=\"300\"\r\n                ref=\"table\"\r\n                border\r\n                v-if=\"formConfig.renderView\"\r\n                row-id=\"PermissionId\"\r\n                :tree-config=\"{ children: 'children', expandAll: true }\"\r\n                :checkbox-config=\"{\r\n                  checkRowKeys: formData.PermissionIds,\r\n                  checkStrictly:true\r\n                }\"\r\n                @checkbox-change=\"selectChangeEvent\"\r\n                @checkbox-all=\"selectChangeEvent\"\r\n              >\r\n                <vxe-table-column type=\"checkbox\" title=\"\" width=\"200\" tree-node></vxe-table-column>\r\n                <vxe-table-column field=\"PermissionName\" title=\"菜单\" width=\"200\" />\r\n                <vxe-table-column field=\"IsButton\" title=\"是否按钮\" width=\"80\" align=\"center\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-tag type=\"success\" v-if=\"scope.row.IsButton == true\">是</el-tag>\r\n                    <el-tag type=\"danger\" v-else>否</el-tag>\r\n                  </template>\r\n                </vxe-table-column>\r\n                <vxe-table-column field=\"IsHide\" title=\"是否隐藏\" width=\"80\" align=\"center\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-tag type=\"success\" v-if=\"scope.row.IsHide == true\">是</el-tag>\r\n                    <el-tag type=\"danger\" v-else>否</el-tag>\r\n                  </template>\r\n                </vxe-table-column>\r\n                <vxe-table-column field=\"Enabled\" title=\"是否激活\" width=\"80\" align=\"center\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-tag type=\"success\" v-if=\"scope.row.Enabled == true\">是</el-tag>\r\n                    <el-tag type=\"danger\" v-else>否</el-tag>\r\n                  </template>\r\n                </vxe-table-column>\r\n                <vxe-table-column field=\"Description\" title=\"描述\" />\r\n              </vxe-table>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"描述:\" prop=\"Description\">\r\n              <el-input v-model=\"formData.Description\" type=\"textarea\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button class=\"cancelbtn\" @click=\"handleClose\">取 消</el-button>\r\n      <el-button class=\"savebtn\"  type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getList } from \"@/api/systemManage/OrganizationPermission\";\r\nimport { organizationrolesDetail, addorganizationroles, Editorganizationroles } from \"@/api/systemManage/OrganizationRole\";\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 表单配置\r\n      formConfig: {\r\n        title: \"\",\r\n        visible: false,\r\n        width: \"70%\",\r\n        opt: \"\",\r\n        height: \"70%\",\r\n        moduleId: \"\",\r\n        tenantid: \"\",\r\n        renderView: true,\r\n      },\r\n      tableData: [],\r\n      // 表单数据\r\n      formData: {\r\n        PermissionIds: []\r\n      },\r\n      // 验证规则\r\n      formRules: {\r\n        RoleName: {\r\n          required: true,\r\n          message: \"角色名称不能为空\",\r\n          trigger: \"blur\",\r\n        },\r\n        // OrderSort: { required: true, message: \"排序不能为空\", trigger: \"blur\" },\r\n      },\r\n    };\r\n  },\r\n  created () {\r\n    this.getTableData();\r\n  },\r\n  methods: {\r\n    //表格选择事件\r\n    selectChangeEvent ({ records }) {\r\n      this.formData.PermissionIds = [];\r\n      records.forEach((item) => {\r\n        this.formData.PermissionIds.push(item.PermissionId);\r\n      });\r\n    },\r\n    // 获取菜单信息列表\r\n    async getTableData () {\r\n      let res = await getList({\r\n        PageNumber: 1,\r\n        PageSize: 9999,\r\n      })\r\n      this.tableData = this.convert(null, res.Response.items);\r\n    },\r\n    //递归\r\n    convert (pid, arr) {\r\n      let resultarr = arr.filter(p => p.ParentId == pid);\r\n      if (resultarr.length > 0) {\r\n        resultarr.forEach((item) => {\r\n          item.children = [];\r\n          item.children = this.convert(item.PermissionId, arr)\r\n        });\r\n      }\r\n      return resultarr;\r\n    },\r\n    //关闭弹框\r\n    handleClose () {\r\n      this.$refs.refForm.resetFields();\r\n      this.$refs['table'].clearCheckboxRow();\r\n      this.formData.PermissionIds = []\r\n      this.formConfig.visible = false;\r\n    },\r\n    //数组去重\r\n    filterData (arr) {\r\n      var newArr = [...new Set(arr)]; //利用了Set结构不能接收重复数据的特点\r\n      return newArr;\r\n    },\r\n    // 提交\r\n    submit () {\r\n      let that = this;\r\n      this.$refs.refForm.validate(async (valid) => {\r\n        if (valid) {\r\n          if (this.formConfig.opt == 'add') {\r\n            await addorganizationroles(that.formData);\r\n            that.$message.success(\"新增成功\");\r\n            that.$emit(\"submit\")\r\n            that.handleClose()\r\n          }\r\n          if (that.formConfig.opt == 'edit') {\r\n            let arr = that.$utilsFun.compareObj(that.formData, that.formDataCopy, ['PermissionIds'])\r\n            arr.push({\r\n              op: 'Replace',\r\n              path: 'PermissionIds',\r\n              value: this.formData.PermissionIds,\r\n            })\r\n            await Editorganizationroles({\r\n              RoleId: that.formData.RoleId,\r\n              data: arr\r\n            })\r\n            this.$message.success(\"编辑成功\");\r\n            that.$emit(\"submit\")\r\n            that.handleClose()\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 初始化弹框，获取详情\r\n    async getDetail (param) {\r\n      if (param.opt == \"\" || param.opt == null) {\r\n        return this.$message.error(\"未知操作\");\r\n      }\r\n      this.formConfig = Object.assign(this.formConfig, param);\r\n      this.$nextTick(() => {\r\n        this.formData = { ...{ Enabled: true } }\r\n      })\r\n      // 编辑之前先去查询详情\r\n      if (param.opt === \"edit\") {\r\n        let res = await organizationrolesDetail(param.RoleId);\r\n        this.formConfig.renderView = false;\r\n        this.$nextTick(() => {\r\n          res.Response.PermissionIds = res.Response.PermissionIds;\r\n          this.formData = { ...res.Response }\r\n          this.formConfig.renderView = true;\r\n        })\r\n        this.formDataCopy = res.Response\r\n      }\r\n      this.formConfig.loading = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}