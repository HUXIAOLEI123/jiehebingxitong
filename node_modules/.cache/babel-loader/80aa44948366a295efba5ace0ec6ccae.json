{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\tabComponents\\components\\pageEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\tabComponents\\components\\pageEdit.vue","mtime":1678931188657},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdHViZXJjdWxvc2lzLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBwdWxtb25hcnliYWRyZWFjdGlvbnNCYWRyZWFjdGlvbiB9IGZyb20gJ0AvYXBpL1B1bG1vbmFyeUJhZFJlYWN0aW9uLmpzJzsgLy8g5a2X5YW4CgppbXBvcnQgeyB1c2VkaWN0aW9uYXJ5ZGV0YWlscyB9IGZyb20gJ0AvYXBpL2RpY3QuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOihqOWNlemFjee9rgogICAgICBmb3JtQ29uZmlnOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHdpZHRoOiAiNDUlIiwKICAgICAgICBsb2FkaW5nOiBmYWxzZQogICAgICB9LAogICAgICAvLyDooajljZXmlbDmja4KICAgICAgZm9ybURhdGE6IHsKICAgICAgICBEYXRhU291cmNlczogMgogICAgICB9LAogICAgICBBMDAyMDogW10sCiAgICAgIC8vIOmqjOivgeinhOWImQogICAgICBmb3JtUnVsZXM6IHsKICAgICAgICBBZHZlcnNlUmVhY3Rpb246IHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuS4jeiJr+WPjeW6lOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LAogICAgICAgIEFkdmVyc2VSZWFjdGlvbmR1cmF0aW9uOiB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLkuI3oia/lj43lupTml7bplb/kuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mdW51c2VkaWN0aW9uYXJ5ZGV0YWlscygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/lhbPpl63lvLnmoYYKICAgIGhhbmRsZUNsb3NlOiBmdW5jdGlvbiBoYW5kbGVDbG9zZSgpIHsKICAgICAgdGhpcy4kcmVmcy5yZWZGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuZm9ybUNvbmZpZy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy8g5a2X5YW45pWw5o2uICvlpITnkIYKICAgIGZ1bnVzZWRpY3Rpb25hcnlkZXRhaWxzOiBmdW5jdGlvbiBmdW51c2VkaWN0aW9uYXJ5ZGV0YWlscygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VkaWN0aW9uYXJ5ZGV0YWlscyh7CiAgICAgICAgICAgICAgICAgIENhdGVnb3J5Q29kZTogWydBMDAyMCddLAogICAgICAgICAgICAgICAgICBQYWdlTnVtYmVyOiAxLAogICAgICAgICAgICAgICAgICBQYWdlU2l6ZTogMzAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzLlJlc3BvbnNlLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uQ2F0ZWdvcnlDb2RlID09ICdBMDAyMCcpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5BMDAyMC5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaPkOS6pAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzLnJlZkZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHZhbGlkKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBwdWxtb25hcnliYWRyZWFjdGlvbnNCYWRyZWFjdGlvbihfdGhpczIuZm9ybURhdGEpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwoKICAgICAgICAgICAgICAgICAgdGhhdC4kZW1pdCgic3VibWl0Iik7CiAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlQ2xvc2UoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJblvLnmoYbvvIzojrflj5bor6bmg4UKICAgIGdldERldGFpbDogZnVuY3Rpb24gZ2V0RGV0YWlsKHBhcmFtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHBhcmFtLm9wdCA9PSAiIiB8fCBwYXJhbS5vcHQgPT0gbnVsbCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLmnKrnn6Xmk43kvZwiKTsKICAgICAgfQoKICAgICAgdGhpcy5mb3JtQ29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1Db25maWcsIHBhcmFtKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5mb3JtRGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMzLmZvcm1EYXRhKSwgcGFyYW0uZm9ybURhdGEpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,iF,CACA;;AACA;AACA;EACAA,IADA,kBACA;IACA;MACA;MACAC;QACAC,SADA;QAEAC,cAFA;QAGAC,YAHA;QAIAC;MAJA,CAFA;MAQA;MACAC;QACAC;MADA,CATA;MAYAC,SAZA;MAaA;MACAC;QACAC;UAAAC;UAAAC;UAAAC;QAAA,CADA;QAEAC;UAAAH;UAAAC;UAAAC;QAAA;MAFA;IAdA;EAmBA,CArBA;EAsBAE,OAtBA,qBAsBA;IACA;EACA,CAxBA;EAyBAC;IACA;IACAC,WAFA,yBAEA;MACA;MACA;IACA,CALA;IAMA;IACAC,uBAPA,qCAOA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;kBACAC,uBADA;kBAEAC,aAFA;kBAGAC;gBAHA,EADA;;cAAA;gBACAC,GADA;gBAMAA;kBACA;oBACA;kBACA;gBACA,CAJA;;cANA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWA,CAlBA;IAmBA;IACAC,MApBA,oBAoBA;MAAA;;MACA;MACA;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAC,KADA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAEAC,iDAFA;;gBAAA;kBAGA;;kBACAC;kBACAA;;gBALA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IAQA,CA9BA;IA+BA;IACAC,SAhCA,qBAgCAC,KAhCA,EAgCA;MAAA;;MACA;QACA;MACA;;MACA;MACA;QACA;MACA,CAFA;IAGA;EAxCA;AAzBA","names":["data","formConfig","title","visible","width","loading","formData","DataSources","A0020","formRules","AdverseReaction","required","message","trigger","AdverseReactionduration","created","methods","handleClose","funusedictionarydetails","usedictionarydetails","CategoryCode","PageNumber","PageSize","res","submit","valid","pulmonarybadreactionsBadreaction","that","getDetail","param"],"sourceRoot":"src/views/patientManagement/patientManagement/components/tabComponents/components","sources":["pageEdit.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"formConfig.title\"\r\n    :visible.sync=\"formConfig.visible\"\r\n    :width=\"formConfig.width\"\r\n    :height=\"formConfig.height\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"handleClose\"\r\n    top=\"25vh\"\r\n  >\r\n    <div slot=\"title\" class=\"dialog-title\">\r\n      <div class=\"sectionstly\"></div>\r\n      <span class=\"title-text\">{{ formConfig.title }}</span>\r\n      <div class=\"button-right\">\r\n        <span class=\"title-close\" @click=\"handleClose\"></span>\r\n      </div>\r\n    </div>\r\n    <el-form :model=\"formData\" :rules=\"formRules\" v-loading=\"formConfig.loading\" ref=\"refForm\" label-width=\"120px\" class=\"form_row\" :inline=\"false\">\r\n      <div class=\"el-dialog-div\" style=\"height: 30vh\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"不良反应:\" prop=\"AdverseReaction\">\r\n              <el-input v-model=\"formData.AdverseReaction\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"其他不良反应:\" prop=\"AdverseReactionOther\">\r\n              <el-input v-model=\"formData.AdverseReactionOther\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"不良反应时长:\" prop=\"AdverseReactionduration\">\r\n              <el-select v-model=\"formData.AdverseReactionduration\">\r\n                <el-option v-for=\"item in A0020\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"处置方法:\" prop=\"ManagementMethod\">\r\n              <el-input v-model=\"formData.ManagementMethod\" type=\"textarea\" :rows=\"4\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button class=\"cancelbtn\" @click=\"handleClose\">取 消</el-button>\r\n      <el-button class=\"savebtn\" type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { pulmonarybadreactionsBadreaction } from '@/api/PulmonaryBadReaction.js'\r\n// 字典\r\nimport { usedictionarydetails } from '@/api/dict.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 表单配置\r\n      formConfig: {\r\n        title: \"\",\r\n        visible: false,\r\n        width: \"45%\",\r\n        loading: false,\r\n      },\r\n      // 表单数据\r\n      formData: {\r\n        DataSources: 2\r\n      },\r\n      A0020: [],\r\n      // 验证规则\r\n      formRules: {\r\n        AdverseReaction: { required: true, message: \"不良反应不能为空\", trigger: \"blur\" },\r\n        AdverseReactionduration: { required: true, message: \"不良反应时长不能为空\", trigger: \"change\" }\r\n      },\r\n    };\r\n  },\r\n  created () {\r\n    this.funusedictionarydetails()\r\n  },\r\n  methods: {\r\n    //关闭弹框\r\n    handleClose () {\r\n      this.$refs.refForm.resetFields();\r\n      this.formConfig.visible = false;\r\n    },\r\n    // 字典数据 +处理\r\n    async funusedictionarydetails () {\r\n      const res = await usedictionarydetails({\r\n        CategoryCode: ['A0020'],\r\n        PageNumber: 1,\r\n        PageSize: 30\r\n      })\r\n      res.Response.items.forEach(item => {\r\n        if (item.CategoryCode == 'A0020') {\r\n          this.A0020.push(item)\r\n        }\r\n      })\r\n    },\r\n    // 提交\r\n    submit () {\r\n      let that = this;\r\n      this.$refs.refForm.validate(async (valid) => {\r\n        if (valid) {\r\n          await pulmonarybadreactionsBadreaction(this.formData)\r\n          this.$message.success(\"新增成功\");\r\n          that.$emit(\"submit\")\r\n          that.handleClose()\r\n        }\r\n      });\r\n    },\r\n    // 初始化弹框，获取详情\r\n    getDetail (param) {\r\n      if (param.opt == \"\" || param.opt == null) {\r\n        return this.$message.error(\"未知操作\");\r\n      }\r\n      this.formConfig = Object.assign(this.formConfig, param);\r\n      this.$nextTick(() => {\r\n        this.formData = {...this.formData,...param.formData}\r\n      })\r\n    },\r\n  },\r\n};\r\n\r\n</script>\r\n<style scoped>\r\n.el-cascader {\r\n  width: 100%;\r\n}\r\n.el-dialog-div-30 {\r\n  height: 30vh;\r\n  overflow: auto;\r\n}\r\n.card-title {\r\n  padding: 0 0 10px 24px;\r\n  font-size: 18px;\r\n  color: #303133;\r\n  font-weight: 500;\r\n  font-family: Microsoft YaHei;\r\n}\r\n.card-detail {\r\n  padding: 12px 0 12px 0;\r\n  border: 1px solid #ebebeb;\r\n  border-radius: 3px;\r\n  margin-bottom: 8px;\r\n}\r\n.card-two .card-detail {\r\n  height: 350px;\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n}\r\n.card-detail::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.el-dialog-div-30::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.el-dialog .el-dialog__body .el-form .el-form-item__label,\r\n.el-dialog .el-drawer__body .el-form .el-form-item__label,\r\n.el-drawer .el-dialog__body .el-form .el-form-item__label,\r\n.el-drawer .el-drawer__body .el-form .el-form-item__label {\r\n  font-weight: normal !important;\r\n  color: #666 !important;\r\n}\r\n.el-dialog-div-30 /deep/ .el-form-item__label {\r\n  font-weight: normal !important;\r\n  color: #666 !important;\r\n}\r\n.el-input__inner {\r\n  color: #222;\r\n}\r\n.el-dialog-span {\r\n  color: #222;\r\n  margin-left: 8px;\r\n}\r\n</style>\r\n"]}]}