{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\layout\\components\\AppHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\layout\\components\\AppHeader.vue","mtime":1678931188545},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0TG9naW5JbmZvIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IHsgc3NvTG9nb3V0LCBzc29hdXRodXJsIH0gZnJvbSAnQC9hcGkvU3NvJzsKaW1wb3J0IHsgcmVtb3ZlV2F0ZXJtYXJrLCBzZXRXYXRlck1hcmsgfSBmcm9tICJAL3V0aWxzL3dhdGVyTWFyayI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwSGVhZGVyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmlnVGl0bGU6IHRoaXMuJGJpZ1RpdGxlLAogICAgICB1c2VySW5mbzoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy51c2VySW5mbyA9IHRoaXMuJHV0aWxzRnVuLmdldFVzZXJJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+S4quS6uuS/oeaBr+afpeeciwogICAgZ290b0luZm86IGZ1bmN0aW9uIGdvdG9JbmZvKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3VzZXJJbmZvIik7CiAgICB9LAogICAgLy/mn6XnnIvlpKflsY8KICAgIGdvdG9JbmRleENvbnRyb2w6IGZ1bmN0aW9uIGdvdG9JbmRleENvbnRyb2woKSB7CiAgICAgIHZhciByb3V0ZVVybCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAiL2luZGV4Q29udHJvbCIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiA5NgogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdpbmRvdy5vcGVuKHJvdXRlVXJsLmhyZWYsICdfYmxhbmsnKTsKICAgIH0sCiAgICBnb3RvTWVuSHU6IGZ1bmN0aW9uIGdvdG9NZW5IdSgpIHsKICAgICAgLy8gaHR0cDovL3poamsuanhjZGMuY246ODg2OS9zbWFydGNkYwogICAgICAvLyBodHRwOi8vMTgyLjEwNi4xMjkuMTA0OjgxODEvc21hcnRjZGMKICAgICAgd2luZG93Lm9wZW4oJ2h0dHA6Ly96aGprLmp4Y2RjLmNuOjg4Njkvc21hcnRjZGMnLCAnX2JsYW5rJyk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfnoa7lrprpgIDlh7rns7vnu5/lkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHNlc3Npb25JZCA9IF90aGlzLiR1dGlsc0Z1bi5nZXRVc2VySW5mbygpLnNlc3Npb25JZDsKCiAgICAgICAgaWYgKHNlc3Npb25JZCkgewogICAgICAgICAgc3NvTG9nb3V0KHsKICAgICAgICAgICAgYmFjazogInNzc3MiCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgc3NvYXV0aHVybCh7CiAgICAgICAgICAgICAgY2xpZW50TG9naW5Vcmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfUkVESVJFQ1RVUkwgKyAncmVkaXJlY3QnCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHJlcy5SZXNwb25zZSwgJ19zZWxmJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICByZW1vdmVXYXRlcm1hcmsoKTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0Jyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlci9sb2dvdXQnKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbj9yZWRpcmVjdD0iLmNvbmNhdChfdGhpcy4kcm91dGUuZnVsbFBhdGgpKTsKCiAgICAgICAgICByZW1vdmVXYXRlcm1hcmsoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;EACAA,iBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,wBADA;MAEAC;IAFA;EAIA,CAPA;EAQAC,OARA,qBAQA;IACA;EACA,CAVA;EAWAC;IACA;IACAC,QAFA,sBAEA;MACA;IACA,CAJA;IAKA;IACAC,gBANA,8BAMA;MACA;QACAC,qBADA;QAEAC;UAAAC;QAAA;MAFA;MAIAC;IACA,CAZA;IAaAC,SAbA,uBAaA;MACA;MACA;MACAD;IACA,CAjBA;IAkBAE,MAlBA,oBAkBA;MAAA;;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAC,IAJA,CAIA;QACA;;QACA;UACAC;YAAAC;UAAA;YACAC;cAAAC;YAAA;cACAV;YACA,CAFA;UAGA,CAJA;UAKAW;;UACA;QACA,CARA,MAQA;UACA;;UACA;;UACAA;QACA;MACA,CAnBA;IAoBA;EAvCA;AAXA","names":["name","data","bigTitle","userInfo","created","methods","gotoInfo","gotoIndexControl","path","query","id","window","gotoMenHu","logout","confirmButtonText","cancelButtonText","type","then","ssoLogout","back","ssoauthurl","clientLoginUrl","removeWatermark"],"sourceRoot":"src/layout/components","sources":["AppHeader.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-header\">\r\n    <div class=\"header-l\">\r\n      <img src=\"../../assets/index-logo2.png\" class=\"logo2\" />\r\n    </div>\r\n    <div class=\"title\">{{ bigTitle }}</div>\r\n    <div class=\"headerRigh\">\r\n      <div class=\"header-r\">\r\n        <div class=\"toUser\" @click=\"gotoMenHu\">\r\n          <i class=\"el-icon-s-home\"></i>\r\n          <span style=\"margin-left: 2px; cursor: pointer\">返回门户</span>\r\n        </div>\r\n        <!-- <div class=\"userinfo\" @click=\"gotoIndexControl\">\r\n          <i class=\"el-icon-pie-chart\" style=\"margin-right: 5px\"></i>\r\n          可视化平台\r\n        </div> -->\r\n        <img src=\"../../assets/userheader.svg\" alt=\" \" class=\"headportrait\" />\r\n        <div class=\"userinfo\" style=\"cursor: pointer\" @click=\"gotoInfo\">个人信息</div>\r\n        <div class=\"right-loginout pointer\" @click=\"logout\">\r\n          <i class=\"el-icon-switch-button\" style=\"width: 20px; height: 20px; margin-right: 30px\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getLoginInfo } from '@/utils/auth'\r\nimport { ssoLogout, ssoauthurl } from '@/api/Sso'\r\nimport { removeWatermark, setWaterMark } from \"@/utils/waterMark\";\r\nexport default {\r\n  name: 'AppHeader',\r\n  data () {\r\n    return {\r\n      bigTitle: this.$bigTitle,\r\n      userInfo: {},\r\n    }\r\n  },\r\n  created () {\r\n    this.userInfo = this.$utilsFun.getUserInfo();\r\n  },\r\n  methods: {\r\n    //个人信息查看\r\n    gotoInfo () {\r\n      this.$router.push(`/userInfo`)\r\n    },\r\n    //查看大屏\r\n    gotoIndexControl () {\r\n      let routeUrl = this.$router.resolve({\r\n        path: \"/indexControl\",\r\n        query: { id: 96 }\r\n      });\r\n      window.open(routeUrl.href, '_blank');\r\n    },\r\n    gotoMenHu () {\r\n      // http://zhjk.jxcdc.cn:8869/smartcdc\r\n      // http://182.106.129.104:8181/smartcdc\r\n      window.open('http://zhjk.jxcdc.cn:8869/smartcdc', '_blank');\r\n    },\r\n    logout () {\r\n      this.$confirm('确定退出系统吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let sessionId = this.$utilsFun.getUserInfo().sessionId;\r\n        if (sessionId) {\r\n          ssoLogout({ back: \"ssss\" }).then((res) => {\r\n            ssoauthurl({ clientLoginUrl: process.env.VUE_APP_REDIRECTURL + 'redirect' }).then((res) => {\r\n              window.open(res.Response, '_self');\r\n            })\r\n          })\r\n          removeWatermark();\r\n          this.$store.dispatch('user/logout')\r\n        } else {\r\n          this.$store.dispatch('user/logout')\r\n          this.$router.push(`/login?redirect=${this.$route.fullPath}`)\r\n          removeWatermark();\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.header-r {\r\n  float: right;\r\n}\r\n</style>\r\n"]}]}