{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\components\\Editor\\Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\components\\Editor\\Editor.vue","mtime":1678931188504},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gcmVxdWlyZSBzdHlsZXMKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmNvcmUuY3NzJzsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLnNub3cuY3NzJzsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmJ1YmJsZS5jc3MnOwppbXBvcnQgeyBxdWlsbEVkaXRvciB9IGZyb20gJ3Z1ZS1xdWlsbC1lZGl0b3InOyAvLyDorr7nva50aXRsZQoKaW1wb3J0IHsgYWRkUXVpbGxUaXRsZSB9IGZyb20gJy4vcXVpbGwtdGl0bGUuanMnOwppbXBvcnQgeyBmaWxlU3RvcmFnZUluZm91cGxvYWQgfSBmcm9tICJAL2FwaS9GaWxlU3RvcmFnZUluZm8uanMiOyAvLyDlt6XlhbfmoI8KCnZhciB0b29sYmFyT3B0aW9ucyA9IFtbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdzdHJpa2UnXSwgLy8gdG9nZ2xlZCBidXR0b25zClsnYmxvY2txdW90ZScsICdjb2RlLWJsb2NrJ10sIFt7CiAgJ2hlYWRlcic6IDEKfSwgewogICdoZWFkZXInOiAyCn1dLCBbewogICdsaXN0JzogJ29yZGVyZWQnCn0sIHsKICAnbGlzdCc6ICdidWxsZXQnCn1dLCBbewogICdzY3JpcHQnOiAnc3ViJwp9LCB7CiAgJ3NjcmlwdCc6ICdzdXBlcicKfV0sIC8vIHN1cGVyc2NyaXB0L3N1YnNjcmlwdApbewogICdpbmRlbnQnOiAnLTEnCn0sIHsKICAnaW5kZW50JzogJysxJwp9XSwgLy8gb3V0ZGVudC9pbmRlbnQKW3sKICAnZGlyZWN0aW9uJzogJ3J0bCcKfV0sIFt7CiAgJ3NpemUnOiBbJ3NtYWxsJywgZmFsc2UsICdsYXJnZScsICdodWdlJ10KfV0sIFt7CiAgJ2hlYWRlcic6IFsxLCAyLCAzLCA0LCA1LCA2LCBmYWxzZV0KfV0sIFt7CiAgJ2ZvbnQnOiBbXQp9XSwgW3sKICAnY29sb3InOiBbXQp9LCB7CiAgJ2JhY2tncm91bmQnOiBbXQp9XSwgLy8gZHJvcGRvd24gd2l0aCBkZWZhdWx0cyBmcm9tIHRoZW1lClt7CiAgJ2FsaWduJzogW10KfV0sIFt7CiAgJ2NsZWFuJzogJ+a4hemZpCcKfV0sIC8vIHJlbW92ZSBmb3JtYXR0aW5nIGJ1dHRvbgovLyBbJ2xpbmsnLCAnaW1hZ2UnLCAndmlkZW8nXQpbJ2ltYWdlJywgJ3ZpZGVvJ11dOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JpY2hUZXh0RWRpdG9yJywKICBtb2RlbDogewogICAgcHJvcDogJ2NvbnRlbnQnLAogICAgZXZlbnQ6ICdjaGFuZ2UnCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBxdWlsbEVkaXRvcjogcXVpbGxFZGl0b3IKICB9LAogIHByb3BzOiB7CiAgICBjb250ZW50OiB7CiAgICAgIC8vIOi/lOWbnueahGh0bWzniYfmrrUKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHVwbG9hZEltZ0NvbmZpZzogewogICAgICAvLyDlm77niYfkuIrkvKDphY3nva4gLSDoi6XkuI3phY3nva7liJnkvb/nlKhxdWlsbEVkaXRvcum7mOiupOaWueW8j++8jOWNs2Jhc2U2NOaWueW8jwogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB1cGxvYWRVcmw6ICcnLAogICAgICAgICAgLy8g5Zu+54mH5LiK5Lyg5Zyw5Z2ACiAgICAgICAgICBtYXhTaXplOiAyLAogICAgICAgICAgLy8g5Zu+54mH5LiK5Lyg5aSn5bCP6ZmQ5Yi277yM6buY6K6k5LiN6LaF6L+HMk0KICAgICAgICAgIG5hbWU6ICdGaWxlZGF0YScgLy8g5Zu+54mH5LiK5Lyg5a2X5q61CgogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICB1cGxvYWRWaWRlb0NvbmZpZzogewogICAgICAvLyDop4bpopHkuIrkvKDphY3nva4KICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdXBsb2FkVXJsOiAnJywKICAgICAgICAgIC8vIOS4iuS8oOWcsOWdgAogICAgICAgICAgbWF4U2l6ZTogMTAsCiAgICAgICAgICAvLyDlm77niYfkuIrkvKDlpKflsI/pmZDliLbvvIzpu5jorqTkuI3otoXov4cyTQogICAgICAgICAgbmFtZTogJ0ZpbGVkYXRhJyAvLyDlm77niYfkuIrkvKDlrZfmrrUKCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfc2VsZiA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOWKoOi9vWxvYWRpbmcKICAgICAgZWRpdG9yT3B0aW9uOiB7CiAgICAgICAgcGxhY2Vob2xkZXI6ICcnLAogICAgICAgIHRoZW1lOiAnc25vdycsCiAgICAgICAgLy8gb3IgJ2J1YmJsZScKICAgICAgICBtb2R1bGVzOiB7CiAgICAgICAgICB0b29sYmFyOiB7CiAgICAgICAgICAgIGNvbnRhaW5lcjogdG9vbGJhck9wdGlvbnMsCiAgICAgICAgICAgIC8vIOW3peWFt+agjwogICAgICAgICAgICBoYW5kbGVyczogewogICAgICAgICAgICAgICd2aWRlbyc6IGZ1bmN0aW9uIHZpZGVvKHZhbHVlKSB7CiAgICAgICAgICAgICAgICBfc2VsZi52aWRlb0RpYWxvZy5zaG93ID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIOWbvueJh+S4iuS8oOWPmOmHjwogICAgICBmaWxlTGlzdDogW10sCiAgICAgIC8vIOinhumikeS4iuS8oOWPmOmHjwogICAgICB2aWRlb0RpYWxvZzogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIHZpZGVvTGluazogJycsCiAgICAgICAgYWN0aXZlTmFtZTogJ2ZpcnN0JwogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIOWIneWni+e7mee8lui+keWZqOiuvue9rnRpdGxlCiAgICBhZGRRdWlsbFRpdGxlKCk7CiAgICB2YXIgdG9vbGJhciA9IHRoaXMuJHJlZnNbJ215UXVpbGxFZGl0b3InXS5xdWlsbC5nZXRNb2R1bGUoJ3Rvb2xiYXInKTsgLy8g5piv5ZCm5byA5ZCv5Zu+54mH5LiK5Lyg5Yiw5pyN5Yqh5Zmo5Yqf6IO9CgogICAgaWYgKHRoaXMudXBsb2FkSW1nQ29uZmlnLnVwbG9hZFVybCkgewogICAgICB0b29sYmFyLmFkZEhhbmRsZXIoJ2ltYWdlJywgdGhpcy5hZGRJbWFnZUhhbmRsZXIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5paH5pys57yW6L6RCiAgICBvbkVkaXRvckNoYW5nZTogZnVuY3Rpb24gb25FZGl0b3JDaGFuZ2UoX3JlZikgewogICAgICB2YXIgcXVpbGwgPSBfcmVmLnF1aWxsLAogICAgICAgICAgaHRtbCA9IF9yZWYuaHRtbCwKICAgICAgICAgIHRleHQgPSBfcmVmLnRleHQ7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpjb250ZW50JywgaHRtbCk7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGh0bWwpOwogICAgfSwKICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbiBoaWRlTG9hZGluZygpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgLy8gLS0tLS0tLS0tIOWbvueJh+S4iuS8oOebuOWFsyBzdGFydCAtLS0tLS0tLS0KICAgIGFkZEltYWdlSGFuZGxlcjogZnVuY3Rpb24gYWRkSW1hZ2VIYW5kbGVyKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIC8vIOinpuWPkWlucHV05qGG6YCJ5oup5Zu+54mH5paH5Lu2CiAgICAgICAgdGhpcy4kcmVmc1snbXlpbnB1dCddLmNsaWNrKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWlsbC5mb3JtYXQoJ2ltYWdlJywgZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgLy8g5oqK5bey57uP5LiK5Lyg55qE5Zu+54mH5pi+56S65Zue5a+M5paH5pys57yW6L6R5qGG5LitCiAgICB1cGxvYWRTdWNjZXNzOiBmdW5jdGlvbiB1cGxvYWRTdWNjZXNzKGltZ3VybCkgewogICAgICB2YXIgcXVpbGwgPSB0aGlzLiRyZWZzWydteVF1aWxsRWRpdG9yJ10ucXVpbGw7CiAgICAgIHZhciByYW5nZSA9IHF1aWxsLmdldFNlbGVjdGlvbigpOwogICAgICB2YXIgaW5kZXggPSAwOwoKICAgICAgaWYgKHJhbmdlID09IG51bGwpIHsKICAgICAgICBpbmRleCA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5kZXggPSByYW5nZS5pbmRleDsgLy8g6I635Y+W5YWJ5qCH5omA5Zyo5L2N572uCiAgICAgIH0gLy8g5o+S5YWlCgoKICAgICAgcXVpbGwuaW5zZXJ0RW1iZWQoaW5kZXgsICdpbWFnZScsIGltZ3VybCk7IC8vIGltZ3VybOaYr+acjeWKoeWZqOi/lOWbnueahOWbvueJh+mTvuaOpeWcsOWdgAogICAgICAvLyDosIPmlbTlhYnmoIfliLDmnIDlkI4KCiAgICAgIHF1aWxsLnNldFNlbGVjdGlvbihpbmRleCArIDEpOwogICAgfSwKICAgIC8vIGVsLeaWh+S7tuS4iuS8oOe7hOS7tgogICAgb25CZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIG9uQmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGFjY2VwdEFyciA9IFsnaW1hZ2UvanBnJywgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvZ2lmJywgJ2ltYWdlL3BuZyddOwogICAgICB2YXIgaXNJTUFHRSA9IGFjY2VwdEFyci5pbmNsdWRlcyhmaWxlLnR5cGUpOwogICAgICB2YXIgaXNMdDFNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCB0aGlzLnVwbG9hZEltZ0NvbmZpZy5tYXhTaXplOwoKICAgICAgaWYgKCFpc0lNQUdFKSB7CiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPquiDveaPkuWFpeWbvueJh+agvOW8jyEnKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0MU0pIHsKICAgICAgICB0aGlzLmhpZGVMb2FkaW5nKCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU0RTBBXHU0RjIwXHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGXHU0RTBEXHU4MEZEXHU4RDg1XHU4RkM3ICIuY29uY2F0KHRoaXMudXBsb2FkSW1nQ29uZmlnLm1heFNpemUsICJNQiEiKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpc0x0MU0gJiYgaXNJTUFHRTsKICAgIH0sCiAgICAvL+S4iuS8oOinhumikQogICAgaHR0cFJlcXVlc3Q6IGZ1bmN0aW9uIGh0dHBSZXF1ZXN0KGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGVzIiwgZmlsZS5maWxlKTsgLy/kuIrkvKAKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmaWxlU3RvcmFnZUluZm91cGxvYWQoJ0luc3BlY3RBcHBsaWNhdGlvbicsICcnLCBmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMuUmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAvLyB0aGlzLmFkZFZpZGVvTGluayhwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0UgKyBpLkZpbGVQYXRoLnNsaWNlKDgsIGkuRmlsZVBhdGgubGVuZ3RoKSkKICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkVmlkZW9MaW5rKHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRSArIGkuRmlsZVBhdGgpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmlofku7bkuIrkvKDmiJDlip/ml7bnmoTpkqnlrZAKICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICAvLyAtLS0tIOazqOaEj+i/memDqOWIhumcgOimgeaUueS4uuWvueW6lOeahOi/lOWbnuagvOW8jwogICAgICB0aGlzLmhpZGVMb2FkaW5nKCk7CgogICAgICBpZiAocmVzcG9uc2UucmV0Q29kZSA9PT0gJzAwJykgewogICAgICAgIHRoaXMudXBsb2FkU3VjY2VzcyhyZXNwb25zZS51cmwpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWksei0pScpOwogICAgICB9CiAgICB9LAogICAgLy8g5paH5Lu25LiK5Lyg5aSx6LSl5pe255qE6ZKp5a2QCiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuaGlkZUxvYWRpbmcoKTsKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aSx6LSlJyk7CiAgICB9LAogICAgLy8gLS0tLS0tLS0tIOWbvueJh+S4iuS8oOebuOWFsyBlbmQgLS0tLS0tLS0tCiAgICAvLyAtLS0tLS0tLS0g6KeG6aKR5LiK5Lyg55u45YWzIHN0YXJ0IC0tLS0tLS0tLQogICAgYWRkVmlkZW9MaW5rOiBmdW5jdGlvbiBhZGRWaWRlb0xpbmsodmlkZW9MaW5rKSB7CiAgICAgIGlmICghdmlkZW9MaW5rKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl6KeG6aKR5Zyw5Z2AJyk7CiAgICAgIHRoaXMudmlkZW9EaWFsb2cuc2hvdyA9IGZhbHNlOwogICAgICB2YXIgcXVpbGwgPSB0aGlzLiRyZWZzWydteVF1aWxsRWRpdG9yJ10ucXVpbGw7CiAgICAgIHZhciByYW5nZSA9IHF1aWxsLmdldFNlbGVjdGlvbigpOwogICAgICB2YXIgaW5kZXggPSAwOwoKICAgICAgaWYgKHJhbmdlID09IG51bGwpIHsKICAgICAgICBpbmRleCA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5kZXggPSByYW5nZS5pbmRleDsKICAgICAgfSAvLyDmj5LlhaUKCgogICAgICBxdWlsbC5pbnNlcnRFbWJlZChpbmRleCwgJ3ZpZGVvJywgdmlkZW9MaW5rKTsgLy8g6LCD5pW05YWJ5qCH5Yiw5pyA5ZCOCgogICAgICBxdWlsbC5zZXRTZWxlY3Rpb24oaW5kZXggKyAxKTsKICAgIH0sCiAgICAvLyBlbC3mlofku7bkuIrkvKDnu4Tku7YKICAgIG9uQmVmb3JlVXBsb2FkVmlkZW86IGZ1bmN0aW9uIG9uQmVmb3JlVXBsb2FkVmlkZW8oZmlsZSkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgYWNjZXB0QXJyID0gWyd2aWRlby9tcDQnXTsKICAgICAgdmFyIGlzVmlkZW8gPSBhY2NlcHRBcnIuaW5jbHVkZXMoZmlsZS50eXBlKTsKICAgICAgdmFyIGlzTHQxTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgdGhpcy51cGxvYWRWaWRlb0NvbmZpZy5tYXhTaXplOwoKICAgICAgaWYgKCFpc1ZpZGVvKSB7CiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPquiDveS4iuS8oG1wNOagvOW8j+aWh+S7tiEnKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0MU0pIHsKICAgICAgICB0aGlzLmhpZGVMb2FkaW5nKCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU0RTBBXHU0RjIwXHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGXHU0RTBEXHU4MEZEXHU4RDg1XHU4RkM3ICIuY29uY2F0KHRoaXMudXBsb2FkVmlkZW9Db25maWcubWF4U2l6ZSwgIk1CISIpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGlzTHQxTSAmJiBpc1ZpZGVvOwogICAgfSwKICAgIC8vIOaWh+S7tuS4iuS8oOaIkOWKn+aXtueahOmSqeWtkAogICAgb25TdWNjZXNzVmlkZW86IGZ1bmN0aW9uIG9uU3VjY2Vzc1ZpZGVvKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICAvLyAtLS0tIOazqOaEj+i/memDqOWIhumcgOimgeaUueS4uuWvueW6lOeahOi/lOWbnuagvOW8jwogICAgICB0aGlzLmhpZGVMb2FkaW5nKCk7CgogICAgICBpZiAocmVzcG9uc2UucmV0Q29kZSA9PT0gJzAwJykgewogICAgICAgIHRoaXMuYWRkVmlkZW9MaW5rKHJlc3BvbnNlLnVybCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aSx6LSlJyk7CiAgICAgIH0KICAgIH0gLy8gLS0tLS0tLS0tIOinhumikeS4iuS8oOebuOWFsyBlbmQgLS0tLS0tLS0tCgogIH0KfTs="},{"version":3,"mappings":"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","names":["name","model","prop","event","components","quillEditor","props","content","type","default","uploadImgConfig","uploadUrl","maxSize","uploadVideoConfig","data","loading","editorOption","placeholder","theme","modules","toolbar","container","handlers","_self","fileList","videoDialog","show","videoLink","activeName","mounted","addQuillTitle","methods","onEditorChange","hideLoading","addImageHandler","value","uploadSuccess","imgurl","index","quill","onBeforeUpload","file","httpRequest","formData","fileStorageInfoupload","res","onSuccess","response","onError","addVideoLink","onBeforeUploadVideo","onSuccessVideo"],"sourceRoot":"src/components/Editor","sources":["Editor.vue"],"sourcesContent":["<!--富文本编辑器-->\r\n<template>\r\n  <div class=\"RichTextEditor-Wrap\" v-loading=\"loading\">\r\n    <quill-editor\r\n      :content=\"content\"\r\n      :options=\"editorOption\"\r\n      class=\"ql-editor\"\r\n      ref=\"myQuillEditor\"\r\n      @change=\"onEditorChange($event)\"\r\n    ></quill-editor>\r\n\r\n    <!-- 图片上传组件辅助-->\r\n    <el-upload\r\n      v-show=\"false\"\r\n      :show-file-list=\"false\"\r\n      :name=\"uploadImgConfig.name\"\r\n      :multiple=\"false\"\r\n      :action=\"uploadImgConfig.uploadUrl\"\r\n      :before-upload=\"onBeforeUpload\"\r\n      :on-success=\"onSuccess\"\r\n      :on-error=\"onError\"\r\n      :file-list=\"fileList\"\r\n    >\r\n      <button ref=\"myinput\">上传文件</button>\r\n    </el-upload>\r\n\r\n    <!--视频上传-->\r\n    <div>\r\n      <el-dialog\r\n        :close-on-click-modal=\"false\"\r\n        width=\"50%\"\r\n        style=\"margin-top: 1px\"\r\n        title=\"视频上传\"\r\n        :visible.sync=\"videoDialog.show\"\r\n        append-to-body\r\n      >\r\n        <el-tabs v-model=\"videoDialog.activeName\">\r\n          <el-tab-pane label=\"添加视频链接\" name=\"first\">\r\n            <el-input v-model=\"videoDialog.videoLink\" placeholder=\"请输入视频链接\" clearable></el-input>\r\n            <el-button type=\"primary\" size=\"small\" style=\"margin: 20px 0px 0px 0px\" @click=\"addVideoLink(videoDialog.videoLink)\">\r\n              添加\r\n            </el-button>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"本地视频上传\" name=\"second\">\r\n            <el-upload\r\n              style=\"text-align: center\"\r\n              drag\r\n              action=\"\"\r\n              :show-file-list=\"false\"\r\n              :name=\"uploadVideoConfig.name\"\r\n              v-loading=\"loading\"\r\n              accept=\"video/*\"\r\n              :multiple=\"false\"\r\n              :http-request=\"httpRequest\"\r\n            >\r\n              <i class=\"el-icon-upload\"></i>\r\n              <div class=\"el-upload__text\">\r\n                将文件拖到此处，或\r\n                <em>点击上传</em>\r\n              </div>\r\n              <div class=\"el-upload__tip\" slot=\"tip\">只能上传MP4文件，且不超过{{ uploadVideoConfig.maxSize }}M</div>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// require styles\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport { quillEditor } from 'vue-quill-editor'\r\n// 设置title\r\nimport { addQuillTitle } from './quill-title.js'\r\nimport { fileStorageInfoupload } from \"@/api/FileStorageInfo.js\";\r\n\r\n// 工具栏\r\nconst toolbarOptions = [\r\n  ['bold', 'italic', 'underline', 'strike'], // toggled buttons\r\n  ['blockquote', 'code-block'],\r\n  [{ 'header': 1 }, { 'header': 2 }],\r\n  [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n  [{ 'script': 'sub' }, { 'script': 'super' }], // superscript/subscript\r\n  [{ 'indent': '-1' }, { 'indent': '+1' }], // outdent/indent\r\n  [{ 'direction': 'rtl' }],\r\n  [{ 'size': ['small', false, 'large', 'huge'] }],\r\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n  [{ 'font': [] }],\r\n  [{ 'color': [] }, { 'background': [] }], // dropdown with defaults from theme\r\n  [{ 'align': [] }],\r\n  [{ 'clean': '清除' }], // remove formatting button\r\n  // ['link', 'image', 'video']\r\n  ['image', 'video']\r\n]\r\nexport default {\r\n  name: 'RichTextEditor',\r\n  model: {\r\n    prop: 'content',\r\n    event: 'change'\r\n  },\r\n  components: {\r\n    quillEditor\r\n  },\r\n  props: {\r\n    content: { // 返回的html片段\r\n      type: String,\r\n      default: ''\r\n    },\r\n    uploadImgConfig: { // 图片上传配置 - 若不配置则使用quillEditor默认方式，即base64方式\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          uploadUrl: '', // 图片上传地址\r\n          maxSize: 2, // 图片上传大小限制，默认不超过2M\r\n          name: 'Filedata' // 图片上传字段\r\n        }\r\n      }\r\n    },\r\n    uploadVideoConfig: { // 视频上传配置\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          uploadUrl: '', // 上传地址\r\n          maxSize: 10, // 图片上传大小限制，默认不超过2M\r\n          name: 'Filedata' // 图片上传字段\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    let _self = this;\r\n    return {\r\n      loading: false, // 加载loading\r\n      editorOption: {\r\n        placeholder: '',\r\n        theme: 'snow', // or 'bubble'\r\n        modules: {\r\n          toolbar: {\r\n            container: toolbarOptions, // 工具栏\r\n            handlers: {\r\n              'video': function (value) {\r\n                _self.videoDialog.show = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n\r\n      // 图片上传变量\r\n      fileList: [],\r\n\r\n      // 视频上传变量\r\n      videoDialog: {\r\n        show: false,\r\n        videoLink: '',\r\n        activeName: 'first'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 初始给编辑器设置title\r\n    addQuillTitle()\r\n\r\n    let toolbar = this.$refs['myQuillEditor'].quill.getModule('toolbar');\r\n    // 是否开启图片上传到服务器功能\r\n    if (this.uploadImgConfig.uploadUrl) {\r\n      toolbar.addHandler('image', this.addImageHandler);\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    // 文本编辑\r\n    onEditorChange ({ quill, html, text }) {\r\n      this.$emit('update:content', html)\r\n      this.$emit('change', html)\r\n    },\r\n    hideLoading () {\r\n      this.loading = false\r\n    },\r\n    // --------- 图片上传相关 start ---------\r\n    addImageHandler (value) {\r\n      if (value) {\r\n        // 触发input框选择图片文件\r\n        this.$refs['myinput'].click();\r\n      } else {\r\n        this.quill.format('image', false)\r\n      }\r\n    },\r\n    // 把已经上传的图片显示回富文本编辑框中\r\n    uploadSuccess (imgurl) {\r\n      let quill = this.$refs['myQuillEditor'].quill\r\n      let range = quill.getSelection()\r\n      let index = 0;\r\n      if (range == null) {\r\n        index = 0;\r\n      } else {\r\n        index = range.index; // 获取光标所在位置\r\n      }\r\n      // 插入\r\n      quill.insertEmbed(index, 'image', imgurl) // imgurl是服务器返回的图片链接地址\r\n      // 调整光标到最后\r\n      quill.setSelection(index + 1)\r\n    },\r\n    // el-文件上传组件\r\n    onBeforeUpload (file) {\r\n      this.loading = true\r\n      let acceptArr = ['image/jpg', 'image/jpeg', 'image/gif', 'image/png']\r\n      const isIMAGE = acceptArr.includes(file.type)\r\n      const isLt1M = file.size / 1024 / 1024 < this.uploadImgConfig.maxSize\r\n      if (!isIMAGE) {\r\n        this.hideLoading()\r\n        this.$message.error('只能插入图片格式!')\r\n      }\r\n      if (!isLt1M) {\r\n        this.hideLoading()\r\n        this.$message.error(`上传文件大小不能超过 ${this.uploadImgConfig.maxSize}MB!`)\r\n      }\r\n      return isLt1M && isIMAGE\r\n    },\r\n    //上传视频\r\n    async httpRequest (file, fileList) {\r\n      let formData = new FormData();\r\n      formData.append(\"files\", file.file)\r\n      //上传\r\n      let res = await fileStorageInfoupload('InspectApplication', '', formData)\r\n      res.Response.forEach((i) => {\r\n        // this.addVideoLink(process.env.VUE_APP_BASE + i.FilePath.slice(8, i.FilePath.length))\r\n        this.addVideoLink(process.env.VUE_APP_BASE + i.FilePath)\r\n      })\r\n    },\r\n    // 文件上传成功时的钩子\r\n    onSuccess (response, file, fileList) { // ---- 注意这部分需要改为对应的返回格式\r\n      this.hideLoading()\r\n      if (response.retCode === '00') {\r\n        this.uploadSuccess(response.url)\r\n      } else {\r\n        this.$message.error('上传失败')\r\n      }\r\n    },\r\n    // 文件上传失败时的钩子\r\n    onError (file, fileList) {\r\n      this.hideLoading()\r\n      this.$message.error('上传失败')\r\n    },\r\n\r\n    // --------- 图片上传相关 end ---------\r\n\r\n    // --------- 视频上传相关 start ---------\r\n\r\n    addVideoLink (videoLink) {\r\n      if (!videoLink) return this.$message.error('请输入视频地址')\r\n      this.videoDialog.show = false\r\n      let quill = this.$refs['myQuillEditor'].quill\r\n      let range = quill.getSelection()\r\n      let index = 0;\r\n      if (range == null) {\r\n        index = 0;\r\n      } else {\r\n        index = range.index;\r\n      }\r\n      // 插入\r\n      quill.insertEmbed(index, 'video', videoLink)\r\n      // 调整光标到最后\r\n      quill.setSelection(index + 1)\r\n    },\r\n\r\n    // el-文件上传组件\r\n    onBeforeUploadVideo (file) {\r\n      this.loading = true\r\n      let acceptArr = ['video/mp4']\r\n      const isVideo = acceptArr.includes(file.type)\r\n      const isLt1M = file.size / 1024 / 1024 < this.uploadVideoConfig.maxSize\r\n      if (!isVideo) {\r\n        this.hideLoading()\r\n        this.$message.error('只能上传mp4格式文件!')\r\n      }\r\n      if (!isLt1M) {\r\n        this.hideLoading()\r\n        this.$message.error(`上传文件大小不能超过 ${this.uploadVideoConfig.maxSize}MB!`)\r\n      }\r\n      return isLt1M && isVideo\r\n    },\r\n    // 文件上传成功时的钩子\r\n    onSuccessVideo (response, file, fileList) { // ---- 注意这部分需要改为对应的返回格式\r\n      this.hideLoading()\r\n      if (response.retCode === '00') {\r\n        this.addVideoLink(response.url)\r\n      } else {\r\n        this.$message.error('上传失败')\r\n      }\r\n    },\r\n    // --------- 视频上传相关 end ---------\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.RichTextEditor-Wrap .ql-container {\r\n  height: 300px;\r\n}\r\n\r\n.RichTextEditor-Wrap .ql-editor {\r\n  padding: 0;\r\n}\r\n\r\n.RichTextEditor-Wrap .ql-tooltip {\r\n  left: 5px !important;\r\n}\r\n</style>\r\n\r\n"]}]}