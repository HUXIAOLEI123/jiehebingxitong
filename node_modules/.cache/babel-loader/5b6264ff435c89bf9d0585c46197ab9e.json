{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\newEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\src\\views\\patientManagement\\patientManagement\\components\\newEdit.vue","mtime":1678931188649},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\babel.config.js","mtime":1678931188406},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1678931314285},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678931310818},{"path":"C:\\Users\\Administrator\\Desktop\\tuberculosis-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1678931316857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdHViZXJjdWxvc2lzLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3R1YmVyY3Vsb3Npcy1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90dWJlcmN1bG9zaXMtZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdXNlZGljdGlvbmFyeWRldGFpbHMgYXMgX3VzZWRpY3Rpb25hcnlkZXRhaWxzIH0gZnJvbSAnQC9hcGkvZGljdC5qcyc7CmltcG9ydCB7IGdldE9yZ2FuaXphdGlvbkxpc3QsIGdldG9yZ2Nhc2NhZGVyLCBnZXR1c2VyRHJvcCwgZHJvcG9yZ2FuaXphdGlvbnMgfSBmcm9tICdAL2FwaS9vcmdhbml6YXRpb25NYW5hZ2VtZW50LmpzJzsKaW1wb3J0IHsgdHViZXJjdWxvc2lzZGlhZ25vc2lzcywgYWRkdHViZXJjdWxvc2lzZGlhZ25vc2lzcywgZWRpdHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MsIGRlbGV0ZXR1YmVyY3Vsb3Npc2RpYWdub3Npc3MsIHR1YmVyY3Vsb3Npc2RpYWdub3Npc3NleGNlbCwgZ2VuZXJhdGV0cmVhdG1lbnRudW1iZXIsIHR1YmVyY3Vsb3Npc2RpYWdub3Npc3Ntc2cgfSBmcm9tICdAL2FwaS9UdWJlcmN1bG9zaXNEaWFnbm9zaXMuanMnOwppbXBvcnQgeyBwdWxtb25hcnljbG9zZXN2aXNpdGFuZG1lZGljaW5lLCBhZGRhcHBseXNldHRsZW1lbnQsIHB1bG1vbmFyeWNsb3Nlc2xpc3QsIHVwZGF0YXR1YmVyY3Vsb3Npc01vZGlmeSB9IGZyb20gJ0AvYXBpL1B1bG1vbmFyeUNsb3NlLmpzJzsKaW1wb3J0IE9wdGlvbnNFZGl0IGZyb20gJy4uL2NvbXBvbmVudHMvdGFiQ29tcG9uZW50cy9lY2hlYXRDb21wb25lbnRzL29wdGlvbnNFZGl0LnZ1ZSc7IC8vLi9lY2hlYXRDb21wb25lbnRzL29wdGlvbnNFZGl0LnZ1ZQoKaW1wb3J0IHsgdHJlYXRtZW50cGxhbnRlbXBsYXRlcyB9IGZyb20gJ0AvYXBpL1RyZWF0bWVudFBsYW5UZW1wbGF0ZS5qcyc7CmltcG9ydCBwYXRpZW50U2VsZWN0IGZyb20gJy4uL2NvbXBvbmVudHMvcGF0aWVudFNlbGVjdC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgcGF0aWVudFNlbGVjdDogcGF0aWVudFNlbGVjdCwKICAgIE9wdGlvbnNFZGl0OiBPcHRpb25zRWRpdAogIH0sCiAgbmFtZTogIkVkaXQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIuaWsOWinuayu+eWl+WNoSIsCiAgICAgIElzZGlzYWJsZWQ6IGZhbHNlLAogICAgICAvLyDlvLnnqpfnmoTlvIDlhbMKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZsYWc6ICIiLAogICAgICBTdHJlbmd0aGVuaW5nUGVyaW9kTW9udGg6ICcnLAogICAgICBTdHJlbmd0aGVuaW5nUGVyaW9kRE1UOiAnJywKICAgICAgQ29uc29saWRhdGlvblBlcmlvZE1vbnRoOiAnJywKICAgICAgQ29uc29saWRhdGlvblBlcmlvZERNVDogJycsCiAgICAgIGZvcm06IHsKICAgICAgICBDb250cmFjdFN0YWZmczogW10sCiAgICAgICAgTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbjogIiIsCiAgICAgICAgQWRtaW5Pcmdhbml6YXRpb246ICIiLAogICAgICAgIEZpbGVOdW1iZXI6ICcnLAogICAgICAgIE5hbWU6ICcnLAogICAgICAgIFJlZ2lzdGVyVGltZTogIiIKICAgICAgfSwKICAgICAgVHJlYXRtZW50UGxhbklkOiBbXSwKICAgICAgQ29udHJhY3RTdGFmZkxpc3Q6IFtdLAogICAgICB0ZW5hbnREYXRhOiBbXSwKICAgICAgLy/ooYzmlL/ljLrln58KICAgICAgb3B0aW9uczogW10sCiAgICAgIC8v5Yy75biICiAgICAgIHByb3BzbGlzdDogewogICAgICAgIHZhbHVlOiAiT3JnYW5pemF0aW9uSWQiLAogICAgICAgIGxhYmVsOiAiT3JnYW5pemF0aW9uTmFtZSIsCiAgICAgICAgY2hpbGRyZW46ICJDaGlsZHJlbiIsCiAgICAgICAgY2hlY2tTdHJpY3RseTogdHJ1ZSwKICAgICAgICBlbWl0UGF0aDogZmFsc2UsCiAgICAgICAgbGF6eTogdHJ1ZSwKICAgICAgICBsYXp5TG9hZDogdGhpcy5sYXp5TG9hZAogICAgICB9LAogICAgICAvLyAg6KGo5Y2V6aqM6K+BCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgRmlsZU51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIFNleDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIEFnZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBQaG9uZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBDYXJkTm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgUmVnaXN0cmF0aW9uTm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgVHJlYXRtZW50U3RhcnREYXRlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIFhpYW5BZG1pbk9yZ2FuaXphdGlvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeeOsOeuoeeQhuWNleS9jSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBNZWRpY2luZUFkbWluT3JnYW5pemF0aW9uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup5pyN6I2v5Y2V5L2NIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIEFkbWluT3JnYW5pemF0aW9uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup552j5a+85Y2V5L2NIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIEZpcnN0QWRtaW5Pcmdhbml6YXRpb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6npppbnrqHljZXkvY0iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgQ29udHJhY3RTdGFmZjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+iHs+WwkemAieaLqeS4gOmhuSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIERpYWdub3Npc1R5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBQYXRpZW50VHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIFNwdXR1bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIC8vIERpYWdub3Npc09yZ2FuaXphdGlvbklkOiBbewogICAgICAgIC8vICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgLy8gICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAvLyAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgLy8gfSxdLAogICAgICAgIERpYWdub3Npc1RpbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICAvLyBEZXRlY3Rpb25QYXRod2F5OiBbewogICAgICAgIC8vICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgLy8gICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAvLyAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgLy8gfSxdLAogICAgICAgIC8vIElzRHJ1Z1Jlc2lzdGFuY2U6IFt7CiAgICAgICAgLy8gICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAvLyAgIG1lc3NhZ2U6ICLor7fovpPlhaUiLAogICAgICAgIC8vICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICAvLyB9LF0sCiAgICAgICAgLy8gTW9sZWN1bGFyQmlvbG9neVJlc3VsdDogW3sKICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIC8vICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgLy8gICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIC8vIH0sXSwKICAgICAgICAvLyBDaGVzdFJhZGlvZ3JhcGh5UmVzdWx0OiBbewogICAgICAgIC8vICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgLy8gICBtZXNzYWdlOiAi6K+36L6T5YWlIiwKICAgICAgICAvLyAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgLy8gfSxdLAogICAgICAgIC8vIExpdmVyRnVuY3Rpb25SZXN1bHQ6IFt7CiAgICAgICAgLy8gICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAvLyAgIG1lc3NhZ2U6ICLor7fpgInmi6kiLAogICAgICAgIC8vICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgLy8gfSxdLAogICAgICAgIFJlc3BvbnNpYmlsaXR5OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oupIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIFJlZ2lzdGVyVGltZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIFRyZWF0bWVudFBsYW5JZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIEEwMDAzOiBbXSwKICAgICAgQTAwMTM6IFtdLAogICAgICBBMDAxNDogW10sCiAgICAgIEEwMDE1OiBbXSwKICAgICAgQTAwMTY6IFtdLAogICAgICBBMDAxNzogW10sCiAgICAgIEEwMDIxOiBbXSwKICAgICAgQTAwMDE6IFtdLAogICAgICBBMDAzOTogW10sCiAgICAgIEEwMDQwOiBbXSwKICAgICAgQTAwNDE6IFtdLAogICAgICBBMDAyNDogW10sCiAgICAgIGRpY3RhcnI6IFtdLAogICAgICBYaWFuQWRtaW5Pcmdhbml6YXRpb25saXN0OiBbXSwKICAgICAgLy/njrDnrqHmnLrmnoQKICAgICAgU2hvdUFkbWluT3JnYW5pemF0aW9ubGlzdDogW10sCiAgICAgIC8v6aaW566h55CG5Y2V5L2NCiAgICAgIE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0OiBbXSwKICAgICAgLy/mnI3oja/ljZXkvY0KICAgICAgQWRtaW5Pcmdhbml6YXRpb25saXN0OiBbXSwKICAgICAgLy/nnaPlr7zmnLrmnoQKICAgICAgRGlhZ25vc2lzT3JnYW5pemF0aW9uSWRsaXN0OiBbXSwKICAgICAgLy/noa7or4rmnLrmnoQKICAgICAgcGFQYXJhbXM6IHsKICAgICAgICBQYWdlTnVtYmVyOiAxLAogICAgICAgIFBhZ2VTaXplOiA2MAogICAgICB9LAogICAgICBjb3B5Zm9ybToge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZ1bnVzZWRpY3Rpb25hcnlkZXRhaWxzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXMuZnVuZGljdGxpc3QoKTsKCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZ1bnRyZWF0bWVudHBsYW50ZW1wbGF0ZXMoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudXNlZGljdGlvbmFyeWRldGFpbHMoKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0b3JnYW5pemF0aW9ubGlzdCgpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/pgInmi6nnjrDnrqHnkIbljZXkvY0KICAgIHNlbGVjdE9yZ2FuaXphdGlvbk5hbWU6IGZ1bmN0aW9uIHNlbGVjdE9yZ2FuaXphdGlvbk5hbWUoKSB7CiAgICAgIHRoaXMuZm9ybS5NZWRpY2luZUFkbWluT3JnYW5pemF0aW9uID0gJyc7CiAgICAgIHRoaXMuZm9ybS5BZG1pbk9yZ2FuaXphdGlvbiA9ICcnOwogICAgICB0aGlzLmdldE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0KCk7IC8v5pyN6I2v5Y2V5L2N5YiX6KGoCiAgICB9LAogICAgLy/ojrflj5bmnI3oja/ljZXkvY3liJfooaggCiAgICBnZXRNZWRpY2luZUFkbWluT3JnYW5pemF0aW9ubGlzdDogZnVuY3Rpb24gZ2V0TWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbmxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuZm9ybS5YaWFuQWRtaW5Pcmdhbml6YXRpb24pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZHJvcG9yZ2FuaXphdGlvbnMoewogICAgICAgICAgICAgICAgICBPcmdhbml6YXRpb25JZDogX3RoaXMyLmZvcm0uWGlhbkFkbWluT3JnYW5pemF0aW9uLAogICAgICAgICAgICAgICAgICBTZWxlY3RPbmx5OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgUGFnZVNpemU6IDk5OTkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5NZWRpY2luZUFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlcy5SZXNwb25zZTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/ojrflj5bnnaPlr7zmnLrmnoTliJfooaggCiAgICBnZXRBZG1pbk9yZ2FuaXphdGlvbmxpc3Q6IGZ1bmN0aW9uIGdldEFkbWluT3JnYW5pemF0aW9ubGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5mb3JtLk1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb24pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZHJvcG9yZ2FuaXphdGlvbnMoewogICAgICAgICAgICAgICAgICBPcmdhbml6YXRpb25JZDogX3RoaXMzLmZvcm0uTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbiwKICAgICAgICAgICAgICAgICAgU2VsZWN0T25seTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIFBhZ2VTaXplOiA5OTk5CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczMuQWRtaW5Pcmdhbml6YXRpb25saXN0ID0gcmVzLlJlc3BvbnNlOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+mAieaLqeacjeiNr+WNleS9jQogICAgc2VsZWN0TWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbjogZnVuY3Rpb24gc2VsZWN0TWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbigpIHsKICAgICAgdGhpcy5mb3JtLkFkbWluT3JnYW5pemF0aW9uID0gJyc7CiAgICAgIHRoaXMuZ2V0QWRtaW5Pcmdhbml6YXRpb25saXN0KCk7IC8v552j5a+85Y2V5L2N5YiX6KGoCiAgICB9LAogICAgLy/moLnmja7kuLvplK7ojrflj5blhajpg6jkv6Hmga8KICAgIHB1bG1vbmFyeWNsb3Nlc2xpc3Rtc2c6IGZ1bmN0aW9uIHB1bG1vbmFyeWNsb3Nlc2xpc3Rtc2coZGF0YSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0dWJlcmN1bG9zaXNkaWFnbm9zaXNzbXNnKGRhdGEuRGlhZ25vc2lzSWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5mb3JtID0gX29iamVjdFNwcmVhZCh7fSwgcmVzLlJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZ2V0dXNlckRyb3BMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIC8v5qC55o2u5py65p6E6I635Y+W55So5oi35LiL5ouJ5YiX6KGoCiAgICAgICAgICAgICAgICBfdGhpczQuY29weWZvcm0gPSBfb2JqZWN0U3ByZWFkKHt9LCByZXMuUmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+WKoOi9veaJgOacieacuuaehAogICAgYWxsb3JnYW5pemF0aW9uc2xpc3Q6IGZ1bmN0aW9uIGFsbG9yZ2FuaXphdGlvbnNsaXN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXMsIHJlczIsIHJlczM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBkcm9wb3JnYW5pemF0aW9ucyh7CiAgICAgICAgICAgICAgICAgIElzQXBwb2luT3JnYW5pemF0aW9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczUuRGlhZ25vc2lzT3JnYW5pemF0aW9uSWRsaXN0ID0gcmVzLlJlc3BvbnNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGRyb3Bvcmdhbml6YXRpb25zKHsKICAgICAgICAgICAgICAgICAgSXNDREM6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXMyID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczUuU2hvdUFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlczIuUmVzcG9uc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGRyb3Bvcmdhbml6YXRpb25zKHsKICAgICAgICAgICAgICAgICAgT3JnYW5pemF0aW9uSWQ6IF90aGlzNS4kdXRpbHNGdW4uZ2V0VXNlckluZm8oKS5hdXRoT3JnSWQsCiAgICAgICAgICAgICAgICAgIFNlbGVjdE9ubHk6IGZhbHNlLAogICAgICAgICAgICAgICAgICBJc0NEQzogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXMzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczUuWGlhbkFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlczMuUmVzcG9uc2U7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDnoa7orqTmlrDlop7vvJ/kv67mlLkKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coZmxhZywgZGF0YSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBkYXRldGltZSwgeWVhciwgbW9udGgsIGRhdGU7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNi5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzNi5mbGFnID0gZmxhZzsKCiAgICAgICAgICAgICAgICBpZiAoIShmbGFnID09ICJhZGQiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczYudGl0bGUgPSAi5paw5aKe55eF5qGIIjsKICAgICAgICAgICAgICAgIF90aGlzNi5Jc2Rpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczYuZm9ybS5PcGVyYXRvck5hbWVGaXJzdCA9IF90aGlzNi4kdXRpbHNGdW4uZ2V0VXNlckluZm8oKS5yZWFsX05hbWU7IC8v57uZ5bu65qGj5Lq66buY6K6k5b2T5YmN5Lq6CgogICAgICAgICAgICAgICAgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgeWVhciA9IGRhdGV0aW1lLmdldEZ1bGxZZWFyKCk7IC8v6I635Y+W5a6M5pW055qE5bm05Lu9KDTkvY0s5aaCOjE5NzApCgogICAgICAgICAgICAgICAgbW9udGggPSBkYXRldGltZS5nZXRNb250aCgpICsgMTsgLy/ojrflj5bmnIjku70o6L+U5ZueMC0xMSww5Luj6KGoMeaciCznlKjnmoTml7blgJnorrDlvpfliqDkuIoxKQoKICAgICAgICAgICAgICAgIGRhdGUgPSBkYXRldGltZS5nZXREYXRlKCk7IC8v6I635Y+W5pelKOi/lOWbnjEtMzEpCiAgICAgICAgICAgICAgICAvL+WIpOaWreWwj+S6juetieS6jjnmnIjnmoTml7blgJnlnKjmnIjku73liY3liqDkuIDkuKoiMCIKCiAgICAgICAgICAgICAgICBpZiAobW9udGggPD0gOSkgewogICAgICAgICAgICAgICAgICBtb250aCA9ICIwIiArIG1vbnRoOwogICAgICAgICAgICAgICAgfSAvL+WIpOaWreWwj+S6juetieS6jjnlj7fnmoTml7blgJnlnKjlpKnmlbDliY3liqDkuIDkuKoiMCIKCgogICAgICAgICAgICAgICAgaWYgKGRhdGUgPD0gOSkgewogICAgICAgICAgICAgICAgICBkYXRlID0gIjAiICsgZGF0ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczYuZm9ybS5PcGVyYXRlVGltZUZpcnN0ID0geWVhciArICItIiArIG1vbnRoICsgIi0iICsgZGF0ZTsgLy/nu5nlu7rmoaPml7bpl7Tpu5jorqTlvZPliY0KCiAgICAgICAgICAgICAgICBfdGhpczYuZm9ybS5SZWdpc3RlclRpbWUgPSB5ZWFyICsgIi0iICsgbW9udGggKyAiLSIgKyBkYXRlOwogICAgICAgICAgICAgICAgX3RoaXM2LlN0cmVuZ3RoZW5pbmdQZXJpb2RETVQgPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzNi5Db25zb2xpZGF0aW9uUGVyaW9kTW9udGggPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzNi5Db25zb2xpZGF0aW9uUGVyaW9kRE1UID0gJyc7CiAgICAgICAgICAgICAgICBfdGhpczYuU3RyZW5ndGhlbmluZ1BlcmlvZE1vbnRoID0gJyc7CgogICAgICAgICAgICAgICAgX3RoaXM2LmdldGFyY2hpdmVzbnVtKCk7IC8v6I635Y+W5qGj5qGI57yW5Y+3CgoKICAgICAgICAgICAgICAgIF90aGlzNi5nZXRvcmdhbml6YXRpb25saXN0KCk7IC8v6I635Y+W5py65p6E5YiX6KGoCgoKICAgICAgICAgICAgICAgIF90aGlzNi5hbGxvcmdhbml6YXRpb25zbGlzdCgpOyAvL+aJgOacieacuuaehOWIl+ihqAoKCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDYxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBpZiAoIShmbGFnID09ICJlZGl0IikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM2LnRpdGxlID0gIue8lui+kSI7CiAgICAgICAgICAgICAgICBfdGhpczYuSXNkaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5wdWxtb25hcnljbG9zZXNsaXN0bXNnKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuYWxsb3JnYW5pemF0aW9uc2xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldG9yZ2FuaXphdGlvbmxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRBZG1pbk9yZ2FuaXphdGlvbmxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ3JlY3VycmVuY2UnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDYxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczYudGl0bGUgPSAi5aSN5Y+RIjsKICAgICAgICAgICAgICAgIF90aGlzNi5Jc2Rpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LnB1bG1vbmFyeWNsb3Nlc2xpc3Rtc2coZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRhcmNoaXZlc251bSgpOwoKICAgICAgICAgICAgICBjYXNlIDQ1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0NzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuYWxsb3JnYW5pemF0aW9uc2xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA0NzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldG9yZ2FuaXphdGlvbmxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldE1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb25saXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgNTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDUzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRBZG1pbk9yZ2FuaXphdGlvbmxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA1MzoKICAgICAgICAgICAgICAgIC8v552j5a+85py65p6E5YiX6KGoCiAgICAgICAgICAgICAgICBfdGhpczYuZm9ybS5QYXRpZW50VHlwZSA9ICcyJzsgLy/lpI3msrsKCiAgICAgICAgICAgICAgICBkYXRldGltZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICB5ZWFyID0gZGF0ZXRpbWUuZ2V0RnVsbFllYXIoKTsgLy/ojrflj5blrozmlbTnmoTlubTku70oNOS9jSzlpoI6MTk3MCkKCiAgICAgICAgICAgICAgICBtb250aCA9IGRhdGV0aW1lLmdldE1vbnRoKCkgKyAxOyAvL+iOt+WPluaciOS7vSjov5Tlm54wLTExLDDku6Pooagx5pyILOeUqOeahOaXtuWAmeiusOW+l+WKoOS4ijEpCgogICAgICAgICAgICAgICAgZGF0ZSA9IGRhdGV0aW1lLmdldERhdGUoKTsgLy/ojrflj5bml6Uo6L+U5ZueMS0zMSkKICAgICAgICAgICAgICAgIC8v5Yik5pat5bCP5LqO562J5LqOOeaciOeahOaXtuWAmeWcqOaciOS7veWJjeWKoOS4gOS4qiIwIgoKICAgICAgICAgICAgICAgIGlmIChtb250aCA8PSA5KSB7CiAgICAgICAgICAgICAgICAgIG1vbnRoID0gIjAiICsgbW9udGg7CiAgICAgICAgICAgICAgICB9IC8v5Yik5pat5bCP5LqO562J5LqOOeWPt+eahOaXtuWAmeWcqOWkqeaVsOWJjeWKoOS4gOS4qiIwIgoKCiAgICAgICAgICAgICAgICBpZiAoZGF0ZSA8PSA5KSB7CiAgICAgICAgICAgICAgICAgIGRhdGUgPSAiMCIgKyBkYXRlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNi5mb3JtLlJlZ2lzdGVyVGltZSA9IHllYXIgKyAiLSIgKyBtb250aCArICItIiArIGRhdGU7CgogICAgICAgICAgICAgIGNhc2UgNjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+iOt+WPluaho+ahiOe8luWPtwogICAgZ2V0YXJjaGl2ZXNudW06IGZ1bmN0aW9uIGdldGFyY2hpdmVzbnVtKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZXRyZWF0bWVudG51bWJlcigpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNy5mb3JtLkZpbGVOdW1iZXIgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5Lq6576k5bGe5oCnCiAgICB1c2VkaWN0aW9uYXJ5ZGV0YWlsczogZnVuY3Rpb24gdXNlZGljdGlvbmFyeWRldGFpbHMocGFyYW1zKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF91c2VkaWN0aW9uYXJ5ZGV0YWlscyh7CiAgICAgICAgICAgICAgICAgIENhdGVnb3J5Q29kZTogJ0EwMDIxJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM4LkNvbnRyYWN0U3RhZmZMaXN0ID0gcmVzLlJlc3BvbnNlLml0ZW1zOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+iOt+WPluacuuaehOWIl+ihqAogICAgZ2V0b3JnYW5pemF0aW9ubGlzdDogZnVuY3Rpb24gZ2V0b3JnYW5pemF0aW9ubGlzdCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0b3JnY2FzY2FkZXIoX3RoaXM5LmZvcm0uRGlhZ25vc2lzT3JnYW5pemF0aW9uSWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICAgIC8vIGZvcihsZXQgaSBpbiByZXMuUmVzcG9uc2UpewogICAgICAgICAgICAgICAgLy8gCXJlcy5SZXNwb25zZVtpXVsnbGFiZWwnXT1yZXMuUmVzcG9uc2VbaV0uT3JnYW5pemF0aW9uTmFtZQogICAgICAgICAgICAgICAgLy8gCXJlcy5SZXNwb25zZVtpXVsndmFsdWUnXT1yZXMuUmVzcG9uc2VbaV0uT3JnYW5pemF0aW9uSWQKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIF90aGlzOS50ZW5hbnREYXRhID0gcmVzLlJlc3BvbnNlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+iOt+WPluehruiviuacuuaehOWIl+ihqAogICAgZ2V0RGlhZ25vc2lzT3JnYW5pemF0aW9uSWRsaXN0OiBmdW5jdGlvbiBnZXREaWFnbm9zaXNPcmdhbml6YXRpb25JZGxpc3QoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRPcmdhbml6YXRpb25MaXN0KHsKICAgICAgICAgICAgICAgICAgLy8gSXNBcHBvaW5Pcmdhbml6YXRpb246IHRydWUsCiAgICAgICAgICAgICAgICAgIFBhZ2VTaXplOiA5OTk5IC8vIElzQ0RDOiB0cnVlLAoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczEwLkRpYWdub3Npc09yZ2FuaXphdGlvbklkbGlzdCA9IHJlcy5SZXNwb25zZS5pdGVtczsKICAgICAgICAgICAgICAgIF90aGlzMTAuWGlhbkFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlcy5SZXNwb25zZS5pdGVtczsKICAgICAgICAgICAgICAgIF90aGlzMTAuTWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbmxpc3QgPSByZXMuUmVzcG9uc2UuaXRlbXM7CiAgICAgICAgICAgICAgICBfdGhpczEwLkFkbWluT3JnYW5pemF0aW9ubGlzdCA9IHJlcy5SZXNwb25zZS5pdGVtczsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+WMu+W4iOS4i+aLieahhgogICAgZ2V0dXNlckRyb3BMaXN0OiBmdW5jdGlvbiBnZXR1c2VyRHJvcExpc3QoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgb3JnYW5pemF0aW9uSWQsIHNlbGVjdE9ubHksIHJlcywgX2l0ZXJhdG9yLCBfc3RlcCwgaXRlbTsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25JZCA9IF90aGlzMTEuZm9ybS5BZG1pbk9yZ2FuaXphdGlvbjsKICAgICAgICAgICAgICAgIHNlbGVjdE9ubHkgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBnZXR1c2VyRHJvcChvcmdhbml6YXRpb25JZCwgc2VsZWN0T25seSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTEub3B0aW9ucyA9IFtdOyAvL+S4i+aLieWIl+ihqAoKICAgICAgICAgICAgICAgIGlmIChyZXMuUmVzcG9uc2UubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuUmVzcG9uc2UubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczExLmZvcm0uUmVzcG9uc2liaWxpdHkgPSByZXMuUmVzcG9uc2VbMF0uSWQ7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlcy5SZXNwb25zZSk7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5vcHRpb25zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5OYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5JZAogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsYXp5TG9hZDogZnVuY3Rpb24gbGF6eUxvYWQobm9kZSwgcmVzb2x2ZSkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIGxldmVsLCBwYXJhbXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsZXZlbCA9IG5vZGUubGV2ZWw7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBub2RlLnZhbHVlOwogICAgICAgICAgICAgICAgZ2V0T3JnYW5pemF0aW9uTGlzdCh7CiAgICAgICAgICAgICAgICAgIE9yZ19Pcmdhbml6YXRpb25JZDogcGFyYW1zLAogICAgICAgICAgICAgICAgICBQYWdlTnVtYmVyOiAxLAogICAgICAgICAgICAgICAgICBQYWdlU2l6ZTogOTk5OQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIC8v5o6l5Y+jCiAgICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLlN0YXR1c0NvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBbcmVzLlJlc3BvbnNlXTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGxldmVsID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5SZXNwb25zZS5pdGVtczsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi4kbWVzc2FnZS5lcnJvcign6I635Y+W5Zyw5Yy65pWw5o2u5aSx6LSlJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5jZVhpYW5BZG1pbk9yZ2FuaXphdGlvbjogZnVuY3Rpb24gY2hhbmNlWGlhbkFkbWluT3JnYW5pemF0aW9uKCkge30sCiAgICAvL+aWsOWinuayu+eWl+aWueahiAogICAgaGFuZGxlckVkaXQ6IGZ1bmN0aW9uIGhhbmRsZXJFZGl0KGZsYWcsIGRhdGEpIHsKICAgICAgZGF0YSA9IHRoaXMuVHJlYXRtZW50UGxhbklkOwogICAgICB0aGlzLiRyZWZzLm9wdGlvbnNlZGl0LnNob3coZmxhZywgZGF0YSk7CiAgICB9LAogICAgLy/pgInmi6nooYzmlL/ljLrln58KICAgIGNoYW5nZU9yZzogZnVuY3Rpb24gY2hhbmdlT3JnKHZhbHVlKSB7CiAgICAgIHRoaXMuZm9ybS5BZG1pbk9yZ2FuaXphdGlvbiA9IHZhbHVlOwogICAgICB0aGlzLm9wdGlvbnMgPSBbXTsKICAgICAgdGhpcy5mb3JtLlJlc3BvbnNpYmlsaXR5ID0gJyc7CiAgICAgIHRoaXMuZ2V0dXNlckRyb3BMaXN0KCk7CiAgICB9LAogICAgLy8g5L+d5a2YCiAgICBoYW5kbGVyU2F2ZTogZnVuY3Rpb24gaGFuZGxlclNhdmUoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47CiAgICAgICAgX3RoaXMxMy5oYXNpbmZvID0gW107CgogICAgICAgIGZvciAodmFyIGtleSBpbiBfdGhpczEzLmZvcm0pIHsKICAgICAgICAgIHZhciBvYmogPSB7fTsKCiAgICAgICAgICBpZiAoX3RoaXMxMy5mb3JtW2tleV0gIT09IF90aGlzMTMuY29weWZvcm1ba2V5XSkgewogICAgICAgICAgICBvYmoub3AgPSAncmVwbGFjZScsIG9iai52YWx1ZSA9IF90aGlzMTMuZm9ybVtrZXldOwogICAgICAgICAgICBvYmoucGF0aCA9IGtleTsKCiAgICAgICAgICAgIF90aGlzMTMuaGFzaW5mby5wdXNoKG9iaik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBfdGhpczEzLiRiYXNlQ29uZmlybSgiXHU3ODZFXHU4QkE0XHU4OTgxIi5jb25jYXQoX3RoaXMxMy50aXRsZSwgIlx1NkI2NFx1OTg3OVx1NzZFRVx1NTQxN1x1RkYxRiIpLCBudWxsLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgICB2YXIgc3ViRGF0YSwgcmVzLCBEaWFnbm9zaXNJZCwgX3JlcywgU3RhdHVzQ29kZSwgTWVzc2FnZSwgX3JlczI7CgogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIHN1YkRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczEzLmZvcm0pOwoKICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMy5mbGFnID09ICdhZGQnKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gYWRkdHViZXJjdWxvc2lzZGlhZ25vc2lzcyhzdWJEYXRhKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTMuc2VudDsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTMuJGVtaXQoInN1bWl0ZSIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy4kYmFzZU1lc3NhZ2UoJ+aTjeS9nOaIkOWKnycsICJzdWNjZXNzIik7IC8vIHRoaXMuJGVtaXQoIm5ld2VkaXQiLCB0aGlzLmZsYWcsIHN1YkRhdGEpOwoKCiAgICAgICAgICAgICAgICAgIF90aGlzMTMuY2xvc2UoKTsKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEzLmZsYWcgPT0gJ2VkaXQnKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBEaWFnbm9zaXNJZCA9IHN1YkRhdGEuRGlhZ25vc2lzSWQ7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICByZXR1cm4gZWRpdHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MoRGlhZ25vc2lzSWQsIF90aGlzMTMuaGFzaW5mbyk7CgogICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgX3JlcyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZSA9IF9yZXMuU3RhdHVzQ29kZSwgTWVzc2FnZSA9IF9yZXMuTWVzc2FnZTsKCiAgICAgICAgICAgICAgICAgIGlmICghKFN0YXR1c0NvZGUgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIF90aGlzMTMuJGJhc2VNZXNzYWdlKE1lc3NhZ2UgfHwgJ+S/ruaUueWksei0pScsICdlcnJvcicpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgICBfdGhpczEzLiRiYXNlTWVzc2FnZSgn5L+u5pS55oiQ5YqfJywgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTMuJGVtaXQoInN1bWl0ZSIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5jbG9zZSgpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEzLmZsYWcgPT0gJ3JlY3VycmVuY2UnKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyODsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZHR1YmVyY3Vsb3Npc2RpYWdub3Npc3MoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczEzLlBlcnNvbmZvcm0pLCBfdGhpczEzLmZvcm0pKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgICBfcmVzMiA9IF9jb250ZXh0MTMuc2VudDsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTMuJGVtaXQoJ3N1bWl0ZScpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5jbG9zZSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy4kYmFzZU1lc3NhZ2UoJ+aTjeS9nOaIkOWKnycsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgICBfdGhpczEzLiRyb3V0ZXIucHVzaCgnL3BhdGllbnRNYW5hZ2VtZW50L3BhdGllbnRNYW5hZ2VtZW50L2luZGV4Jyk7CgogICAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgICAgfSkpKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy8g6YeN572u5pWw5o2uKOWwgeijheeahOaWueazlSkKCiAgICAgIHRoaXMuZm9ybSA9IHRoaXMuJG9wdGlvbnMuZGF0YSgpLmZvcm07CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIC8v5rK755aX5pa55qGI5LiL5ouJCiAgICBjaGFuY2VUcmVhdG1lbnRQbGFuSWQ6IGZ1bmN0aW9uIGNoYW5jZVRyZWF0bWVudFBsYW5JZCh2YWwpIHt9LAogICAgaWRDYXJkTm9DaGFuZ2U6IGZ1bmN0aW9uIGlkQ2FyZE5vQ2hhbmdlKCkgewogICAgICB2YXIgSWRObWJlciA9IHRoaXMuZm9ybS5DYXJkTm87CiAgICAgIHZhciBzZXggPSBJZE5tYmVyLnNsaWNlKDE2LCAxNyk7CiAgICAgIHZhciBteURhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgbW9udGggPSBteURhdGUuZ2V0TW9udGgoKSArIDE7CiAgICAgIHZhciBkYXkgPSBteURhdGUuZ2V0RGF0ZSgpOyAvL+WHuueUn+aXpeacnwoKICAgICAgdGhpcy5mb3JtLkJpcnRoRGF5ID0gSWRObWJlci5zbGljZSg2LCAxMCkgKyAnLScgKyBJZE5tYmVyLnNsaWNlKDEwLCAxMikgKyAnLScgKyBJZE5tYmVyLnNsaWNlKDEyLCAxNCk7IC8vIOW5tOm+hAoKICAgICAgaWYgKElkTm1iZXIuc2xpY2UoNiwgMTQpLmxlbmd0aCA9PSA4KSB7CiAgICAgICAgdGhpcy5mb3JtLkFnZSA9IG15RGF0ZS5nZXRGdWxsWWVhcigpIC0gSWRObWJlci5zbGljZSg2LCAxMCkgLSAxOwoKICAgICAgICBpZiAoSWRObWJlci5zbGljZSgxMCwgMTIpIDwgbW9udGggfHwgSWRObWJlci5zbGljZSgxMCwgMTIpID09IG1vbnRoICYmIElkTm1iZXIuc2xpY2UoMTIsIDE0KSA8PSBkYXkpIHsKICAgICAgICAgIHRoaXMuZm9ybS5BZ2UrKzsKICAgICAgICB9IC8vIOaAp+WIqwoKCiAgICAgICAgaWYgKElkTm1iZXIubGVuZ3RoID09IDE3IHx8IElkTm1iZXIubGVuZ3RoID09IDE4KSB7CiAgICAgICAgICBpZiAoc2V4ICUgMiA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybS5TZXggPSAn5aWzJzsKICAgICAgICAgIH0gZWxzZSBpZiAoc2V4ICUgMiA9PSAxKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybS5TZXggPSAn55S3JzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL+iOt+WPlumAieaLqeWIsOeahOaCo+iAheS/oeaBrwogICAgZ2V0U2VsZWN0UmVzcG9uczogZnVuY3Rpb24gZ2V0U2VsZWN0UmVzcG9ucyhkYXRhKSB7CiAgICAgIHRoaXMuZm9ybS5OYW1lID0gZGF0YVswXS5OYW1lOwogICAgICB0aGlzLmZvcm0uQ2FyZE5vID0gZGF0YVswXS5DYXJkTm87CiAgICAgIHRoaXMuZm9ybS5QaG9uZSA9IGRhdGFbMF0uUGhvbmU7CiAgICAgIHRoaXMuZm9ybS5QZXJzb25JZCA9IGRhdGFbMF0uUGVyc29uSWQ7CiAgICB9LAogICAgLy8g6YCJ5oup5oKj6ICFCiAgICBjbGlja3BhdGllbnRzZWxlY3Q6IGZ1bmN0aW9uIGNsaWNrcGF0aWVudHNlbGVjdCgpIHsKICAgICAgdmFyIHBhcmFtID0gewogICAgICAgIHRpdGxlOiAn6YCJ5oup5oKj6ICFJywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIE9yZ2FuaXphdGlvbklkOiB0aGlzLmZvcm0uQWRtaW5Pcmdhbml6YXRpb24sCiAgICAgICAgbnVtOiAxCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnMucGF0aWVudHNlbGVjdGxpc3QuZ2V0RGV0YWlsKHBhcmFtKTsKICAgIH0sCiAgICAvLyDlrZflhbjmlbDmja7or7fmsYIKICAgIGZ1bnVzZWRpY3Rpb25hcnlkZXRhaWxzOiBmdW5jdGlvbiBmdW51c2VkaWN0aW9uYXJ5ZGV0YWlscyhwYXJhbXMpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciByZXMsIFN0YXR1c0NvZGUsIE1lc3NhZ2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF91c2VkaWN0aW9uYXJ5ZGV0YWlscyh7CiAgICAgICAgICAgICAgICAgIENhdGVnb3J5Q29kZTogWydBMDAyMScsICdBMDAwMycsICdBMDAxMycsICdBMDAxNCcsICdBMDAxNScsICdBMDAxNicsICdBMDAxNycsICdBMDAwMScsICdBMDAzOScsICdBMDA0MCcsICdBMDA0MScsICdBMDAyNCddLAogICAgICAgICAgICAgICAgICBQYWdlTnVtYmVyOiAxLAogICAgICAgICAgICAgICAgICBQYWdlU2l6ZTogOTAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgICBTdGF0dXNDb2RlID0gcmVzLlN0YXR1c0NvZGUsIE1lc3NhZ2UgPSByZXMuTWVzc2FnZTsKCiAgICAgICAgICAgICAgICBpZiAoISghcmVzIHx8IFN0YXR1c0NvZGUgIT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCBfdGhpczE0LiRiYXNlTWVzc2FnZShNZXNzYWdlIHx8ICfmlbDmja7ojrflj5blpLHotKUnLCAnZXJyb3InKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMTQuZGljdGFyciA9IHJlcy5SZXNwb25zZS5pdGVtczsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+Wtl+WFuOaVsOaNruWkhOeQhgogICAgZnVuZGljdGxpc3Q6IGZ1bmN0aW9uIGZ1bmRpY3RsaXN0KCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICB0aGlzLmRpY3RhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMDMnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDAzLnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMTMnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDEzLnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMTQnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDE0LnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMTUnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDE1LnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMTYnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDE2LnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMTcnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDE3LnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMDEnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDAxLnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMjEnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDIxLnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMzknKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDM5LnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwNDAnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDQwLnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwNDEnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDQxLnB1c2goaXRlbSk7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtLkNhdGVnb3J5Q29kZSA9PSAnQTAwMjQnKSB7CiAgICAgICAgICBfdGhpczE1LkEwMDI0LnB1c2goaXRlbSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmsrvnlpfmlrnmoYgKICAgIGZ1bnRyZWF0bWVudHBsYW50ZW1wbGF0ZXM6IGZ1bmN0aW9uIGZ1bnRyZWF0bWVudHBsYW50ZW1wbGF0ZXMocGFyYW1zKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0cmVhdG1lbnRwbGFudGVtcGxhdGVzKHsKICAgICAgICAgICAgICAgICAgUGFnZVNpemU6IDk5OQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTYuVHJlYXRtZW50UGxhbklkID0gcmVzLlJlc3BvbnNlLml0ZW1zOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdmb3JtLlRyZWF0bWVudFBsYW5JZCc6IGZ1bmN0aW9uIGZvcm1UcmVhdG1lbnRQbGFuSWQodmFsKSB7CiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5UcmVhdG1lbnRQbGFuSWQpIHsKICAgICAgICBpZiAodGhpcy5UcmVhdG1lbnRQbGFuSWRbaV0uVHJlYXRtZW50UGxhbklkID09IHRoaXMuZm9ybS5UcmVhdG1lbnRQbGFuSWQpIHsKICAgICAgICAgIHRoaXMuU3RyZW5ndGhlbmluZ1BlcmlvZERNVCA9IHRoaXMuVHJlYXRtZW50UGxhbklkW2ldLlN0cmVuZ3RoZW5pbmdQZXJpb2RETVQ7CiAgICAgICAgICB0aGlzLkNvbnNvbGlkYXRpb25QZXJpb2RNb250aCA9IHRoaXMuVHJlYXRtZW50UGxhbklkW2ldLkNvbnNvbGlkYXRpb25QZXJpb2RNb250aDsKICAgICAgICAgIHRoaXMuQ29uc29saWRhdGlvblBlcmlvZERNVCA9IHRoaXMuVHJlYXRtZW50UGxhbklkW2ldLkNvbnNvbGlkYXRpb25QZXJpb2RETVQ7CiAgICAgICAgICB0aGlzLlN0cmVuZ3RoZW5pbmdQZXJpb2RNb250aCA9IHRoaXMuVHJlYXRtZW50UGxhbklkW2ldLlN0cmVuZ3RoZW5pbmdQZXJpb2RNb250aDsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gJ2Zvcm0uWGlhbkFkbWluT3JnYW5pemF0aW9uJzogZnVuY3Rpb24odmFsKSB7CiAgICAvLyAJLy8gdGhpcy5mb3JtLk1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb24gPSAnJzsKICAgIC8vIAkvLyB0aGlzLmZvcm0uQWRtaW5Pcmdhbml6YXRpb249ICcnOwogICAgLy8gCXRoaXMuZ2V0TWVkaWNpbmVBZG1pbk9yZ2FuaXphdGlvbmxpc3QoKSAvL+acjeiNr+WNleS9jeWIl+ihqAogICAgLy8gfSwKICAgIC8vICdmb3JtLk1lZGljaW5lQWRtaW5Pcmdhbml6YXRpb24nOiBmdW5jdGlvbih2YWwpIHsKICAgIC8vIAkvLyB0aGlzLmZvcm0uQWRtaW5Pcmdhbml6YXRpb249ICcnOwogICAgLy8gCXRoaXMuZ2V0QWRtaW5Pcmdhbml6YXRpb25saXN0KCkgLy/nnaPlr7zljZXkvY3liJfooagKICAgIC8vIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["getOrganizationList","getorgcascader","getuserDrop","droporganizations","tuberculosisdiagnosiss","addtuberculosisdiagnosiss","edittuberculosisdiagnosiss","deletetuberculosisdiagnosiss","tuberculosisdiagnosissexcel","generatetreatmentnumber","tuberculosisdiagnosissmsg","pulmonaryclosesvisitandmedicine","addapplysettlement","pulmonarycloseslist","updatatuberculosisModify","components","patientSelect","OptionsEdit","name","data","title","Isdisabled","dialogVisible","flag","StrengtheningPeriodMonth","StrengtheningPeriodDMT","ConsolidationPeriodMonth","ConsolidationPeriodDMT","form","ContractStaffs","MedicineAdminOrganization","AdminOrganization","FileNumber","Name","RegisterTime","TreatmentPlanId","ContractStaffList","tenantData","options","propslist","value","label","children","checkStrictly","emitPath","lazy","lazyLoad","rules","required","message","trigger","Sex","Age","Phone","CardNo","RegistrationNo","TreatmentStartDate","XianAdminOrganization","FirstAdminOrganization","ContractStaff","DiagnosisType","PatientType","Sputum","DiagnosisTime","Responsibility","A0003","A0013","A0014","A0015","A0016","A0017","A0021","A0001","A0039","A0040","A0041","A0024","dictarr","XianAdminOrganizationlist","ShouAdminOrganizationlist","MedicineAdminOrganizationlist","AdminOrganizationlist","DiagnosisOrganizationIdlist","paParams","PageNumber","PageSize","copyform","created","methods","selectOrganizationName","getMedicineAdminOrganizationlist","OrganizationId","SelectOnly","res","getAdminOrganizationlist","selectMedicineAdminOrganization","pulmonarycloseslistmsg","allorganizationslist","IsAppoinOrganization","IsCDC","res2","res3","show","datetime","year","month","date","getarchivesnum","usedictionarydetails","params","CategoryCode","getorganizationlist","getDiagnosisOrganizationIdlist","getuserDropList","organizationId","selectOnly","item","node","resolve","level","Org_OrganizationId","then","chanceXianAdminOrganization","handlerEdit","changeOrg","handlerSave","obj","subData","Object","DiagnosisId","StatusCode","Message","close","chanceTreatmentPlanId","val","idCardNoChange","getSelectRespons","clickpatientselect","visible","num","funusedictionarydetails","fundictlist","funtreatmentplantemplates","treatmentplantemplates","watch"],"sourceRoot":"src/views/patientManagement/patientManagement/components","sources":["newEdit.vue"],"sourcesContent":["<template>\r\n  <el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" :close-on-click-modal=\"false\" width=\"80%\" top=\"20px\" @close=\"close\">\r\n    <div slot=\"title\" class=\"dialog-title\">\r\n      <div class=\"sectionstly\"></div>\r\n      <span class=\"title-text\">{{ title }}</span>\r\n      <div class=\"button-right\">\r\n        <span class=\"title-close\" @click=\"close\"></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"contentbox\">\r\n      <!-- <span class=\"headingstyles\"></span> -->\r\n\t  <div class=\"detailstitlo\">\r\n\t  \t<p class=\"xqtitolstyle\">基础信息</p>\r\n\t  </div>\r\n      <el-form class=\"form_row\" ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"150px\">\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"姓名: \">\r\n              <el-input v-model=\"form.Name\" disabled placeholder=\"患者姓名\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n\t\t  <el-col :span=\"2\">\r\n\t\t    <el-button style=\"margin-left: 10px;\"  type=\"primary\" v-if=\"!Isdisabled\" @click=\"clickpatientselect\">选择</el-button>\r\n\t\t  </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"证件号: \">\r\n              <el-input v-model=\"form.CardNo\" disabled placeholder=\"请输入内容\" @input=\"idCardNoChange\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"手机号: \">\r\n              <el-input v-model=\"form.Phone\" disabled placeholder=\"请输入内容\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\t\t<div class=\"detailstitlo\">\r\n\t\t\t<p class=\"xqtitolstyle\">确诊信息</p>\r\n\t\t</div>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"结核病类型: \">\r\n              <el-select v-model=\"form.DiagnosisType\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0013\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"患者类型: \" prop=\"PatientType\">\r\n              <el-select v-model=\"form.PatientType\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0014\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"病原学结果: \" prop=\"Sputum\">\r\n              <el-select v-model=\"form.Sputum\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0015\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"确诊日期: \" prop=\"DiagnosisTime\">\r\n              <el-date-picker align=\"center\" v-model=\"form.DiagnosisTime\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"病例类型: \" prop=\"DetectionPathway\">\r\n              <el-select v-model=\"form.DetectionPathway\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0016\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"是否耐药: \" prop=\"IsDrugResistance\">\r\n              <el-select v-model=\"form.IsDrugResistance\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0024\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"分子生物学检测: \" prop=\"MolecularBiologyResult\">\r\n              <el-select v-model=\"form.MolecularBiologyResult\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0040\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"胸片: \" prop=\"ChestRadiographyResult\">\r\n              <el-select v-model=\"form.ChestRadiographyResult\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0041\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"肝功能: \" prop=\"LiverFunctionResult\">\r\n              <el-select v-model=\"form.LiverFunctionResult\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0041\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"确诊机构: \" prop=\"DiagnosisOrganizationId\">\r\n              <el-select filterable v-model=\"form.DiagnosisOrganizationId\">\r\n                <el-option\r\n                  v-for=\"item in DiagnosisOrganizationIdlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"发现方式: \" prop=\"LiverFunctionResult\">\r\n              <el-select v-model=\"form.DiscoveryMode\" placeholder=\"请输入内容\">\r\n                <el-option v-for=\"item in A0039\" :key=\"item.DetailsCode\" :label=\"item.DetailsName\" :value=\"item.DetailsCode\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"首管理单位: \" prop=\"FirstAdminOrganization\">\r\n              <el-select filterable v-model=\"form.FirstAdminOrganization\">\r\n                <el-option\r\n                  v-for=\"item in ShouAdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"现管理单位: \" prop=\"XianAdminOrganization\">\r\n              <el-select filterable v-model=\"form.XianAdminOrganization\" @change=\"selectOrganizationName\">\r\n                <el-option\r\n                  v-for=\"item in XianAdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"服药单位: \" prop=\"MedicineAdminOrganization\">\r\n              <el-select filterable v-model=\"form.MedicineAdminOrganization\" @change=\"selectMedicineAdminOrganization\">\r\n                <el-option\r\n                  v-for=\"item in MedicineAdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"督导单位: \" prop=\"AdminOrganization\">\r\n              <el-select filterable v-model=\"form.AdminOrganization\" @change=\"changeOrg\">\r\n                <el-option\r\n                  v-for=\"item in AdminOrganizationlist\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.OrganizationName\"\r\n                  :value=\"item.OrganizationId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"责任医师: \" prop=\"Responsibility\">\r\n              <el-select filterable v-model=\"form.Responsibility\">\r\n                <el-option v-for=\"item in options\" :key=\"item.index\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"登记号: \">\r\n              <el-input v-model=\"form.RegistrationNo\" placeholder=\"请输入登记号\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"开始治疗日期 : \" prop=\"TreatmentStartDate\">\r\n              <el-date-picker align=\"center\" v-model=\"form.TreatmentStartDate\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"登记时间: \">\r\n              <el-date-picker align=\"center\" v-model=\"form.RegisterTime\" disabled type=\"date\" placeholder=\"选择日期时间\"></el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"结核病治疗卡编号: \" prop=\"FileNumber\">\r\n              <el-input v-model=\"form.FileNumber\" disabled placeholder=\"请输入结核病治疗卡编号\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"治疗方案\" prop=\"TreatmentPlanId\">\r\n              <el-select v-model=\"form.TreatmentPlanId\" placeholder=\"请输入内容\" @blur=\"chanceTreatmentPlanId\">\r\n                <el-option\r\n                  v-for=\"item in TreatmentPlanId\"\r\n                  :key=\"item.TreatmentPlanId\"\r\n                  :label=\"item.TreatmentPlanName\"\r\n                  :value=\"item.TreatmentPlanId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-button style=\"margin-left: 30px\" type=\"primary\"  @click=\"handlerEdit\">新增治疗方案</el-button>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"4\" class=\"el-colname\">\r\n            <label>强化期(月):</label>\r\n            <span>{{ StrengtheningPeriodMonth }}</span>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <label>强化期服药频率(次/天):</label>\r\n            <span>{{ StrengtheningPeriodDMT }}</span>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <label>巩固期(月):</label>\r\n            <span>{{ ConsolidationPeriodMonth }}</span>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <label>巩固期服药频率(次/天):</label>\r\n            <span>{{ ConsolidationPeriodDMT }}</span>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <div slot=\"footer\">\r\n      <el-button class=\"cancelbtn\" @click=\"close\">取 消</el-button>\r\n      <el-button class=\"savebtn\" type=\"primary\" @click=\"handlerSave\" :disabled=\"title == '详情'\">确 定</el-button>\r\n    </div>\r\n    <patientSelect ref=\"patientselectlist\" @selectSubmit=\"getSelectRespons\"></patientSelect>\r\n    <OptionsEdit ref=\"optionsedit\" @sumiteprogramme=\"funtreatmentplantemplates\"></OptionsEdit>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { usedictionarydetails } from '@/api/dict.js'\r\nimport {\r\n  getOrganizationList,\r\n  getorgcascader,\r\n  getuserDrop,\r\n  droporganizations,\r\n} from '@/api/organizationManagement.js';\r\nimport {\r\n  tuberculosisdiagnosiss,\r\n  addtuberculosisdiagnosiss,\r\n  edittuberculosisdiagnosiss,\r\n  deletetuberculosisdiagnosiss,\r\n  tuberculosisdiagnosissexcel,\r\n  generatetreatmentnumber,\r\n  tuberculosisdiagnosissmsg\r\n} from '@/api/TuberculosisDiagnosis.js'\r\nimport {\r\n  pulmonaryclosesvisitandmedicine,\r\n  addapplysettlement,\r\n  pulmonarycloseslist,\r\n  updatatuberculosisModify\r\n} from '@/api/PulmonaryClose.js'\r\nimport OptionsEdit from '../components/tabComponents/echeatComponents/optionsEdit.vue' //./echeatComponents/optionsEdit.vue\r\nimport { treatmentplantemplates } from '@/api/TreatmentPlanTemplate.js'\r\nimport patientSelect from '../components/patientSelect.vue'\r\nexport default {\r\n  components: {\r\n    patientSelect,\r\n    OptionsEdit\r\n  },\r\n  name: \"Edit\",\r\n  data () {\r\n    return {\r\n      title: \"新增治疗卡\",\r\n      Isdisabled: false,\r\n      // 弹窗的开关\r\n      dialogVisible: false,\r\n      flag: \"\",\r\n      StrengtheningPeriodMonth: '',\r\n      StrengtheningPeriodDMT: '',\r\n      ConsolidationPeriodMonth: '',\r\n      ConsolidationPeriodDMT: '',\r\n      form: {\r\n        ContractStaffs: [],\r\n        MedicineAdminOrganization: \"\",\r\n        AdminOrganization: \"\",\r\n        FileNumber: '',\r\n        Name: '',\r\n        RegisterTime:\"\",\r\n      },\r\n      TreatmentPlanId: [],\r\n      ContractStaffList: [],\r\n      tenantData: [], //行政区域\r\n      options: [], //医师\r\n      propslist: {\r\n        value: \"OrganizationId\",\r\n        label: \"OrganizationName\",\r\n        children: \"Children\",\r\n        checkStrictly: true,\r\n        emitPath: false,\r\n        lazy: true,\r\n        lazyLoad: this.lazyLoad\r\n      },\r\n      //  表单验证\r\n      rules: {\r\n        FileNumber: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        Name: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        Sex: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        Age: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        Phone: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        CardNo: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        RegistrationNo: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        TreatmentStartDate: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"blur\"\r\n        },],\r\n        XianAdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择现管理单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        MedicineAdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择服药单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        AdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择督导单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        FirstAdminOrganization: [{\r\n          required: true,\r\n          message: \"请选择首管单位\",\r\n          trigger: \"blur\"\r\n        },],\r\n        ContractStaff: [{\r\n          required: true,\r\n          message: \"请至少选择一项\",\r\n          trigger: \"change\"\r\n        },],\r\n        DiagnosisType: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        PatientType: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        Sputum: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        // DiagnosisOrganizationId: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        DiagnosisTime: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        // DetectionPathway: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // IsDrugResistance: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // MolecularBiologyResult: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // ChestRadiographyResult: [{\r\n        //   required: true,\r\n        //   message: \"请输入\",\r\n        //   trigger: \"change\"\r\n        // },],\r\n        // LiverFunctionResult: [{\r\n        //   required: true,\r\n        //   message: \"请选择\",\r\n        //   trigger: \"blur\"\r\n        // },],\r\n        Responsibility: [{\r\n          required: true,\r\n          message: \"请选择\",\r\n          trigger: \"blur\"\r\n        },],\r\n        RegisterTime: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n        TreatmentPlanId: [{\r\n          required: true,\r\n          message: \"请输入\",\r\n          trigger: \"change\"\r\n        },],\r\n      },\r\n      A0003: [],\r\n      A0013: [],\r\n      A0014: [],\r\n      A0015: [],\r\n      A0016: [],\r\n      A0017: [],\r\n      A0021: [],\r\n      A0001: [],\r\n      A0039: [],\r\n\t  A0040:[],\r\n\t  A0041:[],\r\n\t  A0024:[],\r\n      dictarr: [],\r\n      XianAdminOrganizationlist: [], //现管机构\r\n      ShouAdminOrganizationlist: [],//首管理单位\r\n      MedicineAdminOrganizationlist: [], //服药单位\r\n      AdminOrganizationlist: [], //督导机构\r\n      DiagnosisOrganizationIdlist: [], //确诊机构\r\n      paParams: {\r\n        PageNumber: 1,\r\n        PageSize: 60,\r\n      },\r\n      copyform: {},\r\n\r\n    };\r\n  },\r\n  async created () {\r\n    // 字典\r\n    await this.funusedictionarydetails()\r\n    this.fundictlist()\r\n    await this.funtreatmentplantemplates()\r\n    await this.usedictionarydetails()\r\n    await this.getorganizationlist() //获取机构列表\r\n    // await this.getuserDropList() //根据机构获取用户下拉列表\r\n    // this.form.RegisterTime = \r\n  },\r\n  methods: {\r\n    //选择现管理单位\r\n    selectOrganizationName () {\r\n      this.form.MedicineAdminOrganization = '';\r\n      this.form.AdminOrganization = '';\r\n      this.getMedicineAdminOrganizationlist() //服药单位列表\r\n    },\r\n    //获取服药单位列表 \r\n    async getMedicineAdminOrganizationlist () {\r\n      if (this.form.XianAdminOrganization) {\r\n        const res = await droporganizations({\r\n          OrganizationId: this.form.XianAdminOrganization,\r\n          SelectOnly: false,\r\n          PageSize: 9999\r\n        });\r\n        this.MedicineAdminOrganizationlist = res.Response;\r\n      }\r\n    },\r\n    //获取督导机构列表 \r\n    async getAdminOrganizationlist () {\r\n      if (this.form.MedicineAdminOrganization) {\r\n        const res = await droporganizations({\r\n          OrganizationId: this.form.MedicineAdminOrganization,\r\n          SelectOnly: false,\r\n          PageSize: 9999\r\n        });\r\n        this.AdminOrganizationlist = res.Response;\r\n\r\n      }\r\n    },\r\n    //选择服药单位\r\n    selectMedicineAdminOrganization () {\r\n      this.form.AdminOrganization = '';\r\n      this.getAdminOrganizationlist() //督导单位列表\r\n    },\r\n    //根据主键获取全部信息\r\n    async pulmonarycloseslistmsg (data) {\r\n      const res = await tuberculosisdiagnosissmsg(data.DiagnosisId)\r\n      this.form = {\r\n        ...res.Response\r\n      }\r\n      await this.getuserDropList() //根据机构获取用户下拉列表\r\n      this.copyform = {\r\n        ...res.Response\r\n      }\r\n    },\r\n    //加载所有机构\r\n    async allorganizationslist () {\r\n      const res = await droporganizations({\r\n        IsAppoinOrganization: true\r\n      })\r\n      this.DiagnosisOrganizationIdlist = res.Response;\r\n      const res2 = await droporganizations({\r\n        IsCDC: true\r\n      })\r\n      this.ShouAdminOrganizationlist = res2.Response;\r\n      const res3 = await droporganizations({\r\n        OrganizationId: this.$utilsFun.getUserInfo().authOrgId,\r\n        SelectOnly: false,\r\n        IsCDC: true,\r\n      })\r\n      this.XianAdminOrganizationlist = res3.Response;\r\n    },\r\n    // 确认新增？修改\r\n    async show (flag, data) {\r\n      this.dialogVisible = true;\r\n      this.flag = flag;\r\n      if (flag == \"add\") {\r\n        this.title = \"新增病案\";\r\n        this.Isdisabled = false;\r\n        this.form.OperatorNameFirst = this.$utilsFun.getUserInfo().real_Name //给建档人默认当前人\r\n        var datetime = new Date();\r\n        var year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n        var month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n        var date = datetime.getDate(); //获取日(返回1-31)\r\n        //判断小于等于9月的时候在月份前加一个\"0\"\r\n        if (month <= 9) {\r\n          month = \"0\" + month;\r\n        }\r\n        //判断小于等于9号的时候在天数前加一个\"0\"\r\n        if (date <= 9) {\r\n          date = \"0\" + date;\r\n        }\r\n        this.form.OperateTimeFirst = year + \"-\" + month + \"-\" + date; //给建档时间默认当前\r\n\t\tthis.form.RegisterTime = year + \"-\" + month + \"-\" + date;\r\n        this.StrengtheningPeriodDMT = '';\r\n        this.ConsolidationPeriodMonth = '';\r\n        this.ConsolidationPeriodDMT = '';\r\n        this.StrengtheningPeriodMonth = '';\r\n        this.getarchivesnum() //获取档案编号\r\n        this.getorganizationlist() //获取机构列表\r\n        this.allorganizationslist() //所有机构列表\r\n      } else if (flag == \"edit\") {\r\n        this.title = \"编辑\";\r\n        this.Isdisabled = true;\r\n        await this.pulmonarycloseslistmsg(data)\r\n        await this.allorganizationslist() //所有机构列表\r\n        await this.getorganizationlist() //获取机构列表\r\n        await this.getMedicineAdminOrganizationlist() //服药单位列表\r\n        await this.getAdminOrganizationlist()//督导机构列表\r\n      } else if (flag == 'recurrence') {\r\n        this.title = \"复发\";\r\n        this.Isdisabled = true;\r\n        await this.pulmonarycloseslistmsg(data)\r\n        await this.getarchivesnum() //获取档案编号\r\n        await this.allorganizationslist() //所有机构列表\r\n        await this.getorganizationlist() //获取机构列表\r\n        await this.getMedicineAdminOrganizationlist() //服药单位列表\r\n        await this.getAdminOrganizationlist()//督导机构列表\r\n        this.form.PatientType = '2' //复治\r\n\t\tvar datetime = new Date();\r\n\t\tvar year = datetime.getFullYear(); //获取完整的年份(4位,如:1970)\r\n\t\tvar month = datetime.getMonth() + 1; //获取月份(返回0-11,0代表1月,用的时候记得加上1)\r\n\t\tvar date = datetime.getDate(); //获取日(返回1-31)\r\n\t\t//判断小于等于9月的时候在月份前加一个\"0\"\r\n\t\tif (month <= 9) {\r\n\t\t  month = \"0\" + month;\r\n\t\t}\r\n\t\t//判断小于等于9号的时候在天数前加一个\"0\"\r\n\t\tif (date <= 9) {\r\n\t\t  date = \"0\" + date;\r\n\t\t}\r\n\t\tthis.form.RegisterTime = year + \"-\" + month + \"-\" + date;\r\n      }\r\n    },\r\n    //获取档案编号\r\n    async getarchivesnum () {\r\n      const res = await generatetreatmentnumber();\r\n      this.form.FileNumber = res;\r\n    },\r\n    //人群属性\r\n    async usedictionarydetails (params) {\r\n      const res = await usedictionarydetails({\r\n        CategoryCode: 'A0021'\r\n      })\r\n      this.ContractStaffList = res.Response.items\r\n    },\r\n    //获取机构列表\r\n    async getorganizationlist () {\r\n      // this.form.DiagnosisOrganizationId = this.$utilsFun.getUserInfo().authOrgId; //this.$utilsFun.getUserInfo().authOrgId'360111000'\r\n      const res = await getorgcascader(this.form.DiagnosisOrganizationId);\r\n      // for(let i in res.Response){\r\n      // \tres.Response[i]['label']=res.Response[i].OrganizationName\r\n      // \tres.Response[i]['value']=res.Response[i].OrganizationId\r\n      // }\r\n      this.tenantData = res.Response;\r\n    },\r\n    //获取确诊机构列表\r\n    async getDiagnosisOrganizationIdlist () {\r\n      const res = await getOrganizationList({\r\n        // IsAppoinOrganization: true,\r\n        PageSize: 9999\r\n        // IsCDC: true,\r\n      });\r\n      this.DiagnosisOrganizationIdlist = res.Response.items;\r\n      this.XianAdminOrganizationlist = res.Response.items;\r\n      this.MedicineAdminOrganizationlist = res.Response.items;\r\n      this.AdminOrganizationlist = res.Response.items;\r\n    },\r\n    //医师下拉框\r\n    async getuserDropList () {\r\n      var organizationId = this.form.AdminOrganization;\r\n      var selectOnly = true;\r\n      const res = await getuserDrop(organizationId, selectOnly);\r\n      this.options = []; //下拉列表\r\n      if (res.Response.length !== 0) {\r\n        if (res.Response.length == 1) {\r\n          this.form.Responsibility = res.Response[0].Id;\r\n\r\n        }\r\n        for (let item of res.Response) {\r\n          this.options.push({\r\n            label: item.Name,\r\n            value: item.Id,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    async lazyLoad (node, resolve) {\r\n      let {\r\n        level\r\n      } = node;\r\n      let params = node.value\r\n      getOrganizationList({\r\n        Org_OrganizationId: params,\r\n        PageNumber: 1,\r\n        PageSize: 9999,\r\n      }).then(res => { //接口\r\n        if (res && res.StatusCode == 200) {\r\n          let data = [res.Response]\r\n          if (level > 0) {\r\n            data = res.Response.items\r\n          }\r\n          resolve(data);\r\n        } else {\r\n          this.$message.error('获取地区数据失败')\r\n        }\r\n      })\r\n    },\r\n    chanceXianAdminOrganization () {\r\n    },\r\n    //新增治疗方案\r\n    handlerEdit (flag, data) {\r\n      data = this.TreatmentPlanId;\r\n      this.$refs.optionsedit.show(flag, data)\r\n    },\r\n    //选择行政区域\r\n    changeOrg (value) {\r\n      this.form.AdminOrganization = value;\r\n      this.options = [];\r\n      this.form.Responsibility = '';\r\n      this.getuserDropList()\r\n    },\r\n    // 保存\r\n    handlerSave () {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (!valid) return;\r\n        this.hasinfo = [];\r\n        for (let key in this.form) {\r\n          let obj = {};\r\n          if (this.form[key] !== this.copyform[key]) {\r\n            obj.op = 'replace',\r\n              obj.value = this.form[key];\r\n            obj.path = key;\r\n            this.hasinfo.push(obj)\r\n          }\r\n        }\r\n        this.$baseConfirm(`确认要${this.title}此项目吗？`, null, async () => {\r\n          let subData = Object.assign({}, this.form)\r\n          if (this.flag == 'add') {\r\n            const res = await addtuberculosisdiagnosiss(subData)\r\n            this.$emit(\"sumite\")\r\n            this.$baseMessage('操作成功', \"success\")\r\n            // this.$emit(\"newedit\", this.flag, subData);\r\n            this.close();\r\n          } else if (this.flag == 'edit') {\r\n            const DiagnosisId = subData.DiagnosisId\r\n            const res = await edittuberculosisdiagnosiss(DiagnosisId, this.hasinfo)\r\n            let {\r\n              StatusCode,\r\n              Message\r\n            } = res;\r\n            if (StatusCode != 200) {\r\n              return this.$baseMessage(\r\n                Message || '修改失败', 'error'\r\n              )\r\n            } else {\r\n              this.$baseMessage('修改成功', \"success\")\r\n              this.$emit(\"sumite\")\r\n              this.close();\r\n            }\r\n          } else if (this.flag == 'recurrence') {\r\n            const res = await addtuberculosisdiagnosiss({\r\n              ...this.Personform,\r\n              ...this.form,\r\n            })\r\n            this.$emit('sumite');\r\n            this.close();\r\n            this.$baseMessage('操作成功', \"success\")\r\n            this.$router.push('/patientManagement/patientManagement/index')\r\n          }\r\n        });\r\n      });\r\n    },\r\n    close () {\r\n      this.dialogVisible = false;\r\n      // 重置数据(封装的方法)\r\n      this.form = this.$options.data().form;\r\n      this.$refs[\"form\"].resetFields();\r\n    },\r\n    //治疗方案下拉\r\n    chanceTreatmentPlanId (val) {\r\n    },\r\n    idCardNoChange () {\r\n      const IdNmber = this.form.CardNo\r\n      const sex = IdNmber.slice(16, 17)\r\n      const myDate = new Date();\r\n      const month = myDate.getMonth() + 1;\r\n      const day = myDate.getDate();\r\n      //出生日期\r\n      this.form.BirthDay = IdNmber.slice(6, 10) + '-' + IdNmber.slice(10, 12) + '-' + IdNmber.slice(12, 14)\r\n      // 年龄\r\n      if (IdNmber.slice(6, 14).length == 8) {\r\n        this.form.Age = myDate.getFullYear() - IdNmber.slice(6, 10) - 1\r\n        if (IdNmber.slice(10, 12) < month || IdNmber.slice(10, 12) == month && IdNmber.slice(12, 14) <= day) {\r\n          this.form.Age++\r\n        }\r\n        // 性别\r\n        if (IdNmber.length == 17 || IdNmber.length == 18) {\r\n          if (sex % 2 == 0) {\r\n            this.form.Sex = '女'\r\n          } else if (sex % 2 == 1) {\r\n            this.form.Sex = '男'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    //获取选择到的患者信息\r\n    getSelectRespons (data) {\r\n      this.form.Name = data[0].Name\r\n      this.form.CardNo = data[0].CardNo\r\n      this.form.Phone = data[0].Phone\r\n      this.form.PersonId = data[0].PersonId;\r\n    },\r\n    // 选择患者\r\n    clickpatientselect () {\r\n      var param = {\r\n        title: '选择患者',\r\n        visible: true,\r\n        OrganizationId: this.form.AdminOrganization,\r\n        num: 1\r\n      }\r\n      this.$refs.patientselectlist.getDetail(param)\r\n    },\r\n    // 字典数据请求\r\n    async funusedictionarydetails (params) {\r\n      const res = await usedictionarydetails({\r\n        CategoryCode: ['A0021', 'A0003', 'A0013', 'A0014', 'A0015', 'A0016', 'A0017', 'A0001', 'A0039','A0040','A0041','A0024'],\r\n        PageNumber: 1,\r\n        PageSize: 90\r\n      })\r\n      let {\r\n        StatusCode,\r\n        Message\r\n      } = res\r\n      if (!res || StatusCode !== 200) {\r\n        return this.$baseMessage(Message || '数据获取失败', 'error')\r\n      }\r\n      this.dictarr = res.Response.items\r\n    },\r\n    //字典数据处理\r\n    fundictlist () {\r\n      this.dictarr.forEach(item => {\r\n        if (item.CategoryCode == 'A0003') {\r\n          this.A0003.push(item)\r\n        } else if (item.CategoryCode == 'A0013') {\r\n          this.A0013.push(item)\r\n        } else if (item.CategoryCode == 'A0014') {\r\n          this.A0014.push(item)\r\n        } else if (item.CategoryCode == 'A0015') {\r\n          this.A0015.push(item)\r\n        } else if (item.CategoryCode == 'A0016') {\r\n          this.A0016.push(item)\r\n        } else if (item.CategoryCode == 'A0017') {\r\n          this.A0017.push(item)\r\n        } else if (item.CategoryCode == 'A0001') {\r\n          this.A0001.push(item)\r\n        } else if (item.CategoryCode == 'A0021') {\r\n          this.A0021.push(item)\r\n        } else if (item.CategoryCode == 'A0039') {\r\n          this.A0039.push(item)\r\n        } else if (item.CategoryCode == 'A0040') {\r\n          this.A0040.push(item)\r\n        }else if (item.CategoryCode == 'A0041') {\r\n          this.A0041.push(item)\r\n        }else if (item.CategoryCode == 'A0024') {\r\n          this.A0024.push(item)\r\n        }\r\n      })\r\n    },\r\n    // 治疗方案\r\n    async funtreatmentplantemplates (params) {\r\n\t  \r\n      const res = await treatmentplantemplates({\r\n\t\t  PageSize:999\r\n\t  })\r\n      this.TreatmentPlanId = res.Response.items\r\n    }\r\n\r\n  },\r\n  watch: {\r\n    'form.TreatmentPlanId': function (val) {\r\n      for (let i in this.TreatmentPlanId) {\r\n        if (this.TreatmentPlanId[i].TreatmentPlanId == this.form.TreatmentPlanId) {\r\n          this.StrengtheningPeriodDMT = this.TreatmentPlanId[i].StrengtheningPeriodDMT;\r\n          this.ConsolidationPeriodMonth = this.TreatmentPlanId[i].ConsolidationPeriodMonth;\r\n          this.ConsolidationPeriodDMT = this.TreatmentPlanId[i].ConsolidationPeriodDMT;\r\n          this.StrengtheningPeriodMonth = this.TreatmentPlanId[i].StrengtheningPeriodMonth;\r\n        }\r\n      }\r\n    },\r\n    // 'form.XianAdminOrganization': function(val) {\r\n    // \t// this.form.MedicineAdminOrganization = '';\r\n    // \t// this.form.AdminOrganization= '';\r\n    // \tthis.getMedicineAdminOrganizationlist() //服药单位列表\r\n    // },\r\n    // 'form.MedicineAdminOrganization': function(val) {\r\n    // \t// this.form.AdminOrganization= '';\r\n    // \tthis.getAdminOrganizationlist() //督导单位列表\r\n    // }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=scss scoped>\r\n.el-row {\r\n  margin: 1px 0;\r\n}\r\n\r\n.contentbox {\r\n  height: 600px;\r\n}\r\n\r\n.el-colname {\r\n  margin-left: 60px;\r\n}\r\n\r\n.headingstyles {\r\n  line-height: 25px;\r\n}\r\n</style>\r\n"]}]}